import{r as d,a as $e,R as he}from"./vendor-nf7bT_Uh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var fe={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=d,Ce=Symbol.for("react.element"),Ee=Symbol.for("react.fragment"),Ae=Object.prototype.hasOwnProperty,Me=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Le={key:!0,ref:!0,__self:!0,__source:!0};function be(s,t,a){var r,n={},l=null,i=null;a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ae.call(t,r)&&!Le.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Ce,type:s,key:l,ref:i,props:n,_owner:Me.current}}K.Fragment=Ee;K.jsx=be;K.jsxs=be;fe.exports=K;var e=fe.exports,ae={},de=$e;ae.createRoot=de.createRoot,ae.hydrateRoot=de.hydrateRoot;const Te=(s,t)=>t?s.toLocaleTimeString("es-ES",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):s.toLocaleTimeString("es-ES",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"}),Pe=(s,t)=>{if(t)return s;{const[a,r]=s.split(":"),n=parseInt(a),l=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${r} ${l}`}},ze=s=>s.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Re=(s,t)=>t?{low:"from-blue-600 to-cyan-600",normal:"from-green-600 to-emerald-600",high:"from-yellow-600 to-orange-600",urgent:"from-red-600 to-pink-600"}[s]:{low:"from-blue-400 to-cyan-400",normal:"from-green-400 to-emerald-400",high:"from-yellow-400 to-orange-400",urgent:"from-red-400 to-pink-400"}[s],De=s=>({low:"🔵 BAJA",normal:"🟢 NORMAL",high:"🟡 ALTA",urgent:"🔴 URGENTE"})[s],_e=(s,t)=>{if(!s.enabled)return!1;const a=t.toTimeString().slice(0,5),r=t.getDay();return s.time!==a?!1:s.days.length===0?!0:s.days.includes(r)},Ie=s=>{const t=new Date;return t.setMinutes(t.getMinutes()+s),{time:t.toTimeString().slice(0,5),label:`Alarma rápida ${s} min`,days:[],sound:"gentle",enabled:!0,priority:"high",vibrate:!0,gradualWake:!1}},Oe=(s,t,a=5)=>{const r=new Date;r.setMinutes(r.getMinutes()+a);const n=r.toTimeString().slice(0,5);return{...s,time:n,label:`${s.label} (Snooze ${t+1})`,days:[]}},Fe=s=>{const t=[];return s.time||t.push("La hora es requerida"),s.label.trim()||t.push("La etiqueta es requerida"),s.label.length>50&&t.push("La etiqueta no puede exceder 50 caracteres"),t},Be=()=>{const[s,t]=d.useState([]),[a,r]=d.useState(null);d.useEffect(()=>{const o=localStorage.getItem("alarmaPro_alarms");if(o)try{t(JSON.parse(o))}catch(m){console.error("Error loading alarms from localStorage:",m)}},[]),d.useEffect(()=>{localStorage.setItem("alarmaPro_alarms",JSON.stringify(s))},[s]),d.useEffect(()=>{const o=setInterval(()=>{const m=new Date;s.forEach(h=>{_e(h,m)&&!a&&u(h)})},1e3);return()=>clearInterval(o)},[s,a]);const n=d.useCallback(o=>{const m={...o,id:Date.now()};t(h=>[...h,m])},[]),l=d.useCallback((o,m)=>{t(h=>h.map(j=>j.id===o?{...m,id:o}:j))},[]),i=d.useCallback(o=>{t(m=>m.filter(h=>h.id!==o))},[]),c=d.useCallback(o=>{t(m=>m.map(h=>h.id===o?{...h,enabled:!h.enabled}:h))},[]),u=d.useCallback(o=>{r(o)},[]),x=d.useCallback(()=>{r(null)},[]);return{alarms:s,activeAlarm:a,addAlarm:n,updateAlarm:l,deleteAlarm:i,toggleAlarm:c,dismissAlarm:x,triggerAlarm:u}},Ue=()=>{const[s,t]=d.useState(new Date);return d.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]),s},me={isDarkMode:!0,is24HourFormat:!0,theme:"purple",voiceEnabled:!1,animationStyle:"smooth",alarmVolume:80},Ve=()=>{const[s,t]=d.useState(me);d.useEffect(()=>{const u=localStorage.getItem("alarmaPro_settings");if(u)try{const x=JSON.parse(u);t({...me,...x})}catch(x){console.error("Error loading settings:",x)}},[]),d.useEffect(()=>{localStorage.setItem("alarmaPro_settings",JSON.stringify(s))},[s]);const a=(u,x)=>{t(o=>({...o,[u]:x}))};return{settings:s,updateSetting:a,toggleDarkMode:()=>{a("isDarkMode",!s.isDarkMode)},toggleTimeFormat:()=>{a("is24HourFormat",!s.is24HourFormat)},toggleVoice:()=>{a("voiceEnabled",!s.voiceEnabled)},setTheme:u=>{a("theme",u)},setVolume:u=>{a("alarmVolume",Math.max(0,Math.min(100,u)))}}},We=(s=3)=>{const[t,a]=d.useState(!1),[r,n]=d.useState(0),l=r<s,i=d.useCallback(()=>{l&&(n(u=>u+1),a(!0),setTimeout(()=>{a(!1)},2e3))},[l]),c=d.useCallback(()=>{n(0),a(!1)},[]);return{isSnoozing:t,snoozeCount:r,canSnooze:l,snooze:i,resetSnooze:c}};function qe(){const[s,t]=d.useState({batteryLevel:null,charging:null,networkType:null,effectiveType:null,online:typeof navigator<"u"?navigator.onLine:!0});return d.useEffect(()=>{let a=null,r,n=null,l=null,i=null;const c=()=>t(o=>({...o,online:navigator.onLine})),u=async()=>{try{if(navigator.getBattery){a=await navigator.getBattery();const o=()=>t(m=>({...m,batteryLevel:Math.round((a.level??0)*100),charging:!!a.charging}));o(),n=()=>o(),l=()=>o(),a.addEventListener("levelchange",n),a.addEventListener("chargingchange",l)}}catch{}},x=()=>{if(r=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r){const o=()=>t(m=>({...m,networkType:r.type||"unknown",effectiveType:r.effectiveType||null}));o(),i=()=>o(),r.addEventListener("change",i)}};return u(),x(),window.addEventListener("online",c),window.addEventListener("offline",c),()=>{if(window.removeEventListener("online",c),window.removeEventListener("offline",c),a)try{n&&a.removeEventListener("levelchange",n),l&&a.removeEventListener("chargingchange",l)}catch{}if(r&&i)try{r.removeEventListener("change",i)}catch{}}},[]),s}const ve=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],He={purple:{from:"from-purple-900",to:"to-indigo-900",accent:"purple-600",light:"from-purple-50 to-indigo-50"},ocean:{from:"from-blue-900",to:"to-cyan-900",accent:"blue-600",light:"from-blue-50 to-cyan-50"},sunset:{from:"from-orange-900",to:"to-red-900",accent:"orange-600",light:"from-orange-50 to-red-50"},forest:{from:"from-green-900",to:"to-emerald-900",accent:"green-600",light:"from-green-50 to-emerald-50"},cosmic:{from:"from-violet-900",to:"to-pink-900",accent:"violet-600",light:"from-violet-50 to-pink-50"}},ue={purple:"🟣",ocean:"🌊",sunset:"🌅",forest:"🌲",cosmic:"🌌"},ye={purple:"#9333ea",ocean:"#2563eb",sunset:"#ea580c",forest:"#16a34a",cosmic:"#7c3aed"},Je={purple:{start:"#9333ea",end:"#6366f1"},ocean:{start:"#2563eb",end:"#06b6d4"},sunset:{start:"#ea580c",end:"#ef4444"},forest:{start:"#16a34a",end:"#22c55e"},cosmic:{start:"#7c3aed",end:"#db2777"}},Ye={purple:{variant:"ribbons",colors:["#a78bfa","#f0abfc","#c4b5fd","#f5d0fe"]},ocean:{variant:"bezier",colors:["#38bdf8","#22d3ee","#60a5fa","#06b6d4"]},sunset:{variant:"bars",colors:["#fb7185","#f97316","#f59e0b","#ef4444"]},forest:{variant:"dots",colors:["#34d399","#86efac","#22c55e","#a3e635"]},cosmic:{variant:"ribbons",colors:["#a78bfa","#f472b6","#60a5fa","#c084fc"]}},Ge={gentle:{name:"🎵 Suave Despertar",description:"Melodía relajante"},energetic:{name:"⚡ Power Up",description:"Energía máxima"},nature:{name:"🌊 Sonidos Naturales",description:"Aves y agua"},classic:{name:"⏰ Clásico Digital",description:"Beep tradicional"},binaural:{name:"🧠 Binaural",description:"Frecuencias cerebrales"},piano:{name:"🎹 Piano Suave",description:"Notas de piano"},cosmic:{name:"🌌 Cósmico",description:"Sonidos del espacio"}},Xe=[{minutes:5,label:"5 min",icon:"☕"},{minutes:10,label:"10 min",icon:"⏱️"},{minutes:15,label:"15 min",icon:"☕"},{minutes:20,label:"20 min",icon:"🏃"},{minutes:30,label:"30 min",icon:"🎯"},{minutes:60,label:"1 hora",icon:"⏰"}],Ke={time:"",label:"",days:[],sound:"gentle",enabled:!0,priority:"normal",vibrate:!0,gradualWake:!1},Qe=5,xe=3,Ze=({theme:s,isDarkMode:t=!0,width:a=360,height:r=80,className:n=""})=>{const l=d.useRef(null);return d.useEffect(()=>{const i=l.current;if(!i)return;const c=i.getContext("2d");if(!c)return;i.width=a,i.height=r;const u=Ye[s],x=ye[s];let o=0;const m=performance.now(),h=w=>{const g=(w-m)*.0015;c.clearRect(0,0,a,r),u.colors.forEach((p,b)=>{c.beginPath(),c.lineWidth=2,c.strokeStyle=p,c.globalAlpha=t?.8:.6;for(let y=0;y<=a;y++){const E=r/2+Math.sin(y*.02+g*(.8+b*.2))*(10+b*3);y===0?c.moveTo(y,E):c.lineTo(y,E)}c.stroke()})},j=w=>{const g=(w-m)*.002;c.clearRect(0,0,a,r);const p=40,b=a/p;for(let y=0;y<p;y++){const P=10+(Math.sin(y*.5+g*2)+1)/2*(r-20),z=u.colors[y%u.colors.length];c.fillStyle=z,c.globalAlpha=t?.8:.7,c.fillRect(y*b+1,(r-P)/2,b-2,P)}},A=w=>{const g=(w-m)*.0018;c.clearRect(0,0,a,r);const p=3,b=40;for(let y=0;y<p;y++)for(let E=0;E<b;E++){const P=(E+.5)*(a/b),D=(y+1)*(r/(p+1))+Math.sin(E*.4+g*(1+y*.3))*8;c.beginPath(),c.fillStyle=u.colors[(y+E)%u.colors.length],c.globalAlpha=t?.85:.75,c.arc(P,D,2.2+y*.3,0,Math.PI*2),c.fill()}},k=w=>{const g=(w-m)*.0012;c.clearRect(0,0,a,r);for(let b=0;b<4;b++){c.beginPath(),c.lineWidth=2,c.strokeStyle=u.colors[b%u.colors.length],c.globalAlpha=t?.8:.6,c.moveTo(0,r/2);const y=r/2+Math.sin(g*(1.2+b*.3))*18,E=r/2+Math.cos(g*(1+b*.2))*18;c.bezierCurveTo(a*.33,y,a*.66,E,a,r/2),c.stroke()}const p=c.createLinearGradient(0,0,0,r);p.addColorStop(0,x+"00"),p.addColorStop(.5,x+"22"),p.addColorStop(1,x+"00"),c.fillStyle=p,c.fillRect(0,0,a,r)},C=w=>{switch(u.variant){case"bars":j(w);break;case"dots":A(w);break;case"bezier":k(w);break;default:h(w);break}o=requestAnimationFrame(C)};return C(performance.now()),()=>cancelAnimationFrame(o)},[s,t,a,r]),e.jsx("canvas",{ref:l,className:`rounded-xl opacity-80 ${n}`,style:{width:a,height:r}})},M=({variant:s="primary",size:t="md",isLoading:a=!1,isDarkMode:r,themeType:n="purple",children:l,className:i="",disabled:c,...u})=>{const x="font-semibold rounded-xl transition-all duration-300 transform sm:hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",o={purple:"bg-gradient-to-r from-purple-600 to-indigo-600 focus:ring-purple-500 hover:from-purple-700 hover:to-indigo-700",ocean:"bg-gradient-to-r from-blue-600 to-cyan-600 focus:ring-blue-500 hover:from-blue-700 hover:to-cyan-700",sunset:"bg-gradient-to-r from-orange-600 to-red-500 focus:ring-orange-500 hover:from-orange-700 hover:to-red-600",forest:"bg-gradient-to-r from-green-600 to-emerald-600 focus:ring-green-500 hover:from-green-700 hover:to-emerald-700",cosmic:"bg-gradient-to-r from-violet-600 to-rose-600 focus:ring-violet-500 hover:from-violet-700 hover:to-rose-700"},m={purple:"bg-white text-gray-900 border border-purple-400 hover:bg-gray-50 focus:ring-purple-400",ocean:"bg-white text-gray-900 border border-blue-400 hover:bg-gray-50 focus:ring-blue-400",sunset:"bg-white text-gray-900 border border-orange-400 hover:bg-gray-50 focus:ring-orange-400",forest:"bg-white text-gray-900 border border-green-400 hover:bg-gray-50 focus:ring-green-400",cosmic:"bg-white text-gray-900 border border-violet-400 hover:bg-gray-50 focus:ring-violet-400"},h={purple:"bg-purple-50/40 hover:bg-purple-50 text-purple-700 border border-purple-200 focus:ring-purple-300",ocean:"bg-blue-50/40 hover:bg-blue-50 text-blue-700 border border-blue-200 focus:ring-blue-300",sunset:"bg-orange-50/40 hover:bg-orange-50 text-orange-700 border border-orange-200 focus:ring-orange-300",forest:"bg-green-50/40 hover:bg-green-50 text-green-700 border border-green-200 focus:ring-green-300",cosmic:"bg-violet-50/40 hover:bg-violet-50 text-violet-700 border border-violet-200 focus:ring-violet-300"},j={primary:`${o[n]} text-white shadow-xl hover:shadow-2xl`,secondary:r===!1?`${m[n]} shadow-md`:"bg-white/15 hover:bg-white/25 backdrop-blur-lg text-white border border-white/20 focus:ring-white/50",danger:"bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 focus:ring-red-500 shadow-xl hover:shadow-2xl",ghost:r===!1?h[n]:"bg-white/10 hover:bg-white/20 backdrop-blur-lg text-white border border-white/10 focus:ring-white/50"},A={sm:"px-3 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},k=`${x} ${j[s]} ${A[t]} ${i}`;return e.jsx("button",{className:k,disabled:c||a,...u,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Cargando..."]}):l})},et=({label:s,error:t,icon:a,className:r="",...n})=>{const i=`w-full p-4 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all ${r}`;return e.jsxs("div",{className:"space-y-2",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:s}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:a}),e.jsx("input",{className:`${i} ${a?"pl-12":""} ${t?"border-red-500":""}`,...n})]}),t&&e.jsx("p",{className:"text-sm text-red-400",children:t})]})},q=({children:s,className:t="",variant:a="glass",isDarkMode:r=!0})=>{const i=`rounded-2xl sm:rounded-3xl shadow-xl border transition-all duration-300 ${{default:r?"bg-white/10 border-white/20 backdrop-blur-lg shadow-2xl":"bg-white/50 border-white/40 backdrop-blur-lg shadow-2xl",glass:r?"bg-white/10 border-white/20 backdrop-blur-xl shadow-2xl hover:shadow-3xl":"bg-white/40 border-white/40 backdrop-blur-xl shadow-2xl hover:shadow-3xl",solid:r?"bg-gray-800/90 border-gray-700 backdrop-blur-sm shadow-2xl":"bg-white/90 border-gray-200 backdrop-blur-sm shadow-2xl"}[a]} ${t}`;return e.jsx("div",{className:i,children:s})},X=({open:s,title:t,onClose:a,children:r,maxWidthClass:n="max-w-lg"})=>(d.useEffect(()=>{const l=i=>{i.key==="Escape"&&a()};return s&&document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[s,a]),s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 sm:p-4",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:`relative w-full sm:w-auto sm:${n} sm:mx-auto bg-white/5 sm:bg-white/10 border border-white/20 rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden`,style:{paddingBottom:"max(env(safe-area-inset-bottom, 0px), 0px)",maxWidth:n==="max-w-sm"?"340px":void 0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsx("h3",{className:"text-white text-lg font-semibold select-none",children:t}),e.jsx("button",{onClick:a,className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg p-1.5 transition","aria-label":"Cerrar",children:"✖️"})]}),e.jsx("div",{className:"max-h-[70vh] sm:max-h-[80vh] overflow-y-auto p-4 custom-scrollbar",children:r})]})]}):null),tt=({currentTime:s,is24HourFormat:t,isDarkMode:a,voiceEnabled:r=!1,themeType:n})=>e.jsxs(q,{className:"inline-block w-full sm:w-auto p-4 sm:p-6 md:p-8 transform hover:scale-105 transition-all duration-500",isDarkMode:a,children:[e.jsx("div",{className:`text-5xl sm:text-6xl md:text-7xl font-mono font-bold mb-3 sm:mb-4 ${a?"text-white":"text-gray-800"} tracking-wider`,children:Te(s,t)}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Ze,{theme:n,isDarkMode:a})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full ${a?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"}`,children:t?"24 Horas":"12 Horas"}),r&&e.jsx("span",{className:"text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-green-600/30 text-green-300 animate-pulse",children:"🎤 Voz Activa"})]}),e.jsx("div",{className:`text-sm sm:text-base md:text-lg ${a?"text-gray-300":"text-gray-600"}`,children:ze(s)})]}),W=s=>`/AlarmaPro/${s}`,ne=[{name:"Clásico",url:W("sounds/alarm-26718.mp3"),icon:"⏰"},{name:"Suave",url:W("sounds/reliable-safe-327618.mp3"),icon:"🎵"},{name:"Urgente",url:W("sounds/biohazard-alarm-143105.mp3"),icon:"🚨"},{name:"Sirena",url:W("sounds/facility-siren-loopable-100687.mp3"),icon:"🚒"},{name:"Digital",url:W("sounds/alarm-no3-14864.mp3"),icon:"🤖"}],we="alarmaPro.customSounds.v1";function oe(){try{const s=localStorage.getItem(we);return s?JSON.parse(s):[]}catch{return[]}}function st(s){try{localStorage.setItem(we,JSON.stringify(s))}catch{}}function rt(s,t){const a={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,name:s,dataUrl:t},r=oe();return r.push(a),st(r),a}const at=({selectedSound:s,onSoundChange:t,className:a=""})=>{var o;const r=d.useRef(null),[n,l]=d.useState(()=>oe()),i=d.useMemo(()=>{const m=n.map(h=>({name:h.name,url:h.dataUrl,icon:"📁"}));return[...ne,...m]},[n]),c=()=>{var m;return(m=r.current)==null?void 0:m.click()},u=async m=>{var w;const h=(w=m.target.files)==null?void 0:w[0];if(!h)return;const j=h.name.replace(/\.[^.]+$/,""),A=await new Promise((g,p)=>{const b=new FileReader;b.onload=()=>g(String(b.result)),b.onerror=()=>p(b.error),b.readAsDataURL(h)}),k=rt(j,A),C=oe();l(C),t(k.dataUrl),m.target.value=""},x=m=>{const h=m.target.value;if(h==="__pick__"){setTimeout(()=>c(),0);return}t(h)};return e.jsxs("div",{className:`space-y-2 ${a}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sonido de Alarma"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:s||((o=i[0])==null?void 0:o.url),onChange:x,className:"flex-1 p-3 rounded-xl bg-white/10 text-gray-100 border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.map(m=>e.jsx("option",{value:m.url,children:`${m.icon} ${m.name}`},m.url)),e.jsx("option",{value:"__pick__",children:"📲 Elegir desde dispositivo…"})]}),e.jsx("input",{ref:r,type:"file",accept:"audio/*",hidden:!0,onChange:u})]})]})},nt=({className:s="",count:t=50})=>{const a=d.useRef(null),r=d.useRef([]),n=d.useRef();return d.useEffect(()=>{const l=a.current;if(!l)return;const i=l.getContext("2d");if(!i)return;const c=()=>{l.width=l.offsetWidth,l.height=l.offsetHeight};c(),window.addEventListener("resize",c),(()=>{r.current=[];for(let o=0;o<t;o++)r.current.push({x:Math.random()*l.width,y:Math.random()*l.height,size:Math.random()*3+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,opacity:Math.random()*.3+.1})})();const x=()=>{i.clearRect(0,0,l.width,l.height),r.current.forEach(o=>{o.x+=o.speedX,o.y+=o.speedY,o.x>l.width&&(o.x=0),o.x<0&&(o.x=l.width),o.y>l.height&&(o.y=0),o.y<0&&(o.y=l.height),i.beginPath(),i.arc(o.x,o.y,o.size,0,Math.PI*2),i.fillStyle=`rgba(255, 255, 255, ${o.opacity})`,i.fill(),i.shadowBlur=10,i.shadowColor="rgba(147, 51, 234, 0.5)",i.beginPath(),i.arc(o.x,o.y,o.size*.5,0,Math.PI*2),i.fillStyle=`rgba(147, 51, 234, ${o.opacity*.5})`,i.fill(),i.shadowBlur=0}),n.current=requestAnimationFrame(x)};return x(),()=>{window.removeEventListener("resize",c),n.current&&cancelAnimationFrame(n.current)}},[t]),e.jsx("canvas",{ref:a,className:`absolute inset-0 pointer-events-none ${s}`,style:{mixBlendMode:"screen"}})},re={purple:"Púrpura",ocean:"Océano",sunset:"Atardecer",forest:"Bosque",cosmic:"Cósmico"},ot=({value:s,onChange:t,isDarkMode:a})=>{const[r,n]=d.useState(!1),l=d.useRef(null);d.useEffect(()=>{if(!r)return;const x=m=>{l.current&&(l.current.contains(m.target)||n(!1))},o=m=>{m.key==="Escape"&&n(!1)};return document.addEventListener("mousedown",x),document.addEventListener("keydown",o),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",o)}},[r]);const i=d.useMemo(()=>Je[s],[s]),c={backgroundImage:`linear-gradient(135deg, ${i.start}22, ${i.end}1A)`,borderColor:a?"rgba(255,255,255,0.12)":`${i.start}55`},u={backgroundImage:`linear-gradient(135deg, ${i.start}29, ${i.end}1F)`,borderColor:a?"rgba(255,255,255,0.12)":`${i.start}55`};return e.jsxs("div",{ref:l,className:"relative inline-block pointer-events-auto",children:[e.jsxs("button",{type:"button",className:`h-8 px-3 pr-8 rounded-xl text-sm flex items-center gap-2 border backdrop-blur-lg ${a?"text-white":"text-gray-800"}`,style:c,onClick:()=>n(x=>!x),"aria-haspopup":"listbox","aria-expanded":r,children:[e.jsx("span",{className:"text-lg leading-none",children:ue[s]}),e.jsx("span",{className:"font-medium",children:re[s]}),e.jsx("span",{className:`absolute right-2 ${a?"text-white/80":"text-gray-700/80"}`,children:"▾"})]}),r&&e.jsx("div",{className:"absolute z-[9999] mt-2 w-44 rounded-xl shadow-2xl border overflow-hidden backdrop-blur-xl",style:u,role:"listbox",children:Object.keys(re).map(x=>{const o=x===s;return e.jsxs("button",{type:"button",role:"option","aria-selected":o,onClick:()=>{t(x),n(!1)},className:`w-full text-left px-3 py-2 flex items-center gap-2 text-sm transition-colors ${a?"hover:bg-white/10 text-white":"hover:bg-black/10 text-gray-800"} ${o?a?"bg-white/10":"bg-black/10":""}`,children:[e.jsx("span",{className:"text-lg",children:ue[x]}),e.jsx("span",{className:"font-medium",children:re[x]})]},x)})})]})};function ge(s,t,a){return Math.max(t,Math.min(a,s))}function lt(s){const t=/^(\d{1,2}):(\d{2})$/.exec(s||"");let a=8,r=0;if(t)a=ge(parseInt(t[1],10),0,23),r=ge(parseInt(t[2],10),0,59);else{const n=new Date;a=n.getHours(),r=n.getMinutes()}return{h:a,m:r}}function le(s,t){const a=s.toString().padStart(2,"0"),r=t.toString().padStart(2,"0");return`${a}:${r}`}function pe(s,t){if(!t)return{hours:s,ampm:""};const a=s>=12?"PM":"AM";let r=s%12;return r===0&&(r=12),{hours:r,ampm:a}}function it(s,t,a,r){if(!r)return le(s,t);let n=s%12;return a==="PM"&&(n+=12),le(n,t)}const ct=({value:s,onChange:t,isDarkMode:a,use12Hour:r=!0,className:n="",label:l="Selecciona una hora"})=>{const{h:i,m:c}=d.useMemo(()=>lt(s),[s]),u=d.useMemo(()=>pe(i,r),[i,r]),[x,o]=d.useState(!1),[m,h]=d.useState(u.hours),[j,A]=d.useState(c),[k,C]=d.useState(u.ampm),[w,g]=d.useState("hours"),p=d.useRef(null),b=d.useRef(null),[y,E]=d.useState(!1),[P,z]=d.useState("hours"),D=he.useCallback((f,$)=>{if(!b.current)return;const N=b.current.getBoundingClientRect(),O=f-N.left,ee=$-N.top,S=N.width/2,_=N.height/2,te=(Math.atan2(ee-_,O-S)*(180/Math.PI)+90+360)%360;if(P==="hours"){const F=r?12:24;let V=Math.round(te/360*F)%F;h(r&&V===0?12:V)}else{let F=Math.round(te/360*60)%60;A(F)}},[P,r]);d.useEffect(()=>{if(!y)return;const f=N=>D(N.clientX,N.clientY),$=()=>E(!1);return window.addEventListener("pointermove",f),window.addEventListener("pointerup",$,{once:!0}),()=>{window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",$)}},[y,D]),d.useEffect(()=>{const f=pe(i,r);h(f.hours),A(c),C(f.ampm)},[s,r,i,c]),d.useEffect(()=>{const f=N=>{p.current&&(p.current.contains(N.target)||o(!1))},$=N=>{N.key==="Escape"&&o(!1)};return document.addEventListener("mousedown",f),document.addEventListener("keydown",$),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",$)}},[]);const H=(f=m,$=j,N=k)=>{const O=it(f,$,N,r);t(O)},R=a?"bg-white/10":"bg-black/10",T=a?"text-white":"text-gray-800",L=a?"text-gray-300":"text-gray-700",B=a?"border-white/20":"border-gray-200",U=108,J=130,Q=d.useMemo(()=>{const f=r?12:24;return Array.from({length:f},(N,O)=>r?O+1:O)},[r]),Y=d.useMemo(()=>Array.from({length:12},(f,$)=>$*5),[]),Z=f=>(r?f%12:f)/(r?12:24)*360-90,v=f=>f/60*360-90,I=()=>{const f=w==="hours",$=f?Q:Y,N=f?m:j,O=f?Z(r?m%12:m):v(j),ee=S=>{var _,G;S.preventDefault(),E(!0),z(w),D(S.clientX,S.clientY);try{(G=(_=S.currentTarget).setPointerCapture)==null||G.call(_,S.pointerId)}catch{}};return e.jsxs("div",{ref:b,onPointerDown:ee,className:`relative w-[260px] h-[260px] rounded-full ${R} border ${B} mx-auto select-none touch-none ${y?"cursor-grabbing":"cursor-grab"}`,children:[e.jsx("div",{className:"absolute left-1/2 top-1/2 origin-center",style:{transform:`translate(-50%, -50%) rotate(${O}deg)`},children:(()=>{const S=U,_=10;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${a?"bg-white/70":"bg-gray-700/70"} absolute`,style:{width:`${S}px`,height:"2px",left:0,top:"50%",transform:"translateY(-50%)"}}),e.jsx("div",{className:`${a?"bg-white":"bg-gray-800"} absolute rounded-full`,style:{width:`${_}px`,height:`${_}px`,left:`${S}px`,top:"50%",transform:"translate(-50%, -50%)"}})]})})()}),$.map((S,_)=>{const F=(_/(f?r?12:24:12)*360-90)*Math.PI/180,V=J+U*Math.cos(F),ie=J+U*Math.sin(F),ce=N===S||!r&&f&&N===S,se="absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center transition",Ne=`${se} w-10 h-10 rounded-full text-sm font-semibold ${ce?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg":R+" "+T}`,Se=ce?`${se} w-12 h-12 rounded-full font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg`:`${se} w-8 h-8 bg-transparent ${a?"text-gray-300":"text-gray-700"} text-xs`;return e.jsx("button",{type:"button",onClick:()=>{f?(h(S),g("minutes")):A(S)},className:f?Ne:Se,style:{left:V,top:ie},children:f&&r?S:S.toString().padStart(2,"0")},`${w}-${S}`)})]})};return e.jsxs("div",{ref:p,className:`w-full ${n}`,children:[l&&e.jsx("label",{className:`block text-sm font-medium mb-2 ${L}`,children:l}),e.jsxs("button",{type:"button",onClick:()=>{g("hours"),o(f=>!f)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border ${B} ${a?"bg-white/10":"bg-white/80"} backdrop-blur-lg hover:shadow-lg transition-all`,"aria-haspopup":"dialog","aria-expanded":x,children:[e.jsxs("div",{className:`flex items-center gap-3 ${T}`,children:[e.jsx("span",{className:"text-xl",children:"⏰"}),e.jsx("span",{className:"font-mono text-lg font-bold tracking-wider",children:le(i,c)}),r&&e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${a?"bg-white/10 text-white":"bg-black/10 text-gray-800"}`,children:u.ampm})]}),e.jsx("span",{className:"opacity-70",children:"▾"})]}),x&&e.jsxs("div",{className:`mt-2 p-4 rounded-2xl border ${B} ${a?"bg-white/10":"bg-white/80"} backdrop-blur-xl shadow-2xl z-50 relative`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${T} ${w==="hours"?"":"opacity-70"}`,onClick:()=>g("hours"),children:m.toString().padStart(2,"0")}),e.jsx("span",{className:`font-mono text-4xl font-bold ${T}`,children:":"}),e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${T} ${w==="minutes"?"":"opacity-70"}`,onClick:()=>g("minutes"),children:j.toString().padStart(2,"0")})]}),r&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${k==="AM"?"bg-purple-600 text-white":R+" "+T}`,onClick:()=>C("AM"),children:"a.m."}),e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${k==="PM"?"bg-purple-600 text-white":R+" "+T}`,onClick:()=>C("PM"),children:"p.m."})]})]}),I(),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${R} ${T} hover:opacity-90`,onClick:()=>o(!1),children:"Cancelar"}),e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${R} ${T} hover:opacity-90`,onClick:()=>g(w==="hours"?"minutes":"hours"),children:w==="hours"?"Minutos":"Horas"}),e.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:opacity-95",onClick:()=>{H(),o(!1)},children:"Aceptar"})]})]})]})},je=({is24Hour:s,onToggle:t,isDarkMode:a=!0,accentHex:r,className:n=""})=>{const l=a?"bg-white/10":"bg-black/10",i=a?"border-white/20":"border-black/10",c=a?"text-white":"text-gray-800";return e.jsxs("button",{type:"button",onClick:t,"aria-pressed":s,"aria-label":"Cambiar formato horario",className:`relative inline-flex items-center justify-between ${l} ${i} ${c} rounded-full h-9 w-28 px-3 select-none border overflow-hidden ${n}`,children:[e.jsx("div",{className:"absolute top-1 bottom-1 w-[52%] rounded-full transition-all duration-200",style:{left:s?4:void 0,right:s?void 0:4,background:r?`linear-gradient(135deg, ${r}33, ${r}55)`:a?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",boxShadow:a?"inset 0 0 0 1px rgba(255,255,255,0.15)":"inset 0 0 0 1px rgba(0,0,0,0.08)"}}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"24h"}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"12h"})]})},dt=s=>`/AlarmaPro/${s}`,mt=({isDarkMode:s,onInstall:t,onDismiss:a})=>{const[r,n]=d.useState(!1);d.useEffect(()=>{localStorage.getItem("alarmapro_welcomed")||n(!0)},[]);const l=()=>{localStorage.setItem("alarmapro_welcomed","true"),n(!1),a()},i=()=>{localStorage.setItem("alarmapro_welcomed","true"),n(!1),t()};return e.jsx(X,{open:r,onClose:l,title:"¡Bienvenido a AlarmaPro!",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"text-center px-1",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:dt("clock1.png"),alt:"AlarmaPro Logo",className:"w-24 h-24 object-contain filter drop-shadow-lg animate-pulse"}),e.jsx("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 opacity-30 blur-xl animate-pulse"})]})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"Tu sistema de alarmas inteligente"}),e.jsx("p",{className:"text-gray-200 mb-4 text-sm",children:"Gracias por usar AlarmaPro, la aplicación que te ayuda a organizar tu tiempo con estilo. Nunca fue tan fácil configurar alarmas personalizadas."}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center mb-2",children:[e.jsx(M,{variant:"secondary",onClick:l,className:"w-full py-2",isDarkMode:s,children:"Continuar a la app"}),e.jsx(M,{variant:"primary",onClick:i,className:"w-full py-2",isDarkMode:s,children:"Instalar aplicación"})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-400",children:"Puedes instalar la aplicación en cualquier momento desde el menú del navegador"}),e.jsx("p",{className:"mt-2 text-2xs text-gray-500 pt-1 border-t border-gray-700",children:"Diseñado por Axon.app y IA"})]})})},ut=({alarm:s,isDarkMode:t,is24HourFormat:a,themeType:r,onEdit:n,onToggle:l,onDelete:i})=>{var c;return e.jsx(q,{className:"group p-4 sm:p-6 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-2xl",isDarkMode:t,children:e.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-3 sm:gap-4 mb-2 flex-wrap",children:[e.jsx("div",{className:`text-3xl sm:text-4xl font-mono font-bold ${t?"text-white":"text-gray-800"} tracking-wide`,children:Pe(s.time,a)}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${Re(s.priority,t)} text-white shadow-lg`,children:De(s.priority)})]}),e.jsx("div",{className:`text-lg sm:text-xl font-semibold mb-2 sm:mb-3 ${t?"text-gray-200":"text-gray-700"}`,children:s.label}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🔊"}),e.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:(c=Ge[s.sound])==null?void 0:c.name})]}),s.vibrate&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-blue-600/30 text-blue-300":"bg-blue-200 text-blue-800"}`,children:"📳 Vibrar"}),s.gradualWake&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-orange-600/30 text-orange-300":"bg-orange-200 text-orange-800"}`,children:"🌅 Gradual"})]}),s.days.length>0&&e.jsx("div",{className:"flex gap-1.5 sm:gap-2 mt-2 sm:mt-3 flex-wrap",children:s.days.map(u=>e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${t?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"} shadow-sm`,children:ve[u]},u))})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 self-start sm:self-center",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"p-3 sm:p-4 hover:scale-110",title:"Editar alarma",isDarkMode:t,themeType:r,children:"⚙️"}),e.jsx(M,{variant:s.enabled?"primary":"ghost",size:"sm",onClick:()=>l(s.id),className:"p-3 sm:p-4 hover:scale-110",title:s.enabled?"Desactivar":"Activar",isDarkMode:t,themeType:r,children:s.enabled?"⏸️":"▶️"}),e.jsx(M,{variant:"danger",size:"sm",onClick:()=>i(s.id),className:"p-3 sm:p-4 hover:scale-110",title:"Eliminar alarma",isDarkMode:t,themeType:r,children:"🗑️"})]})]})})},xt=({alarm:s,isDarkMode:t,theme:a,themeType:r,onSave:n,onCancel:l,alarmVolume:i,onVolumeChange:c,is24HourFormat:u=!0,onToggleTimeFormat:x})=>{const o=d.useMemo(()=>{switch(a.accent){case"purple-600":return"#9333EA";case"blue-600":return"#2563EB";case"orange-600":return"#EA580C";case"green-600":return"#16A34A";case"violet-600":return"#7C3AED";default:return"#9333EA"}},[a.accent]),[m,h]=d.useState(s?{time:s.time,label:s.label,days:[...s.days],sound:s.sound,enabled:s.enabled,priority:s.priority,vibrate:s.vibrate,gradualWake:s.gradualWake}:{...Ke}),[j,A]=d.useState([]),k=g=>{g.preventDefault();const p=Fe(m);if(p.length>0){A(p);return}A([]),n(m)},C=(g,p)=>{h(b=>({...b,[g]:p}))},w=g=>{const p=m.days.includes(g)?m.days.filter(b=>b!==g):[...m.days,g];C("days",p)};return e.jsxs(q,{className:"max-w-lg mx-auto p-5 sm:p-8",isDarkMode:t,children:[e.jsx("h3",{className:`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${t?"text-white":"text-gray-800"} text-center`,children:s?"✏️ Editar Alarma":"✨ Crear Nueva Alarma"}),e.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[j.length>0&&e.jsx("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-xl",children:j.map((g,p)=>e.jsx("p",{className:"text-red-400 text-sm",children:g},p))}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-3 flex justify-end",children:e.jsx(je,{is24Hour:!!u,onToggle:x||(()=>{}),isDarkMode:t})}),e.jsx(ct,{label:"⏰ Hora",value:m.time,onChange:g=>C("time",g),isDarkMode:t,use12Hour:!u})]}),e.jsx(et,{type:"text",label:"🏷️ Etiqueta",placeholder:"Ej: Reunión importante, Ejercicio, Medicamento...",value:m.label,onChange:g=>C("label",g.target.value),className:`${t?"bg-white/10 text-white border-white/20 placeholder-gray-400":"bg-white/70 text-gray-800 border-gray-300 placeholder-gray-500"}`}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"📅 Días de la semana"}),e.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:ve.map((g,p)=>e.jsx("button",{type:"button",onClick:()=>w(p),className:`flex items-center justify-center h-10 sm:h-11 px-3 rounded-xl text-sm leading-none font-bold transition-all duration-300 ${m.days.includes(p)?`bg-gradient-to-r from-${a.accent} to-purple-600 text-white shadow-xl`:t?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:g},g))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"sm:col-span-1",children:e.jsx(at,{selectedSound:typeof m.sound=="string"?m.sound:"",onSoundChange:g=>C("sound",g),className:""})}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"🔊 Volumen"}),e.jsx("input",{type:"range",min:"0",max:"100",value:i,onChange:g=>c(Number(g.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer outline-none",style:{background:`linear-gradient(to right, ${o} ${i}%, ${t?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.15)"} ${i}%)`,accentColor:o,color:o}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:"⚙️ Opciones Avanzadas"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[{key:"vibrate",label:"📳 Vibrar"},{key:"gradualWake",label:"🌅 Despertar Gradual"}].map(g=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m[g.key],onChange:p=>C(g.key,p.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:`${t?"text-gray-300":"text-gray-700"}`,children:g.label})]},g.key))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6",children:[e.jsx(M,{type:"submit",variant:"primary",className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:r,children:s?"✅ Actualizar":"💾 Guardar"}),e.jsx(M,{type:"button",variant:"secondary",onClick:l,className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:r,children:"❌ Cancelar"})]})]})]})},gt=({alarms:s,isDarkMode:t,is24HourFormat:a,theme:r,themeType:n,onEdit:l,onToggle:i,onDelete:c})=>{const[u,x]=d.useState(null),o=j=>{const A=s.find(k=>k.id===j)||null;x(A)},m=()=>{u&&(c(u.id),x(null))},h=()=>x(null);return s.length===0?e.jsxs("div",{className:`text-center py-10 sm:py-16 ${t?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse text-6xl",children:"⏰"}),e.jsx("div",{className:"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping text-2xl",children:"✨"})]}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"No hay alarmas configuradas"}),e.jsx("p",{className:"text-base sm:text-lg mb-2",children:"¡Crea tu primera alarma inteligente!"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Usa los botones de arriba para empezar."})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-3 sm:space-y-4 px-1 sm:px-0",children:[s.map(j=>e.jsx(ut,{alarm:j,isDarkMode:t,is24HourFormat:a,theme:r,themeType:n,onEdit:l,onToggle:i,onDelete:o},j.id)),e.jsx(X,{open:!!u,onClose:h,title:"Confirmar eliminación",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`${t?"text-gray-200":"text-gray-800"}`,children:"¿Estás seguro de que deseas eliminar esta alarma?"}),u&&e.jsxs("div",{className:`p-3 rounded-xl ${t?"bg-white/10 text-white":"bg-black/5 text-gray-800"}`,children:[e.jsx("div",{className:"font-semibold",children:u.label||"Alarma"}),e.jsx("div",{className:"opacity-80 text-sm",children:u.time})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(M,{variant:"ghost",onClick:h,isDarkMode:t,themeType:n,children:"Cancelar"}),e.jsx(M,{variant:"danger",onClick:m,isDarkMode:t,children:"Eliminar"})]})]})})]})},pt=s=>`/AlarmaPro/${s}`,ht=()=>{const s=Ue(),{settings:t,toggleDarkMode:a,toggleTimeFormat:r,toggleVoice:n,setTheme:l,setVolume:i}=Ve(),{alarms:c,activeAlarm:u,addAlarm:x,updateAlarm:o,deleteAlarm:m,toggleAlarm:h,dismissAlarm:j}=Be(),{isSnoozing:A,snoozeCount:k,canSnooze:C,snooze:w,resetSnooze:g}=We(xe),p=qe(),[b,y]=d.useState(!1),[E,P]=d.useState(!1),[z,D]=d.useState(null),H=d.useRef(null),[R,T]=d.useState(null),L=He[t.theme],B=v=>{const I=Ie(v);x(I),P(!1)},U=()=>{if(u&&C){const v=Oe(u,k,Qe);x(v),w(),j()}},J=v=>{z?o(z.id,v):x(v),D(null),y(!1)},Q=v=>{D(v),y(!0)},Y=()=>{D(null),y(!1)};d.useEffect(()=>{const v=I=>{I.preventDefault(),T(I)};return window.addEventListener("beforeinstallprompt",v),()=>{window.removeEventListener("beforeinstallprompt",v)}},[]);const Z=()=>{if(!R){alert(`Para instalar la aplicación: 
1. Abre el menú del navegador (los tres puntos)
2. Selecciona 'Instalar aplicación' o 'Añadir a pantalla de inicio'`);return}R.prompt(),R.userChoice.then(v=>{v.outcome==="accepted"?console.log("Usuario aceptó la instalación"):console.log("Usuario rechazó la instalación"),T(null)})};return d.useEffect(()=>{const v=H.current;if(!v)return;const I=f=>{var $,N;return f?/(\.mp3|^\/|^https?:)/i.test(f)?f:((N=ne[0])==null?void 0:N.url)||"":(($=ne[0])==null?void 0:$.url)||""};if(u){const f=I(u.sound);if(f)try{v.pause(),v.src=f,v.loop=!0,v.volume=Math.max(0,Math.min(1,(t.alarmVolume??100)/100)),v.currentTime=0,v.play().catch(()=>{})}catch{}}else v.pause()},[u,t.alarmVolume]),e.jsxs("div",{className:`min-h-screen transition-all duration-1000 ${t.isDarkMode?`bg-gradient-to-br ${L.from} via-gray-900 ${L.to}`:`bg-gradient-to-br ${L.light} via-white to-gray-50`}`,children:[e.jsx(nt,{count:60,className:"opacity-40"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-30",children:e.jsxs("div",{className:"absolute -inset-10",children:[e.jsx("div",{className:`absolute top-0 -left-4 w-96 h-96 bg-gradient-to-r ${L.from.includes("purple")?"from-purple-400":L.from.includes("blue")?"from-blue-400":L.from.includes("orange")?"from-orange-400":L.from.includes("green")?"from-green-400":"from-violet-400"} to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse transform rotate-45`}),e.jsx("div",{className:"absolute top-0 -right-4 w-96 h-96 bg-gradient-to-l from-yellow-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-2000 transform -rotate-45"}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-gradient-to-t from-pink-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-4000"})]})}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8 pb-16 sm:pb-20",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6 flex-wrap",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-2xl bg-gradient-to-r from-${L.accent} to-purple-600 backdrop-blur-lg shadow-xl`,children:e.jsx("img",{src:pt("clockT.png"),alt:"AlarmaPro Logo",className:"w-8 h-8 sm:w-9 sm:h-9"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:"AlarmaPro"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-5 sm:mb-6 overflow-x-auto px-1 py-1",style:{overflow:"visible"},children:[e.jsx(je,{is24Hour:t.is24HourFormat,onToggle:r,isDarkMode:t.isDarkMode,accentHex:ye[t.theme]}),e.jsx(M,{variant:t.voiceEnabled?"primary":"ghost",size:"sm",onClick:n,title:"Voz habilitada",className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:"🔊"}),e.jsx(ot,{value:t.theme,onChange:v=>l(v),isDarkMode:t.isDarkMode}),e.jsx(M,{variant:"ghost",size:"sm",onClick:a,className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:t.isDarkMode?"☀️":"🌙"})]}),e.jsx(tt,{currentTime:s,is24HourFormat:t.is24HourFormat,isDarkMode:t.isDarkMode,voiceEnabled:t.voiceEnabled,theme:L,themeType:t.theme})]}),e.jsx("div",{className:"w-full max-w-xl mx-auto mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto no-scrollbar whitespace-nowrap",children:[e.jsxs(M,{variant:"primary",onClick:()=>y(!b),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,themeType:t.theme,children:["➕ ",z?"Editar Alarma":"Nueva Alarma"]}),e.jsx(M,{variant:"secondary",onClick:()=>P(!E),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,themeType:t.theme,children:"⚡ Alarmas Rápidas"})]})}),e.jsx(X,{open:E,onClose:()=>P(!1),title:"⚡ Alarmas Rápidas",maxWidthClass:"max-w-2xl",children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3",children:Xe.map(v=>e.jsxs("button",{onClick:()=>B(v.minutes),className:`group p-3 sm:p-4 rounded-2xl ${t.isDarkMode?"bg-white/10 hover:bg-white/20":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl hover-glow`,children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 ${t.isDarkMode?"text-white":"text-gray-800"} group-hover:animate-bounce text-xl sm:text-2xl`,children:v.icon}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${t.isDarkMode?"text-white":"text-gray-800"}`,children:v.label})]},v.minutes))})}),e.jsx(X,{open:b,onClose:Y,title:z?"✏️ Editar Alarma":"✨ Nueva Alarma",maxWidthClass:"max-w-xl",children:e.jsx(xt,{alarm:z||void 0,isDarkMode:t.isDarkMode,theme:L,themeType:t.theme,onSave:J,onCancel:Y,alarmVolume:t.alarmVolume,onVolumeChange:i,is24HourFormat:t.is24HourFormat,onToggleTimeFormat:r})}),e.jsx(gt,{alarms:c,isDarkMode:t.isDarkMode,is24HourFormat:t.is24HourFormat,theme:L,themeType:t.theme,onEdit:Q,onToggle:h,onDelete:m})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-lg flex items-center justify-center z-50",children:e.jsxs(q,{className:"relative p-12 text-center max-w-lg mx-4",isDarkMode:t.isDarkMode,children:[e.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 mx-auto text-yellow-400 drop-shadow-lg text-6xl",children:"⚡"}),e.jsx("div",{className:"absolute inset-0 w-20 h-20 mx-auto border-4 border-yellow-400 rounded-full"})]})}),e.jsx("h2",{className:`text-4xl font-bold mb-4 ${t.isDarkMode?"text-white":"text-gray-800"}`,children:"🚨 ¡ALARMA ACTIVA!"}),e.jsx("p",{className:`text-2xl font-semibold mb-4 ${t.isDarkMode?"text-gray-200":"text-gray-700"}`,children:u.label}),e.jsx("p",{className:`text-5xl font-mono font-bold mb-8 ${t.isDarkMode?"text-white":"text-gray-800"} tracking-wider`,children:u.time}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4",children:[C&&e.jsx(M,{variant:"secondary",onClick:U,className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"🔄 Posponer 5min"}),e.jsx(M,{variant:"danger",onClick:()=>{j(),g()},className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"🔇 Desactivar"})]}),k>0&&e.jsxs("div",{className:`text-sm ${t.isDarkMode?"text-gray-400":"text-gray-600"}`,children:["Pospuestas: ",k,"/",xe]})]})]})]})}),A&&e.jsx("div",{className:"fixed top-4 right-4 z-40",children:e.jsx(q,{className:"p-4 transform animate-bounce",isDarkMode:t.isDarkMode,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🔄"}),e.jsx("span",{className:"font-semibold text-white",children:"Pospuesta 5 minutos"})]})})}),e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 transform pointer-events-none select-none z-0 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-blue-400 text-sm",children:"📶"}),e.jsxs("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:[p.online?"Conectado":"Sin conexión",p.effectiveType?` · ${p.effectiveType.toUpperCase()}`:""]})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-green-400 text-sm",children:"🔋"}),e.jsx("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:p.batteryLevel!==null?`${p.batteryLevel}%${p.charging?" ⚡":""}`:"—"})]})]}),t.voiceEnabled&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-600/30 backdrop-blur-lg animate-pulse",children:[e.jsx("span",{className:"text-green-300 text-sm",children:"🔊"}),e.jsx("span",{className:"text-sm text-green-300",children:"Voz"})]})]}),e.jsx(mt,{isDarkMode:t.isDarkMode,onInstall:Z,onDismiss:()=>{}}),e.jsx("audio",{ref:H})]})},ft=ae.createRoot(document.getElementById("root"));ft.render(e.jsx(he.StrictMode,{children:e.jsx(ht,{})}));
//# sourceMappingURL=index-DFZqFY2r.js.map
