import{r as d,a as he,R as be}from"./vendor-nf7bT_Uh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();var le={exports:{}},V={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe=d,ye=Symbol.for("react.element"),ve=Symbol.for("react.fragment"),we=Object.prototype.hasOwnProperty,je=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0};function ie(s,t,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(a in t)we.call(t,a)&&!Ne.hasOwnProperty(a)&&(n[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:ye,type:s,key:l,ref:i,props:n,_owner:je.current}}V.Fragment=ve;V.jsx=ie;V.jsxs=ie;le.exports=V;var e=le.exports,Y={},te=he;Y.createRoot=te.createRoot,Y.hydrateRoot=te.hydrateRoot;const Se=(s,t)=>t?s.toLocaleTimeString("es-ES",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):s.toLocaleTimeString("es-ES",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"}),$e=(s,t)=>{if(t)return s;{const[r,a]=s.split(":"),n=parseInt(r),l=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${a} ${l}`}},ke=s=>s.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ae=(s,t)=>t?{low:"from-blue-600 to-cyan-600",normal:"from-green-600 to-emerald-600",high:"from-yellow-600 to-orange-600",urgent:"from-red-600 to-pink-600"}[s]:{low:"from-blue-400 to-cyan-400",normal:"from-green-400 to-emerald-400",high:"from-yellow-400 to-orange-400",urgent:"from-red-400 to-pink-400"}[s],Ce=s=>({low:"🔵 BAJA",normal:"🟢 NORMAL",high:"🟡 ALTA",urgent:"🔴 URGENTE"})[s],Ee=(s,t)=>{if(!s.enabled)return!1;const r=t.toTimeString().slice(0,5),a=t.getDay();return s.time!==r?!1:s.days.length===0?!0:s.days.includes(a)},Me=s=>{const t=new Date;return t.setMinutes(t.getMinutes()+s),{time:t.toTimeString().slice(0,5),label:`Alarma rápida ${s} min`,days:[],sound:"gentle",enabled:!0,priority:"high",vibrate:!0,gradualWake:!1,challengeMode:!1}},Le=(s,t,r=5)=>{const a=new Date;a.setMinutes(a.getMinutes()+r);const n=a.toTimeString().slice(0,5);return{...s,time:n,label:`${s.label} (Snooze ${t+1})`,days:[]}},Te=s=>{const t=[];return s.time||t.push("La hora es requerida"),s.label.trim()||t.push("La etiqueta es requerida"),s.label.length>50&&t.push("La etiqueta no puede exceder 50 caracteres"),t},Pe=()=>{const[s,t]=d.useState([]),[r,a]=d.useState(null);d.useEffect(()=>{const o=localStorage.getItem("alarmaPro_alarms");if(o)try{t(JSON.parse(o))}catch(u){console.error("Error loading alarms from localStorage:",u)}},[]),d.useEffect(()=>{localStorage.setItem("alarmaPro_alarms",JSON.stringify(s))},[s]),d.useEffect(()=>{const o=setInterval(()=>{const u=new Date;s.forEach(h=>{Ee(h,u)&&!r&&m(h)})},1e3);return()=>clearInterval(o)},[s,r]);const n=d.useCallback(o=>{const u={...o,id:Date.now()};t(h=>[...h,u])},[]),l=d.useCallback((o,u)=>{t(h=>h.map(N=>N.id===o?{...u,id:o}:N))},[]),i=d.useCallback(o=>{t(u=>u.filter(h=>h.id!==o))},[]),c=d.useCallback(o=>{t(u=>u.map(h=>h.id===o?{...h,enabled:!h.enabled}:h))},[]),m=d.useCallback(o=>{a(o)},[]),g=d.useCallback(()=>{a(null)},[]);return{alarms:s,activeAlarm:r,addAlarm:n,updateAlarm:l,deleteAlarm:i,toggleAlarm:c,dismissAlarm:g,triggerAlarm:m}},ze=()=>{const[s,t]=d.useState(new Date);return d.useEffect(()=>{const r=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(r)},[]),s},se={isDarkMode:!0,is24HourFormat:!0,theme:"purple",voiceEnabled:!1,animationStyle:"smooth",alarmVolume:80},Re=()=>{const[s,t]=d.useState(se);d.useEffect(()=>{const m=localStorage.getItem("alarmaPro_settings");if(m)try{const g=JSON.parse(m);t({...se,...g})}catch(g){console.error("Error loading settings:",g)}},[]),d.useEffect(()=>{localStorage.setItem("alarmaPro_settings",JSON.stringify(s))},[s]);const r=(m,g)=>{t(o=>({...o,[m]:g}))};return{settings:s,updateSetting:r,toggleDarkMode:()=>{r("isDarkMode",!s.isDarkMode)},toggleTimeFormat:()=>{r("is24HourFormat",!s.is24HourFormat)},toggleVoice:()=>{r("voiceEnabled",!s.voiceEnabled)},setTheme:m=>{r("theme",m)},setVolume:m=>{r("alarmVolume",Math.max(0,Math.min(100,m)))}}},_e=(s=3)=>{const[t,r]=d.useState(!1),[a,n]=d.useState(0),l=a<s,i=d.useCallback(()=>{l&&(n(m=>m+1),r(!0),setTimeout(()=>{r(!1)},2e3))},[l]),c=d.useCallback(()=>{n(0),r(!1)},[]);return{isSnoozing:t,snoozeCount:a,canSnooze:l,snooze:i,resetSnooze:c}};function De(){const[s,t]=d.useState({batteryLevel:null,charging:null,networkType:null,effectiveType:null,online:typeof navigator<"u"?navigator.onLine:!0});return d.useEffect(()=>{let r=null,a,n=null,l=null,i=null;const c=()=>t(o=>({...o,online:navigator.onLine})),m=async()=>{try{if(navigator.getBattery){r=await navigator.getBattery();const o=()=>t(u=>({...u,batteryLevel:Math.round((r.level??0)*100),charging:!!r.charging}));o(),n=()=>o(),l=()=>o(),r.addEventListener("levelchange",n),r.addEventListener("chargingchange",l)}}catch{}},g=()=>{if(a=navigator.connection||navigator.mozConnection||navigator.webkitConnection,a){const o=()=>t(u=>({...u,networkType:a.type||"unknown",effectiveType:a.effectiveType||null}));o(),i=()=>o(),a.addEventListener("change",i)}};return m(),g(),window.addEventListener("online",c),window.addEventListener("offline",c),()=>{if(window.removeEventListener("online",c),window.removeEventListener("offline",c),r)try{n&&r.removeEventListener("levelchange",n),l&&r.removeEventListener("chargingchange",l)}catch{}if(a&&i)try{a.removeEventListener("change",i)}catch{}}},[]),s}const ce=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],Ie={purple:{from:"from-purple-900",to:"to-indigo-900",accent:"purple-600",light:"from-purple-50 to-indigo-50"},ocean:{from:"from-blue-900",to:"to-cyan-900",accent:"blue-600",light:"from-blue-50 to-cyan-50"},sunset:{from:"from-orange-900",to:"to-red-900",accent:"orange-600",light:"from-orange-50 to-red-50"},forest:{from:"from-green-900",to:"to-emerald-900",accent:"green-600",light:"from-green-50 to-emerald-50"},cosmic:{from:"from-violet-900",to:"to-pink-900",accent:"violet-600",light:"from-violet-50 to-pink-50"}},re={purple:"🟣",ocean:"🌊",sunset:"🌅",forest:"🌲",cosmic:"🌌"},de={purple:"#9333ea",ocean:"#2563eb",sunset:"#ea580c",forest:"#16a34a",cosmic:"#7c3aed"},Oe={purple:{start:"#9333ea",end:"#6366f1"},ocean:{start:"#2563eb",end:"#06b6d4"},sunset:{start:"#ea580c",end:"#ef4444"},forest:{start:"#16a34a",end:"#22c55e"},cosmic:{start:"#7c3aed",end:"#db2777"}},Fe={purple:{variant:"ribbons",colors:["#a78bfa","#f0abfc","#c4b5fd","#f5d0fe"]},ocean:{variant:"bezier",colors:["#38bdf8","#22d3ee","#60a5fa","#06b6d4"]},sunset:{variant:"bars",colors:["#fb7185","#f97316","#f59e0b","#ef4444"]},forest:{variant:"dots",colors:["#34d399","#86efac","#22c55e","#a3e635"]},cosmic:{variant:"ribbons",colors:["#a78bfa","#f472b6","#60a5fa","#c084fc"]}},Be={gentle:{name:"🎵 Suave Despertar",description:"Melodía relajante"},energetic:{name:"⚡ Power Up",description:"Energía máxima"},nature:{name:"🌊 Sonidos Naturales",description:"Aves y agua"},classic:{name:"⏰ Clásico Digital",description:"Beep tradicional"},binaural:{name:"🧠 Binaural",description:"Frecuencias cerebrales"},piano:{name:"🎹 Piano Suave",description:"Notas de piano"},cosmic:{name:"🌌 Cósmico",description:"Sonidos del espacio"}},Ue=[{minutes:5,label:"5 min",icon:"☕"},{minutes:10,label:"10 min",icon:"⏱️"},{minutes:15,label:"15 min",icon:"☕"},{minutes:20,label:"20 min",icon:"🏃"},{minutes:30,label:"30 min",icon:"🎯"},{minutes:60,label:"1 hora",icon:"⏰"}],Ve={time:"",label:"",days:[],sound:"gentle",enabled:!0,priority:"normal",vibrate:!0,gradualWake:!1,challengeMode:!1},We=5,ae=3,He=({theme:s,isDarkMode:t=!0,width:r=360,height:a=80,className:n=""})=>{const l=d.useRef(null);return d.useEffect(()=>{const i=l.current;if(!i)return;const c=i.getContext("2d");if(!c)return;i.width=r,i.height=a;const m=Fe[s],g=de[s];let o=0;const u=performance.now(),h=x=>{const f=(x-u)*.0015;c.clearRect(0,0,r,a),m.colors.forEach((y,w)=>{c.beginPath(),c.lineWidth=2,c.strokeStyle=y,c.globalAlpha=t?.8:.6;for(let b=0;b<=r;b++){const j=a/2+Math.sin(b*.02+f*(.8+w*.2))*(10+w*3);b===0?c.moveTo(b,j):c.lineTo(b,j)}c.stroke()})},N=x=>{const f=(x-u)*.002;c.clearRect(0,0,r,a);const y=40,w=r/y;for(let b=0;b<y;b++){const P=10+(Math.sin(b*.5+f*2)+1)/2*(a-20),M=m.colors[b%m.colors.length];c.fillStyle=M,c.globalAlpha=t?.8:.7,c.fillRect(b*w+1,(a-P)/2,w-2,P)}},E=x=>{const f=(x-u)*.0018;c.clearRect(0,0,r,a);const y=3,w=40;for(let b=0;b<y;b++)for(let j=0;j<w;j++){const P=(j+.5)*(r/w),z=(b+1)*(a/(y+1))+Math.sin(j*.4+f*(1+b*.3))*8;c.beginPath(),c.fillStyle=m.colors[(b+j)%m.colors.length],c.globalAlpha=t?.85:.75,c.arc(P,z,2.2+b*.3,0,Math.PI*2),c.fill()}},S=x=>{const f=(x-u)*.0012;c.clearRect(0,0,r,a);for(let w=0;w<4;w++){c.beginPath(),c.lineWidth=2,c.strokeStyle=m.colors[w%m.colors.length],c.globalAlpha=t?.8:.6,c.moveTo(0,a/2);const b=a/2+Math.sin(f*(1.2+w*.3))*18,j=a/2+Math.cos(f*(1+w*.2))*18;c.bezierCurveTo(r*.33,b,r*.66,j,r,a/2),c.stroke()}const y=c.createLinearGradient(0,0,0,a);y.addColorStop(0,g+"00"),y.addColorStop(.5,g+"22"),y.addColorStop(1,g+"00"),c.fillStyle=y,c.fillRect(0,0,r,a)},$=x=>{switch(m.variant){case"bars":N(x);break;case"dots":E(x);break;case"bezier":S(x);break;default:h(x);break}o=requestAnimationFrame($)};return $(performance.now()),()=>cancelAnimationFrame(o)},[s,t,r,a]),e.jsx("canvas",{ref:l,className:`rounded-xl opacity-80 ${n}`,style:{width:r,height:a}})},C=({variant:s="primary",size:t="md",isLoading:r=!1,isDarkMode:a,themeType:n="purple",children:l,className:i="",disabled:c,...m})=>{const g="font-semibold rounded-xl transition-all duration-300 transform sm:hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",o={purple:"bg-gradient-to-r from-purple-600 to-indigo-600 focus:ring-purple-500 hover:from-purple-700 hover:to-indigo-700",ocean:"bg-gradient-to-r from-blue-600 to-cyan-600 focus:ring-blue-500 hover:from-blue-700 hover:to-cyan-700",sunset:"bg-gradient-to-r from-orange-600 to-red-500 focus:ring-orange-500 hover:from-orange-700 hover:to-red-600",forest:"bg-gradient-to-r from-green-600 to-emerald-600 focus:ring-green-500 hover:from-green-700 hover:to-emerald-700",cosmic:"bg-gradient-to-r from-violet-600 to-rose-600 focus:ring-violet-500 hover:from-violet-700 hover:to-rose-700"},u={purple:"bg-white text-gray-900 border border-purple-400 hover:bg-gray-50 focus:ring-purple-400",ocean:"bg-white text-gray-900 border border-blue-400 hover:bg-gray-50 focus:ring-blue-400",sunset:"bg-white text-gray-900 border border-orange-400 hover:bg-gray-50 focus:ring-orange-400",forest:"bg-white text-gray-900 border border-green-400 hover:bg-gray-50 focus:ring-green-400",cosmic:"bg-white text-gray-900 border border-violet-400 hover:bg-gray-50 focus:ring-violet-400"},h={purple:"bg-purple-50/40 hover:bg-purple-50 text-purple-700 border border-purple-200 focus:ring-purple-300",ocean:"bg-blue-50/40 hover:bg-blue-50 text-blue-700 border border-blue-200 focus:ring-blue-300",sunset:"bg-orange-50/40 hover:bg-orange-50 text-orange-700 border border-orange-200 focus:ring-orange-300",forest:"bg-green-50/40 hover:bg-green-50 text-green-700 border border-green-200 focus:ring-green-300",cosmic:"bg-violet-50/40 hover:bg-violet-50 text-violet-700 border border-violet-200 focus:ring-violet-300"},N={primary:`${o[n]} text-white shadow-xl hover:shadow-2xl`,secondary:a===!1?`${u[n]} shadow-md`:"bg-white/15 hover:bg-white/25 backdrop-blur-lg text-white border border-white/20 focus:ring-white/50",danger:"bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 focus:ring-red-500 shadow-xl hover:shadow-2xl",ghost:a===!1?h[n]:"bg-white/10 hover:bg-white/20 backdrop-blur-lg text-white border border-white/10 focus:ring-white/50"},E={sm:"px-3 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},S=`${g} ${N[s]} ${E[t]} ${i}`;return e.jsx("button",{className:S,disabled:c||r,...m,children:r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Cargando..."]}):l})},Je=({label:s,error:t,icon:r,className:a="",...n})=>{const i=`w-full p-4 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all ${a}`;return e.jsxs("div",{className:"space-y-2",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:s}),e.jsxs("div",{className:"relative",children:[r&&e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:r}),e.jsx("input",{className:`${i} ${r?"pl-12":""} ${t?"border-red-500":""}`,...n})]}),t&&e.jsx("p",{className:"text-sm text-red-400",children:t})]})},B=({children:s,className:t="",variant:r="glass",isDarkMode:a=!0})=>{const i=`rounded-2xl sm:rounded-3xl shadow-xl border transition-all duration-300 ${{default:a?"bg-white/10 border-white/20 backdrop-blur-lg shadow-2xl":"bg-white/50 border-white/40 backdrop-blur-lg shadow-2xl",glass:a?"bg-white/10 border-white/20 backdrop-blur-xl shadow-2xl hover:shadow-3xl":"bg-white/40 border-white/40 backdrop-blur-xl shadow-2xl hover:shadow-3xl",solid:a?"bg-gray-800/90 border-gray-700 backdrop-blur-sm shadow-2xl":"bg-white/90 border-gray-200 backdrop-blur-sm shadow-2xl"}[r]} ${t}`;return e.jsx("div",{className:i,children:s})},K=({open:s,title:t,onClose:r,children:a,maxWidthClass:n="max-w-lg"})=>(d.useEffect(()=>{const l=i=>{i.key==="Escape"&&r()};return s&&document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[s,r]),s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:r}),e.jsxs("div",{className:`relative w-full sm:w-auto sm:${n} sm:mx-auto bg-white/5 sm:bg-white/10 border border-white/20 rounded-t-2xl sm:rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden`,style:{paddingBottom:"max(env(safe-area-inset-bottom, 0px), 0px)",maxWidth:n==="max-w-sm"?"340px":void 0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsx("h3",{className:"text-white text-lg font-semibold select-none",children:t}),e.jsx("button",{onClick:r,className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg p-1.5 transition","aria-label":"Cerrar",children:"✖️"})]}),e.jsx("div",{className:"max-h-[70vh] sm:max-h-[80vh] overflow-y-auto p-4 custom-scrollbar",children:a})]})]}):null),qe=({currentTime:s,is24HourFormat:t,isDarkMode:r,voiceEnabled:a=!1,themeType:n})=>e.jsxs(B,{className:"inline-block w-full sm:w-auto p-4 sm:p-6 md:p-8 transform hover:scale-105 transition-all duration-500",isDarkMode:r,children:[e.jsx("div",{className:`text-5xl sm:text-6xl md:text-7xl font-mono font-bold mb-3 sm:mb-4 ${r?"text-white":"text-gray-800"} tracking-wider`,children:Se(s,t)}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(He,{theme:n,isDarkMode:r})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full ${r?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"}`,children:t?"24 Horas":"12 Horas"}),a&&e.jsx("span",{className:"text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-green-600/30 text-green-300 animate-pulse",children:"🎤 Voz Activa"})]}),e.jsx("div",{className:`text-sm sm:text-base md:text-lg ${r?"text-gray-300":"text-gray-600"}`,children:ke(s)})]}),F=s=>`/AlarmaPro/${s}`,Q=[{name:"Clásico",url:F("sounds/alarm-26718.mp3"),icon:"⏰"},{name:"Suave",url:F("sounds/reliable-safe-327618.mp3"),icon:"🎵"},{name:"Urgente",url:F("sounds/biohazard-alarm-143105.mp3"),icon:"🚨"},{name:"Sirena",url:F("sounds/facility-siren-loopable-100687.mp3"),icon:"🚒"},{name:"Digital",url:F("sounds/alarm-no3-14864.mp3"),icon:"🤖"}],me="alarmaPro.customSounds.v1";function X(){try{const s=localStorage.getItem(me);return s?JSON.parse(s):[]}catch{return[]}}function Ge(s){try{localStorage.setItem(me,JSON.stringify(s))}catch{}}function Ye(s,t){const r={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,name:s,dataUrl:t},a=X();return a.push(r),Ge(a),r}const Ke=({selectedSound:s,onSoundChange:t,className:r=""})=>{var o;const a=d.useRef(null),[n,l]=d.useState(()=>X()),i=d.useMemo(()=>{const u=n.map(h=>({name:h.name,url:h.dataUrl,icon:"📁"}));return[...Q,...u]},[n]),c=()=>{var u;return(u=a.current)==null?void 0:u.click()},m=async u=>{var x;const h=(x=u.target.files)==null?void 0:x[0];if(!h)return;const N=h.name.replace(/\.[^.]+$/,""),E=await new Promise((f,y)=>{const w=new FileReader;w.onload=()=>f(String(w.result)),w.onerror=()=>y(w.error),w.readAsDataURL(h)}),S=Ye(N,E),$=X();l($),t(S.dataUrl),u.target.value=""},g=u=>{const h=u.target.value;if(h==="__pick__"){setTimeout(()=>c(),0);return}t(h)};return e.jsxs("div",{className:`space-y-2 ${r}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sonido de Alarma"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:s||((o=i[0])==null?void 0:o.url),onChange:g,className:"flex-1 p-3 rounded-xl bg-white/10 text-gray-100 border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.map(u=>e.jsx("option",{value:u.url,children:`${u.icon} ${u.name}`},u.url)),e.jsx("option",{value:"__pick__",children:"📲 Elegir desde dispositivo…"})]}),e.jsx("input",{ref:a,type:"file",accept:"audio/*",hidden:!0,onChange:m})]})]})},Qe=({className:s="",count:t=50})=>{const r=d.useRef(null),a=d.useRef([]),n=d.useRef();return d.useEffect(()=>{const l=r.current;if(!l)return;const i=l.getContext("2d");if(!i)return;const c=()=>{l.width=l.offsetWidth,l.height=l.offsetHeight};c(),window.addEventListener("resize",c),(()=>{a.current=[];for(let o=0;o<t;o++)a.current.push({x:Math.random()*l.width,y:Math.random()*l.height,size:Math.random()*3+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,opacity:Math.random()*.3+.1})})();const g=()=>{i.clearRect(0,0,l.width,l.height),a.current.forEach(o=>{o.x+=o.speedX,o.y+=o.speedY,o.x>l.width&&(o.x=0),o.x<0&&(o.x=l.width),o.y>l.height&&(o.y=0),o.y<0&&(o.y=l.height),i.beginPath(),i.arc(o.x,o.y,o.size,0,Math.PI*2),i.fillStyle=`rgba(255, 255, 255, ${o.opacity})`,i.fill(),i.shadowBlur=10,i.shadowColor="rgba(147, 51, 234, 0.5)",i.beginPath(),i.arc(o.x,o.y,o.size*.5,0,Math.PI*2),i.fillStyle=`rgba(147, 51, 234, ${o.opacity*.5})`,i.fill(),i.shadowBlur=0}),n.current=requestAnimationFrame(g)};return g(),()=>{window.removeEventListener("resize",c),n.current&&cancelAnimationFrame(n.current)}},[t]),e.jsx("canvas",{ref:r,className:`absolute inset-0 pointer-events-none ${s}`,style:{mixBlendMode:"screen"}})},G={purple:"Púrpura",ocean:"Océano",sunset:"Atardecer",forest:"Bosque",cosmic:"Cósmico"},Xe=({value:s,onChange:t,isDarkMode:r})=>{const[a,n]=d.useState(!1),l=d.useRef(null);d.useEffect(()=>{if(!a)return;const g=u=>{l.current&&(l.current.contains(u.target)||n(!1))},o=u=>{u.key==="Escape"&&n(!1)};return document.addEventListener("mousedown",g),document.addEventListener("keydown",o),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("keydown",o)}},[a]);const i=d.useMemo(()=>Oe[s],[s]),c={backgroundImage:`linear-gradient(135deg, ${i.start}22, ${i.end}1A)`,borderColor:r?"rgba(255,255,255,0.12)":`${i.start}55`},m={backgroundImage:`linear-gradient(135deg, ${i.start}29, ${i.end}1F)`,borderColor:r?"rgba(255,255,255,0.12)":`${i.start}55`};return e.jsxs("div",{ref:l,className:"relative inline-block pointer-events-auto",children:[e.jsxs("button",{type:"button",className:`h-8 px-3 pr-8 rounded-xl text-sm flex items-center gap-2 border backdrop-blur-lg ${r?"text-white":"text-gray-800"}`,style:c,onClick:()=>n(g=>!g),"aria-haspopup":"listbox","aria-expanded":a,children:[e.jsx("span",{className:"text-lg leading-none",children:re[s]}),e.jsx("span",{className:"font-medium",children:G[s]}),e.jsx("span",{className:`absolute right-2 ${r?"text-white/80":"text-gray-700/80"}`,children:"▾"})]}),a&&e.jsx("div",{className:"absolute z-[9999] mt-2 w-44 rounded-xl shadow-2xl border overflow-hidden backdrop-blur-xl",style:m,role:"listbox",children:Object.keys(G).map(g=>{const o=g===s;return e.jsxs("button",{type:"button",role:"option","aria-selected":o,onClick:()=>{t(g),n(!1)},className:`w-full text-left px-3 py-2 flex items-center gap-2 text-sm transition-colors ${r?"hover:bg-white/10 text-white":"hover:bg-black/10 text-gray-800"} ${o?r?"bg-white/10":"bg-black/10":""}`,children:[e.jsx("span",{className:"text-lg",children:re[g]}),e.jsx("span",{className:"font-medium",children:G[g]})]},g)})})]})};function ne(s,t,r){return Math.max(t,Math.min(r,s))}function Ze(s){const t=/^(\d{1,2}):(\d{2})$/.exec(s||"");let r=8,a=0;if(t)r=ne(parseInt(t[1],10),0,23),a=ne(parseInt(t[2],10),0,59);else{const n=new Date;r=n.getHours(),a=n.getMinutes()}return{h:r,m:a}}function Z(s,t){const r=s.toString().padStart(2,"0"),a=t.toString().padStart(2,"0");return`${r}:${a}`}function oe(s,t){if(!t)return{hours:s,ampm:""};const r=s>=12?"PM":"AM";let a=s%12;return a===0&&(a=12),{hours:a,ampm:r}}function et(s,t,r,a){if(!a)return Z(s,t);let n=s%12;return r==="PM"&&(n+=12),Z(n,t)}const tt=({value:s,onChange:t,isDarkMode:r,use12Hour:a=!0,className:n="",label:l="Selecciona una hora"})=>{const{h:i,m:c}=d.useMemo(()=>Ze(s),[s]),m=d.useMemo(()=>oe(i,a),[i,a]),[g,o]=d.useState(!1),[u,h]=d.useState(m.hours),[N,E]=d.useState(c),[S,$]=d.useState(m.ampm),[x,f]=d.useState("hours"),y=d.useRef(null);d.useEffect(()=>{const v=oe(i,a);h(v.hours),E(c),$(v.ampm)},[s,a,i,c]),d.useEffect(()=>{const v=A=>{y.current&&(y.current.contains(A.target)||o(!1))},L=A=>{A.key==="Escape"&&o(!1)};return document.addEventListener("mousedown",v),document.addEventListener("keydown",L),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",L)}},[]);const w=(v=u,L=N,A=S)=>{const R=et(v,L,A,a);t(R)},b=r?"bg-white/10":"bg-black/10",j=r?"text-white":"text-gray-800",P=r?"text-gray-300":"text-gray-700",M=r?"border-white/20":"border-gray-200",z=108,D=130,I=d.useMemo(()=>{const v=a?12:24;return Array.from({length:v},(A,R)=>a?R+1:R)},[a]),U=d.useMemo(()=>Array.from({length:12},(v,L)=>L*5),[]),k=v=>(a?v%12:v)/(a?12:24)*360-90,W=v=>v/60*360-90,H=()=>{const v=x==="hours",L=v?I:U,A=v?u:N,R=v?k(a?u%12:u):W(N);return e.jsxs("div",{className:`relative w-[260px] h-[260px] rounded-full ${b} border ${M} mx-auto select-none`,children:[e.jsx("div",{className:"absolute left-1/2 top-1/2 origin-center",style:{transform:`translate(-50%, -50%) rotate(${R}deg)`},children:(()=>{const p=z,T=10;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${r?"bg-white/70":"bg-gray-700/70"} absolute`,style:{width:`${p}px`,height:"2px",left:0,top:"50%",transform:"translateY(-50%)"}}),e.jsx("div",{className:`${r?"bg-white":"bg-gray-800"} absolute rounded-full`,style:{width:`${T}px`,height:`${T}px`,left:`${p}px`,top:"50%",transform:"translate(-50%, -50%)"}})]})})()}),L.map((p,T)=>{const O=(T/(v?a?12:24:12)*360-90)*Math.PI/180,ue=D+z*Math.cos(O),xe=D+z*Math.sin(O),ee=A===p||!a&&v&&A===p,q="absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center transition",ge=`${q} w-10 h-10 rounded-full text-sm font-semibold ${ee?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg":b+" "+j}`,pe=ee?`${q} w-12 h-12 rounded-full font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg`:`${q} w-8 h-8 bg-transparent ${r?"text-gray-300":"text-gray-700"} text-xs`;return e.jsx("button",{type:"button",onClick:()=>{v?(h(p),f("minutes")):E(p)},className:v?ge:pe,style:{left:ue,top:xe},children:v&&a?p:p.toString().padStart(2,"0")},`${x}-${p}`)})]})};return e.jsxs("div",{ref:y,className:`w-full ${n}`,children:[l&&e.jsx("label",{className:`block text-sm font-medium mb-2 ${P}`,children:l}),e.jsxs("button",{type:"button",onClick:()=>{f("hours"),o(v=>!v)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border ${M} ${r?"bg-white/10":"bg-white/80"} backdrop-blur-lg hover:shadow-lg transition-all`,"aria-haspopup":"dialog","aria-expanded":g,children:[e.jsxs("div",{className:`flex items-center gap-3 ${j}`,children:[e.jsx("span",{className:"text-xl",children:"⏰"}),e.jsx("span",{className:"font-mono text-lg font-bold tracking-wider",children:Z(i,c)}),a&&e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${r?"bg-white/10 text-white":"bg-black/10 text-gray-800"}`,children:m.ampm})]}),e.jsx("span",{className:"opacity-70",children:"▾"})]}),g&&e.jsxs("div",{className:`mt-2 p-4 rounded-2xl border ${M} ${r?"bg-white/10":"bg-white/80"} backdrop-blur-xl shadow-2xl z-50 relative`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${j} ${x==="hours"?"":"opacity-70"}`,onClick:()=>f("hours"),children:u.toString().padStart(2,"0")}),e.jsx("span",{className:`font-mono text-4xl font-bold ${j}`,children:":"}),e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${j} ${x==="minutes"?"":"opacity-70"}`,onClick:()=>f("minutes"),children:N.toString().padStart(2,"0")})]}),a&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${S==="AM"?"bg-purple-600 text-white":b+" "+j}`,onClick:()=>$("AM"),children:"a.m."}),e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${S==="PM"?"bg-purple-600 text-white":b+" "+j}`,onClick:()=>$("PM"),children:"p.m."})]})]}),H(),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${b} ${j} hover:opacity-90`,onClick:()=>o(!1),children:"Cancelar"}),e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${b} ${j} hover:opacity-90`,onClick:()=>f(x==="hours"?"minutes":"hours"),children:x==="hours"?"Minutos":"Horas"}),e.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:opacity-95",onClick:()=>{w(),o(!1)},children:"Aceptar"})]})]})]})},st=({is24Hour:s,onToggle:t,isDarkMode:r=!0,accentHex:a,className:n=""})=>{const l=r?"bg-white/10":"bg-black/10",i=r?"border-white/20":"border-black/10",c=r?"text-white":"text-gray-800";return e.jsxs("button",{type:"button",onClick:t,"aria-pressed":s,"aria-label":"Cambiar formato horario",className:`relative inline-flex items-center justify-between ${l} ${i} ${c} rounded-full h-9 w-28 px-3 select-none border overflow-hidden ${n}`,children:[e.jsx("div",{className:"absolute top-1 bottom-1 w-[52%] rounded-full transition-all duration-200",style:{left:s?4:void 0,right:s?void 0:4,background:a?`linear-gradient(135deg, ${a}33, ${a}55)`:r?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",boxShadow:r?"inset 0 0 0 1px rgba(255,255,255,0.15)":"inset 0 0 0 1px rgba(0,0,0,0.08)"}}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"24h"}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"12h"})]})},rt=s=>`/AlarmaPro/${s}`,at=({isDarkMode:s,onInstall:t,onDismiss:r})=>{const[a,n]=d.useState(!1);d.useEffect(()=>{localStorage.getItem("alarmapro_welcomed")||n(!0)},[]);const l=()=>{localStorage.setItem("alarmapro_welcomed","true"),n(!1),r()},i=()=>{localStorage.setItem("alarmapro_welcomed","true"),n(!1),t()};return e.jsx(K,{open:a,onClose:l,title:"¡Bienvenido a AlarmaPro!",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"text-center px-1",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:rt("clock1.png"),alt:"AlarmaPro Logo",className:"w-24 h-24 object-contain filter drop-shadow-lg animate-pulse"}),e.jsx("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 opacity-30 blur-xl animate-pulse"})]})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"Tu sistema de alarmas inteligente"}),e.jsx("p",{className:"text-gray-200 mb-4 text-sm",children:"Gracias por usar AlarmaPro, la aplicación que te ayuda a organizar tu tiempo con estilo. Nunca fue tan fácil configurar alarmas personalizadas."}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center mb-2",children:[e.jsx(C,{variant:"secondary",onClick:l,className:"w-full py-2",isDarkMode:s,children:"Continuar a la app"}),e.jsx(C,{variant:"primary",onClick:i,className:"w-full py-2",isDarkMode:s,children:"Instalar aplicación"})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-400",children:"Puedes instalar la aplicación en cualquier momento desde el menú del navegador"}),e.jsx("p",{className:"mt-2 text-2xs text-gray-500 pt-1 border-t border-gray-700",children:"Diseñado por Axon.app y IA"})]})})},nt=({alarm:s,isDarkMode:t,is24HourFormat:r,themeType:a,onEdit:n,onToggle:l,onDelete:i})=>{var c;return e.jsx(B,{className:"group p-4 sm:p-6 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-2xl",isDarkMode:t,children:e.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-3 sm:gap-4 mb-2 flex-wrap",children:[e.jsx("div",{className:`text-3xl sm:text-4xl font-mono font-bold ${t?"text-white":"text-gray-800"} tracking-wide`,children:$e(s.time,r)}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${Ae(s.priority,t)} text-white shadow-lg`,children:Ce(s.priority)})]}),e.jsx("div",{className:`text-lg sm:text-xl font-semibold mb-2 sm:mb-3 ${t?"text-gray-200":"text-gray-700"}`,children:s.label}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🔊"}),e.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:(c=Be[s.sound])==null?void 0:c.name})]}),s.vibrate&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-blue-600/30 text-blue-300":"bg-blue-200 text-blue-800"}`,children:"📳 Vibrar"}),s.gradualWake&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-orange-600/30 text-orange-300":"bg-orange-200 text-orange-800"}`,children:"🌅 Gradual"}),s.challengeMode&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-red-600/30 text-red-300":"bg-red-200 text-red-800"}`,children:"🧩 Desafío"})]}),s.days.length>0&&e.jsx("div",{className:"flex gap-1.5 sm:gap-2 mt-2 sm:mt-3 flex-wrap",children:s.days.map(m=>e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${t?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"} shadow-sm`,children:ce[m]},m))})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 self-start sm:self-center",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"p-3 sm:p-4 hover:scale-110",title:"Editar alarma",isDarkMode:t,themeType:a,children:"⚙️"}),e.jsx(C,{variant:s.enabled?"primary":"ghost",size:"sm",onClick:()=>l(s.id),className:"p-3 sm:p-4 hover:scale-110",title:s.enabled?"Desactivar":"Activar",isDarkMode:t,themeType:a,children:s.enabled?"⏸️":"▶️"}),e.jsx(C,{variant:"danger",size:"sm",onClick:()=>i(s.id),className:"p-3 sm:p-4 hover:scale-110",title:"Eliminar alarma",isDarkMode:t,themeType:a,children:"🗑️"})]})]})})},ot=({alarm:s,isDarkMode:t,theme:r,themeType:a,onSave:n,onCancel:l,alarmVolume:i,onVolumeChange:c,is24HourFormat:m=!0})=>{const g=d.useMemo(()=>{switch(r.accent){case"purple-600":return"#9333EA";case"blue-600":return"#2563EB";case"orange-600":return"#EA580C";case"green-600":return"#16A34A";case"violet-600":return"#7C3AED";default:return"#9333EA"}},[r.accent]),[o,u]=d.useState(s?{time:s.time,label:s.label,days:[...s.days],sound:s.sound,enabled:s.enabled,priority:s.priority,vibrate:s.vibrate,gradualWake:s.gradualWake,challengeMode:s.challengeMode}:{...Ve}),[h,N]=d.useState([]),E=x=>{x.preventDefault();const f=Te(o);if(f.length>0){N(f);return}N([]),n(o)},S=(x,f)=>{u(y=>({...y,[x]:f}))},$=x=>{const f=o.days.includes(x)?o.days.filter(y=>y!==x):[...o.days,x];S("days",f)};return e.jsxs(B,{className:"max-w-lg mx-auto p-5 sm:p-8",isDarkMode:t,children:[e.jsx("h3",{className:`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${t?"text-white":"text-gray-800"} text-center`,children:s?"✏️ Editar Alarma":"✨ Crear Nueva Alarma"}),e.jsxs("form",{onSubmit:E,className:"space-y-4 sm:space-y-6",children:[h.length>0&&e.jsx("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-xl",children:h.map((x,f)=>e.jsx("p",{className:"text-red-400 text-sm",children:x},f))}),e.jsx("div",{children:e.jsx(tt,{label:"⏰ Hora",value:o.time,onChange:x=>S("time",x),isDarkMode:t,use12Hour:!m})}),e.jsx(Je,{type:"text",label:"🏷️ Etiqueta",placeholder:"Ej: Reunión importante, Ejercicio, Medicamento...",value:o.label,onChange:x=>S("label",x.target.value),className:`${t?"bg-white/10 text-white border-white/20 placeholder-gray-400":"bg-white/70 text-gray-800 border-gray-300 placeholder-gray-500"}`}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"📅 Días de la semana"}),e.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:ce.map((x,f)=>e.jsx("button",{type:"button",onClick:()=>$(f),className:`flex items-center justify-center h-10 sm:h-11 px-3 rounded-xl text-sm leading-none font-bold transition-all duration-300 ${o.days.includes(f)?`bg-gradient-to-r from-${r.accent} to-purple-600 text-white shadow-xl`:t?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:x},x))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"sm:col-span-1",children:e.jsx(Ke,{selectedSound:typeof o.sound=="string"?o.sound:"",onSoundChange:x=>S("sound",x),className:""})}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"🔊 Volumen"}),e.jsx("input",{type:"range",min:"0",max:"100",value:i,onChange:x=>c(Number(x.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer outline-none",style:{background:`linear-gradient(to right, ${g} ${i}%, ${t?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.15)"} ${i}%)`,accentColor:g,color:g}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:"⚙️ Opciones Avanzadas"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[{key:"vibrate",label:"📳 Vibrar"},{key:"gradualWake",label:"🌅 Despertar Gradual"},{key:"challengeMode",label:"🧩 Modo Desafío"}].map(x=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o[x.key],onChange:f=>S(x.key,f.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:`${t?"text-gray-300":"text-gray-700"}`,children:x.label})]},x.key))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6",children:[e.jsx(C,{type:"submit",variant:"primary",className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:a,children:s?"✅ Actualizar":"💾 Guardar"}),e.jsx(C,{type:"button",variant:"secondary",onClick:l,className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:a,children:"❌ Cancelar"})]})]})]})},lt=({alarms:s,isDarkMode:t,is24HourFormat:r,theme:a,themeType:n,onEdit:l,onToggle:i,onDelete:c})=>s.length===0?e.jsxs("div",{className:`text-center py-10 sm:py-16 ${t?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse text-6xl",children:"⏰"}),e.jsx("div",{className:"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping text-2xl",children:"✨"})]}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"No hay alarmas configuradas"}),e.jsx("p",{className:"text-base sm:text-lg mb-2",children:"¡Crea tu primera alarma inteligente!"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Usa los botones de arriba para empezar."})]}):e.jsx("div",{className:"max-w-4xl mx-auto space-y-3 sm:space-y-4 px-1 sm:px-0",children:s.map(m=>e.jsx(nt,{alarm:m,isDarkMode:t,is24HourFormat:r,theme:a,themeType:n,onEdit:l,onToggle:i,onDelete:c},m.id))}),it=s=>`/AlarmaPro/${s}`,ct=()=>{const s=ze(),{settings:t,toggleDarkMode:r,toggleTimeFormat:a,toggleVoice:n,setTheme:l,setVolume:i}=Re(),{alarms:c,activeAlarm:m,addAlarm:g,updateAlarm:o,deleteAlarm:u,toggleAlarm:h,dismissAlarm:N}=Pe(),{isSnoozing:E,snoozeCount:S,canSnooze:$,snooze:x,resetSnooze:f}=_e(ae),y=De(),[w,b]=d.useState(!1),[j,P]=d.useState(!1),[M,z]=d.useState(null),D=d.useRef(null),[I,U]=d.useState(null),k=Ie[t.theme],W=p=>{const T=Me(p);g(T),P(!1)},H=()=>{if(m&&$){const p=Le(m,S,We);g(p),x(),N()}},v=p=>{M?o(M.id,p):g(p),z(null),b(!1)},L=p=>{z(p),b(!0)},A=()=>{z(null),b(!1)};d.useEffect(()=>{const p=T=>{T.preventDefault(),U(T)};return window.addEventListener("beforeinstallprompt",p),()=>{window.removeEventListener("beforeinstallprompt",p)}},[]);const R=()=>{if(!I){alert(`Para instalar la aplicación: 
1. Abre el menú del navegador (los tres puntos)
2. Selecciona 'Instalar aplicación' o 'Añadir a pantalla de inicio'`);return}I.prompt(),I.userChoice.then(p=>{p.outcome==="accepted"?console.log("Usuario aceptó la instalación"):console.log("Usuario rechazó la instalación"),U(null)})};return d.useEffect(()=>{const p=D.current;if(!p)return;const T=_=>{var J,O;return _?/(\.mp3|^\/|^https?:)/i.test(_)?_:((O=Q[0])==null?void 0:O.url)||"":((J=Q[0])==null?void 0:J.url)||""};if(m){const _=T(m.sound);if(_)try{p.pause(),p.src=_,p.loop=!0,p.volume=Math.max(0,Math.min(1,(t.alarmVolume??100)/100)),p.currentTime=0,p.play().catch(()=>{})}catch{}}else p.pause()},[m,t.alarmVolume]),e.jsxs("div",{className:`min-h-screen transition-all duration-1000 ${t.isDarkMode?`bg-gradient-to-br ${k.from} via-gray-900 ${k.to}`:`bg-gradient-to-br ${k.light} via-white to-gray-50`}`,children:[e.jsx(Qe,{count:60,className:"opacity-40"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-30",children:e.jsxs("div",{className:"absolute -inset-10",children:[e.jsx("div",{className:`absolute top-0 -left-4 w-96 h-96 bg-gradient-to-r ${k.from.includes("purple")?"from-purple-400":k.from.includes("blue")?"from-blue-400":k.from.includes("orange")?"from-orange-400":k.from.includes("green")?"from-green-400":"from-violet-400"} to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse transform rotate-45`}),e.jsx("div",{className:"absolute top-0 -right-4 w-96 h-96 bg-gradient-to-l from-yellow-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-2000 transform -rotate-45"}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-gradient-to-t from-pink-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-4000"})]})}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8 pb-16 sm:pb-20",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6 flex-wrap",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-2xl bg-gradient-to-r from-${k.accent} to-purple-600 backdrop-blur-lg shadow-xl`,children:e.jsx("img",{src:it("clockT.png"),alt:"AlarmaPro Logo",className:"w-8 h-8 sm:w-9 sm:h-9"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:"AlarmaPro"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-5 sm:mb-6 overflow-x-auto px-1 py-1",style:{overflow:"visible"},children:[e.jsx(st,{is24Hour:t.is24HourFormat,onToggle:a,isDarkMode:t.isDarkMode,accentHex:de[t.theme]}),e.jsx(C,{variant:t.voiceEnabled?"primary":"ghost",size:"sm",onClick:n,title:"Voz habilitada",className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:"🔊"}),e.jsx(Xe,{value:t.theme,onChange:p=>l(p),isDarkMode:t.isDarkMode}),e.jsx(C,{variant:"ghost",size:"sm",onClick:r,className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:t.isDarkMode?"☀️":"🌙"})]}),e.jsx(qe,{currentTime:s,is24HourFormat:t.is24HourFormat,isDarkMode:t.isDarkMode,voiceEnabled:t.voiceEnabled,theme:k,themeType:t.theme})]}),e.jsx("div",{className:"w-full max-w-xl mx-auto mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto no-scrollbar whitespace-nowrap",children:[e.jsxs(C,{variant:"primary",onClick:()=>b(!w),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,children:["➕ ",M?"Editar Alarma":"Nueva Alarma"]}),e.jsx(C,{variant:"secondary",onClick:()=>P(!j),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,children:"⚡ Alarmas Rápidas"})]})}),e.jsx(K,{open:j,onClose:()=>P(!1),title:"⚡ Alarmas Rápidas",maxWidthClass:"max-w-2xl",children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3",children:Ue.map(p=>e.jsxs("button",{onClick:()=>W(p.minutes),className:`group p-3 sm:p-4 rounded-2xl ${t.isDarkMode?"bg-white/10 hover:bg-white/20":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl hover-glow`,children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 ${t.isDarkMode?"text-white":"text-gray-800"} group-hover:animate-bounce text-xl sm:text-2xl`,children:p.icon}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${t.isDarkMode?"text-white":"text-gray-800"}`,children:p.label})]},p.minutes))})}),e.jsx(K,{open:w,onClose:A,title:M?"✏️ Editar Alarma":"✨ Nueva Alarma",maxWidthClass:"max-w-xl",children:e.jsx(ot,{alarm:M||void 0,isDarkMode:t.isDarkMode,theme:k,themeType:t.theme,onSave:v,onCancel:A,alarmVolume:t.alarmVolume,onVolumeChange:i,is24HourFormat:t.is24HourFormat})}),e.jsx(lt,{alarms:c,isDarkMode:t.isDarkMode,is24HourFormat:t.is24HourFormat,theme:k,themeType:t.theme,onEdit:L,onToggle:h,onDelete:u})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-lg flex items-center justify-center z-50",children:e.jsxs(B,{className:"relative p-12 text-center max-w-lg mx-4",isDarkMode:t.isDarkMode,children:[e.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 mx-auto text-yellow-400 drop-shadow-lg text-6xl",children:"⚡"}),e.jsx("div",{className:"absolute inset-0 w-20 h-20 mx-auto border-4 border-yellow-400 rounded-full"})]})}),e.jsx("h2",{className:`text-4xl font-bold mb-4 ${t.isDarkMode?"text-white":"text-gray-800"}`,children:"🚨 ¡ALARMA ACTIVA!"}),e.jsx("p",{className:`text-2xl font-semibold mb-4 ${t.isDarkMode?"text-gray-200":"text-gray-700"}`,children:m.label}),e.jsx("p",{className:`text-5xl font-mono font-bold mb-8 ${t.isDarkMode?"text-white":"text-gray-800"} tracking-wider`,children:m.time}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4",children:[$&&e.jsx(C,{variant:"secondary",onClick:H,className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"🔄 Posponer 5min"}),e.jsx(C,{variant:"danger",onClick:()=>{N(),f()},className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"🔇 Desactivar"})]}),S>0&&e.jsxs("div",{className:`text-sm ${t.isDarkMode?"text-gray-400":"text-gray-600"}`,children:["Pospuestas: ",S,"/",ae]})]})]})]})}),E&&e.jsx("div",{className:"fixed top-4 right-4 z-40",children:e.jsx(B,{className:"p-4 transform animate-bounce",isDarkMode:t.isDarkMode,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🔄"}),e.jsx("span",{className:"font-semibold text-white",children:"Pospuesta 5 minutos"})]})})}),e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 transform pointer-events-none select-none z-0 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-blue-400 text-sm",children:"📶"}),e.jsxs("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:[y.online?"Conectado":"Sin conexión",y.effectiveType?` · ${y.effectiveType.toUpperCase()}`:""]})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-green-400 text-sm",children:"🔋"}),e.jsx("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:y.batteryLevel!==null?`${y.batteryLevel}%${y.charging?" ⚡":""}`:"—"})]})]}),t.voiceEnabled&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-600/30 backdrop-blur-lg animate-pulse",children:[e.jsx("span",{className:"text-green-300 text-sm",children:"🔊"}),e.jsx("span",{className:"text-sm text-green-300",children:"Voz"})]})]}),e.jsx(at,{isDarkMode:t.isDarkMode,onInstall:R,onDismiss:()=>{}}),e.jsx("audio",{ref:D})]})},dt=Y.createRoot(document.getElementById("root"));dt.render(e.jsx(be.StrictMode,{children:e.jsx(ct,{})}));
//# sourceMappingURL=index-B2fPHPZL.js.map
