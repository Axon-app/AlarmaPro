import{r as d,a as ke,R as fe}from"./vendor-nf7bT_Uh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var be={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee=d,Ce=Symbol.for("react.element"),Ae=Symbol.for("react.fragment"),Me=Object.prototype.hasOwnProperty,Le=Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Te={key:!0,ref:!0,__self:!0,__source:!0};function ye(s,t,a){var r,n={},o=null,i=null;a!==void 0&&(o=""+a),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Me.call(t,r)&&!Te.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Ce,type:s,key:o,ref:i,props:n,_owner:Le.current}}K.Fragment=Ae;K.jsx=ye;K.jsxs=ye;be.exports=K;var e=be.exports,ne={},me=ke;ne.createRoot=me.createRoot,ne.hydrateRoot=me.hydrateRoot;const Pe=(s,t)=>t?s.toLocaleTimeString("es-ES",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):s.toLocaleTimeString("es-ES",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"}),ze=(s,t)=>{if(t)return s;{const[a,r]=s.split(":"),n=parseInt(a),o=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${r} ${o}`}},Re=s=>s.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),De=(s,t)=>t?{low:"from-blue-600 to-cyan-600",normal:"from-green-600 to-emerald-600",high:"from-yellow-600 to-orange-600",urgent:"from-red-600 to-pink-600"}[s]:{low:"from-blue-400 to-cyan-400",normal:"from-green-400 to-emerald-400",high:"from-yellow-400 to-orange-400",urgent:"from-red-400 to-pink-400"}[s],_e=s=>({low:"🔵 BAJA",normal:"🟢 NORMAL",high:"🟡 ALTA",urgent:"🔴 URGENTE"})[s],Ie=(s,t)=>{if(!s.enabled)return!1;const a=t.toTimeString().slice(0,5),r=t.getDay();return s.time!==a?!1:s.days.length===0?!0:s.days.includes(r)},Oe=s=>{const t=new Date;return t.setMinutes(t.getMinutes()+s),{time:t.toTimeString().slice(0,5),label:`Alarma rápida ${s} min`,days:[],sound:"gentle",enabled:!0,priority:"high",vibrate:!0,gradualWake:!1,useVoice:!1}},Fe=(s,t,a=5)=>{const r=new Date;r.setMinutes(r.getMinutes()+a);const n=r.toTimeString().slice(0,5);return{...s,time:n,label:`${s.label} (Snooze ${t+1})`,days:[],useVoice:s.useVoice??!1}},Ve=s=>{const t=[];return s.time||t.push("La hora es requerida"),s.label.trim()||t.push("La etiqueta es requerida"),s.label.length>50&&t.push("La etiqueta no puede exceder 50 caracteres"),t},Be=()=>{const[s,t]=d.useState([]),[a,r]=d.useState(null);d.useEffect(()=>{const l=localStorage.getItem("alarmaPro_alarms");if(l)try{t(JSON.parse(l))}catch(m){console.error("Error loading alarms from localStorage:",m)}},[]),d.useEffect(()=>{localStorage.setItem("alarmaPro_alarms",JSON.stringify(s))},[s]),d.useEffect(()=>{const l=setInterval(()=>{const m=new Date;s.forEach(f=>{Ie(f,m)&&!a&&u(f)})},1e3);return()=>clearInterval(l)},[s,a]);const n=d.useCallback(l=>{const m={...l,id:Date.now()};t(f=>[...f,m])},[]),o=d.useCallback((l,m)=>{t(f=>f.map(N=>N.id===l?{...m,id:l}:N))},[]),i=d.useCallback(l=>{t(m=>m.filter(f=>f.id!==l))},[]),c=d.useCallback(l=>{t(m=>m.map(f=>f.id===l?{...f,enabled:!f.enabled}:f))},[]),u=d.useCallback(l=>{r(l)},[]),x=d.useCallback(()=>{r(null)},[]);return{alarms:s,activeAlarm:a,addAlarm:n,updateAlarm:o,deleteAlarm:i,toggleAlarm:c,dismissAlarm:x,triggerAlarm:u}},Ue=()=>{const[s,t]=d.useState(new Date);return d.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]),s},ue={isDarkMode:!0,is24HourFormat:!0,theme:"purple",voiceEnabled:!1,animationStyle:"smooth",alarmVolume:80},We=()=>{const[s,t]=d.useState(ue);d.useEffect(()=>{const u=localStorage.getItem("alarmaPro_settings");if(u)try{const x=JSON.parse(u);t({...ue,...x})}catch(x){console.error("Error loading settings:",x)}},[]),d.useEffect(()=>{localStorage.setItem("alarmaPro_settings",JSON.stringify(s))},[s]);const a=(u,x)=>{t(l=>({...l,[u]:x}))};return{settings:s,updateSetting:a,toggleDarkMode:()=>{a("isDarkMode",!s.isDarkMode)},toggleTimeFormat:()=>{a("is24HourFormat",!s.is24HourFormat)},toggleVoice:()=>{a("voiceEnabled",!s.voiceEnabled)},setTheme:u=>{a("theme",u)},setVolume:u=>{a("alarmVolume",Math.max(0,Math.min(100,u)))}}},qe=(s=3)=>{const[t,a]=d.useState(!1),[r,n]=d.useState(0),o=r<s,i=d.useCallback(()=>{o&&(n(u=>u+1),a(!0),setTimeout(()=>{a(!1)},2e3))},[o]),c=d.useCallback(()=>{n(0),a(!1)},[]);return{isSnoozing:t,snoozeCount:r,canSnooze:o,snooze:i,resetSnooze:c}};function Je(){const[s,t]=d.useState({batteryLevel:null,charging:null,networkType:null,effectiveType:null,online:typeof navigator<"u"?navigator.onLine:!0});return d.useEffect(()=>{let a=null,r,n=null,o=null,i=null;const c=()=>t(l=>({...l,online:navigator.onLine})),u=async()=>{try{if(navigator.getBattery){a=await navigator.getBattery();const l=()=>t(m=>({...m,batteryLevel:Math.round((a.level??0)*100),charging:!!a.charging}));l(),n=()=>l(),o=()=>l(),a.addEventListener("levelchange",n),a.addEventListener("chargingchange",o)}}catch{}},x=()=>{if(r=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r){const l=()=>t(m=>({...m,networkType:r.type||"unknown",effectiveType:r.effectiveType||null}));l(),i=()=>l(),r.addEventListener("change",i)}};return u(),x(),window.addEventListener("online",c),window.addEventListener("offline",c),()=>{if(window.removeEventListener("online",c),window.removeEventListener("offline",c),a)try{n&&a.removeEventListener("levelchange",n),o&&a.removeEventListener("chargingchange",o)}catch{}if(r&&i)try{r.removeEventListener("change",i)}catch{}}},[]),s}const ve=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],Ye={purple:{from:"from-purple-900",to:"to-indigo-900",accent:"purple-600",light:"from-purple-50 to-indigo-50"},ocean:{from:"from-blue-900",to:"to-cyan-900",accent:"blue-600",light:"from-blue-50 to-cyan-50"},sunset:{from:"from-orange-900",to:"to-red-900",accent:"orange-600",light:"from-orange-50 to-red-50"},forest:{from:"from-green-900",to:"to-emerald-900",accent:"green-600",light:"from-green-50 to-emerald-50"},cosmic:{from:"from-violet-900",to:"to-pink-900",accent:"violet-600",light:"from-violet-50 to-pink-50"}},xe={purple:"🟣",ocean:"🌊",sunset:"🌅",forest:"🌲",cosmic:"🌌"},we={purple:"#9333ea",ocean:"#2563eb",sunset:"#ea580c",forest:"#16a34a",cosmic:"#7c3aed"},Ge={purple:{start:"#9333ea",end:"#6366f1"},ocean:{start:"#2563eb",end:"#06b6d4"},sunset:{start:"#ea580c",end:"#ef4444"},forest:{start:"#16a34a",end:"#22c55e"},cosmic:{start:"#7c3aed",end:"#db2777"}},He={purple:{variant:"ribbons",colors:["#a78bfa","#f0abfc","#c4b5fd","#f5d0fe"]},ocean:{variant:"bezier",colors:["#38bdf8","#22d3ee","#60a5fa","#06b6d4"]},sunset:{variant:"bars",colors:["#fb7185","#f97316","#f59e0b","#ef4444"]},forest:{variant:"dots",colors:["#34d399","#86efac","#22c55e","#a3e635"]},cosmic:{variant:"ribbons",colors:["#a78bfa","#f472b6","#60a5fa","#c084fc"]}},Xe={gentle:{name:"🎵 Suave Despertar",description:"Melodía relajante"},energetic:{name:"⚡ Power Up",description:"Energía máxima"},nature:{name:"🌊 Sonidos Naturales",description:"Aves y agua"},classic:{name:"⏰ Clásico Digital",description:"Beep tradicional"},binaural:{name:"🧠 Binaural",description:"Frecuencias cerebrales"},piano:{name:"🎹 Piano Suave",description:"Notas de piano"},cosmic:{name:"🌌 Cósmico",description:"Sonidos del espacio"}},Ke=[{minutes:5,label:"5 min",icon:"☕"},{minutes:10,label:"10 min",icon:"⏱️"},{minutes:15,label:"15 min",icon:"☕"},{minutes:20,label:"20 min",icon:"🏃"},{minutes:30,label:"30 min",icon:"🎯"},{minutes:60,label:"1 hora",icon:"⏰"}],Qe={time:"",label:"",days:[],sound:"gentle",enabled:!0,priority:"normal",vibrate:!0,gradualWake:!1,useVoice:!1},Ze=5,ge=3,et=({theme:s,isDarkMode:t=!0,width:a=360,height:r=80,className:n=""})=>{const o=d.useRef(null);return d.useEffect(()=>{const i=o.current;if(!i)return;const c=i.getContext("2d");if(!c)return;i.width=a,i.height=r;const u=He[s],x=we[s];let l=0;const m=performance.now(),f=w=>{const g=(w-m)*.0015;c.clearRect(0,0,a,r),u.colors.forEach((h,b)=>{c.beginPath(),c.lineWidth=2,c.strokeStyle=h,c.globalAlpha=t?.8:.6;for(let v=0;v<=a;v++){const C=r/2+Math.sin(v*.02+g*(.8+b*.2))*(10+b*3);v===0?c.moveTo(v,C):c.lineTo(v,C)}c.stroke()})},N=w=>{const g=(w-m)*.002;c.clearRect(0,0,a,r);const h=40,b=a/h;for(let v=0;v<h;v++){const P=10+(Math.sin(v*.5+g*2)+1)/2*(r-20),z=u.colors[v%u.colors.length];c.fillStyle=z,c.globalAlpha=t?.8:.7,c.fillRect(v*b+1,(r-P)/2,b-2,P)}},A=w=>{const g=(w-m)*.0018;c.clearRect(0,0,a,r);const h=3,b=40;for(let v=0;v<h;v++)for(let C=0;C<b;C++){const P=(C+.5)*(a/b),D=(v+1)*(r/(h+1))+Math.sin(C*.4+g*(1+v*.3))*8;c.beginPath(),c.fillStyle=u.colors[(v+C)%u.colors.length],c.globalAlpha=t?.85:.75,c.arc(P,D,2.2+v*.3,0,Math.PI*2),c.fill()}},k=w=>{const g=(w-m)*.0012;c.clearRect(0,0,a,r);for(let b=0;b<4;b++){c.beginPath(),c.lineWidth=2,c.strokeStyle=u.colors[b%u.colors.length],c.globalAlpha=t?.8:.6,c.moveTo(0,r/2);const v=r/2+Math.sin(g*(1.2+b*.3))*18,C=r/2+Math.cos(g*(1+b*.2))*18;c.bezierCurveTo(a*.33,v,a*.66,C,a,r/2),c.stroke()}const h=c.createLinearGradient(0,0,0,r);h.addColorStop(0,x+"00"),h.addColorStop(.5,x+"22"),h.addColorStop(1,x+"00"),c.fillStyle=h,c.fillRect(0,0,a,r)},E=w=>{switch(u.variant){case"bars":N(w);break;case"dots":A(w);break;case"bezier":k(w);break;default:f(w);break}l=requestAnimationFrame(E)};return E(performance.now()),()=>cancelAnimationFrame(l)},[s,t,a,r]),e.jsx("canvas",{ref:o,className:`rounded-xl opacity-80 ${n}`,style:{width:a,height:r}})},M=({variant:s="primary",size:t="md",isLoading:a=!1,isDarkMode:r,themeType:n="purple",children:o,className:i="",disabled:c,...u})=>{const x="font-semibold rounded-xl transition-all duration-300 transform sm:hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",l={purple:"bg-gradient-to-r from-purple-600 to-indigo-600 focus:ring-purple-500 hover:from-purple-700 hover:to-indigo-700",ocean:"bg-gradient-to-r from-blue-600 to-cyan-600 focus:ring-blue-500 hover:from-blue-700 hover:to-cyan-700",sunset:"bg-gradient-to-r from-orange-600 to-red-500 focus:ring-orange-500 hover:from-orange-700 hover:to-red-600",forest:"bg-gradient-to-r from-green-600 to-emerald-600 focus:ring-green-500 hover:from-green-700 hover:to-emerald-700",cosmic:"bg-gradient-to-r from-violet-600 to-rose-600 focus:ring-violet-500 hover:from-violet-700 hover:to-rose-700"},m={purple:"bg-white text-gray-900 border border-purple-400 hover:bg-gray-50 focus:ring-purple-400",ocean:"bg-white text-gray-900 border border-blue-400 hover:bg-gray-50 focus:ring-blue-400",sunset:"bg-white text-gray-900 border border-orange-400 hover:bg-gray-50 focus:ring-orange-400",forest:"bg-white text-gray-900 border border-green-400 hover:bg-gray-50 focus:ring-green-400",cosmic:"bg-white text-gray-900 border border-violet-400 hover:bg-gray-50 focus:ring-violet-400"},f={purple:"bg-purple-50/40 hover:bg-purple-50 text-purple-700 border border-purple-200 focus:ring-purple-300",ocean:"bg-blue-50/40 hover:bg-blue-50 text-blue-700 border border-blue-200 focus:ring-blue-300",sunset:"bg-orange-50/40 hover:bg-orange-50 text-orange-700 border border-orange-200 focus:ring-orange-300",forest:"bg-green-50/40 hover:bg-green-50 text-green-700 border border-green-200 focus:ring-green-300",cosmic:"bg-violet-50/40 hover:bg-violet-50 text-violet-700 border border-violet-200 focus:ring-violet-300"},N={primary:`${l[n]} text-white shadow-xl hover:shadow-2xl`,secondary:r===!1?`${m[n]} shadow-md`:"bg-white/15 hover:bg-white/25 backdrop-blur-lg text-white border border-white/20 focus:ring-white/50",danger:"bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 focus:ring-red-500 shadow-xl hover:shadow-2xl",ghost:r===!1?f[n]:"bg-white/10 hover:bg-white/20 backdrop-blur-lg text-white border border-white/10 focus:ring-white/50"},A={sm:"px-3 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},k=`${x} ${N[s]} ${A[t]} ${i}`;return e.jsx("button",{className:k,disabled:c||a,...u,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Cargando..."]}):o})},tt=({label:s,error:t,icon:a,className:r="",...n})=>{const i=`w-full p-4 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all ${r}`;return e.jsxs("div",{className:"space-y-2",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:s}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:a}),e.jsx("input",{className:`${i} ${a?"pl-12":""} ${t?"border-red-500":""}`,...n})]}),t&&e.jsx("p",{className:"text-sm text-red-400",children:t})]})},q=({children:s,className:t="",variant:a="glass",isDarkMode:r=!0})=>{const i=`rounded-2xl sm:rounded-3xl shadow-xl border transition-all duration-300 ${{default:r?"bg-white/10 border-white/20 backdrop-blur-lg shadow-2xl":"bg-white/50 border-white/40 backdrop-blur-lg shadow-2xl",glass:r?"bg-white/10 border-white/20 backdrop-blur-xl shadow-2xl hover:shadow-3xl":"bg-white/40 border-white/40 backdrop-blur-xl shadow-2xl hover:shadow-3xl",solid:r?"bg-gray-800/90 border-gray-700 backdrop-blur-sm shadow-2xl":"bg-white/90 border-gray-200 backdrop-blur-sm shadow-2xl"}[a]} ${t}`;return e.jsx("div",{className:i,children:s})},X=({open:s,title:t,onClose:a,children:r,maxWidthClass:n="max-w-lg"})=>(d.useEffect(()=>{const o=i=>{i.key==="Escape"&&a()};return s&&document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[s,a]),s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 sm:p-4",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:`relative w-full sm:w-auto sm:${n} sm:mx-auto bg-white/5 sm:bg-white/10 border border-white/20 rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden`,style:{paddingBottom:"max(env(safe-area-inset-bottom, 0px), 0px)",maxWidth:n==="max-w-sm"?"340px":void 0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsx("h3",{className:"text-white text-lg font-semibold select-none",children:t}),e.jsx("button",{onClick:a,className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg p-1.5 transition","aria-label":"Cerrar",children:"✖️"})]}),e.jsx("div",{className:"max-h-[70vh] sm:max-h-[80vh] overflow-y-auto p-4 custom-scrollbar",children:r})]})]}):null),st=({currentTime:s,is24HourFormat:t,isDarkMode:a,voiceEnabled:r=!1,themeType:n})=>e.jsxs(q,{className:"inline-block w-full sm:w-auto p-4 sm:p-6 md:p-8 transform hover:scale-105 transition-all duration-500",isDarkMode:a,children:[e.jsx("div",{className:`text-5xl sm:text-6xl md:text-7xl font-mono font-bold mb-3 sm:mb-4 ${a?"text-white":"text-gray-800"} tracking-wider`,children:Pe(s,t)}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(et,{theme:n,isDarkMode:a})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full ${a?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"}`,children:t?"24 Horas":"12 Horas"}),r&&e.jsx("span",{className:"text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-green-600/30 text-green-300 animate-pulse",children:"🎤 Voz Activa"})]}),e.jsx("div",{className:`text-sm sm:text-base md:text-lg ${a?"text-gray-300":"text-gray-600"}`,children:Re(s)})]}),W=s=>`/AlarmaPro/${s}`,oe=[{name:"Clásico",url:W("sounds/alarm-26718.mp3"),icon:"⏰"},{name:"Suave",url:W("sounds/reliable-safe-327618.mp3"),icon:"🎵"},{name:"Urgente",url:W("sounds/biohazard-alarm-143105.mp3"),icon:"🚨"},{name:"Sirena",url:W("sounds/facility-siren-loopable-100687.mp3"),icon:"🚒"},{name:"Digital",url:W("sounds/alarm-no3-14864.mp3"),icon:"🤖"}],je="alarmaPro.customSounds.v1";function le(){try{const s=localStorage.getItem(je);return s?JSON.parse(s):[]}catch{return[]}}function rt(s){try{localStorage.setItem(je,JSON.stringify(s))}catch{}}function at(s,t){const a={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,name:s,dataUrl:t},r=le();return r.push(a),rt(r),a}const nt=({selectedSound:s,onSoundChange:t,className:a=""})=>{var l;const r=d.useRef(null),[n,o]=d.useState(()=>le()),i=d.useMemo(()=>{const m=n.map(f=>({name:f.name,url:f.dataUrl,icon:"📁"}));return[...oe,...m]},[n]),c=()=>{var m;return(m=r.current)==null?void 0:m.click()},u=async m=>{var w;const f=(w=m.target.files)==null?void 0:w[0];if(!f)return;const N=f.name.replace(/\.[^.]+$/,""),A=await new Promise((g,h)=>{const b=new FileReader;b.onload=()=>g(String(b.result)),b.onerror=()=>h(b.error),b.readAsDataURL(f)}),k=at(N,A),E=le();o(E),t(k.dataUrl),m.target.value=""},x=m=>{const f=m.target.value;if(f==="__pick__"){setTimeout(()=>c(),0);return}t(f)};return e.jsxs("div",{className:`space-y-2 ${a}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sonido de Alarma"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:s||((l=i[0])==null?void 0:l.url),onChange:x,className:"flex-1 p-3 rounded-xl bg-white/10 text-gray-100 border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.map(m=>e.jsx("option",{value:m.url,children:`${m.icon} ${m.name}`},m.url)),e.jsx("option",{value:"__pick__",children:"📲 Elegir desde dispositivo…"})]}),e.jsx("input",{ref:r,type:"file",accept:"audio/*",hidden:!0,onChange:u})]})]})},ot=({className:s="",count:t=50})=>{const a=d.useRef(null),r=d.useRef([]),n=d.useRef();return d.useEffect(()=>{const o=a.current;if(!o)return;const i=o.getContext("2d");if(!i)return;const c=()=>{o.width=o.offsetWidth,o.height=o.offsetHeight};c(),window.addEventListener("resize",c),(()=>{r.current=[];for(let l=0;l<t;l++)r.current.push({x:Math.random()*o.width,y:Math.random()*o.height,size:Math.random()*3+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,opacity:Math.random()*.3+.1})})();const x=()=>{i.clearRect(0,0,o.width,o.height),r.current.forEach(l=>{l.x+=l.speedX,l.y+=l.speedY,l.x>o.width&&(l.x=0),l.x<0&&(l.x=o.width),l.y>o.height&&(l.y=0),l.y<0&&(l.y=o.height),i.beginPath(),i.arc(l.x,l.y,l.size,0,Math.PI*2),i.fillStyle=`rgba(255, 255, 255, ${l.opacity})`,i.fill(),i.shadowBlur=10,i.shadowColor="rgba(147, 51, 234, 0.5)",i.beginPath(),i.arc(l.x,l.y,l.size*.5,0,Math.PI*2),i.fillStyle=`rgba(147, 51, 234, ${l.opacity*.5})`,i.fill(),i.shadowBlur=0}),n.current=requestAnimationFrame(x)};return x(),()=>{window.removeEventListener("resize",c),n.current&&cancelAnimationFrame(n.current)}},[t]),e.jsx("canvas",{ref:a,className:`absolute inset-0 pointer-events-none ${s}`,style:{mixBlendMode:"screen"}})},re={purple:"Púrpura",ocean:"Océano",sunset:"Atardecer",forest:"Bosque",cosmic:"Cósmico"},lt=({value:s,onChange:t,isDarkMode:a})=>{const[r,n]=d.useState(!1),o=d.useRef(null);d.useEffect(()=>{if(!r)return;const x=m=>{o.current&&(o.current.contains(m.target)||n(!1))},l=m=>{m.key==="Escape"&&n(!1)};return document.addEventListener("mousedown",x),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",l)}},[r]);const i=d.useMemo(()=>Ge[s],[s]),c={backgroundImage:`linear-gradient(135deg, ${i.start}22, ${i.end}1A)`,borderColor:a?"rgba(255,255,255,0.12)":`${i.start}55`},u={backgroundImage:`linear-gradient(135deg, ${i.start}29, ${i.end}1F)`,borderColor:a?"rgba(255,255,255,0.12)":`${i.start}55`};return e.jsxs("div",{ref:o,className:"relative inline-block pointer-events-auto",children:[e.jsxs("button",{type:"button",className:`h-8 px-3 pr-8 rounded-xl text-sm flex items-center gap-2 border backdrop-blur-lg ${a?"text-white":"text-gray-800"}`,style:c,onClick:()=>n(x=>!x),"aria-haspopup":"listbox","aria-expanded":r,children:[e.jsx("span",{className:"text-lg leading-none",children:xe[s]}),e.jsx("span",{className:"font-medium",children:re[s]}),e.jsx("span",{className:`absolute right-2 ${a?"text-white/80":"text-gray-700/80"}`,children:"▾"})]}),r&&e.jsx("div",{className:"absolute z-[9999] mt-2 w-44 rounded-xl shadow-2xl border overflow-hidden backdrop-blur-xl",style:u,role:"listbox",children:Object.keys(re).map(x=>{const l=x===s;return e.jsxs("button",{type:"button",role:"option","aria-selected":l,onClick:()=>{t(x),n(!1)},className:`w-full text-left px-3 py-2 flex items-center gap-2 text-sm transition-colors ${a?"hover:bg-white/10 text-white":"hover:bg-black/10 text-gray-800"} ${l?a?"bg-white/10":"bg-black/10":""}`,children:[e.jsx("span",{className:"text-lg",children:xe[x]}),e.jsx("span",{className:"font-medium",children:re[x]})]},x)})})]})};function pe(s,t,a){return Math.max(t,Math.min(a,s))}function it(s){var n;const t=/^(\d{1,2}):(\d{2})(?:\s*(AM|PM))?$/i.exec(s||"");let a=8,r=0;if(t){a=parseInt(t[1],10),r=parseInt(t[2],10);const o=(n=t[3])==null?void 0:n.toUpperCase();o&&(o==="PM"&&a<12&&(a+=12),o==="AM"&&a===12&&(a=0)),a=pe(a,0,23),r=pe(r,0,59)}else{const o=new Date;a=o.getHours(),r=o.getMinutes()}return{h:a,m:r}}function ie(s,t){const a=s.toString().padStart(2,"0"),r=t.toString().padStart(2,"0");return`${a}:${r}`}function ae(s,t){if(!t)return{hours:s,ampm:""};const a=s>=12?"PM":"AM";let r=s%12;return r===0&&(r=12),{hours:r,ampm:a}}function he(s,t,a,r){if(!r)return ie(s,t);let n=s%12;return a==="PM"&&(n+=12),ie(n,t)}const ct=({value:s,onChange:t,isDarkMode:a,use12Hour:r=!0,className:n="",label:o="Selecciona una hora"})=>{const{h:i,m:c}=d.useMemo(()=>it(s),[s]),u=d.useMemo(()=>ae(i,r),[i,r]),[x,l]=d.useState(!1),[m,f]=d.useState(u.hours),[N,A]=d.useState(c),[k,E]=d.useState(u.ampm),[w,g]=d.useState("hours"),h=d.useRef(null),b=d.useRef(null),[v,C]=d.useState(!1),[P,z]=d.useState("hours"),D=fe.useCallback((p,j)=>{if(!b.current)return;const S=b.current.getBoundingClientRect(),O=p-S.left,ee=j-S.top,$=S.width/2,_=S.height/2,te=(Math.atan2(ee-_,O-$)*(180/Math.PI)+90+360)%360;if(P==="hours"){const F=r?12:24;let U=Math.round(te/360*F)%F;f(r&&U===0?12:U)}else{let F=Math.round(te/360*60)%60;A(F)}},[P,r]);d.useEffect(()=>{if(!v)return;const p=S=>D(S.clientX,S.clientY),j=()=>C(!1);return window.addEventListener("pointermove",p),window.addEventListener("pointerup",j,{once:!0}),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",j)}},[v,D]),d.useEffect(()=>{const p=ae(i,r);if(f(p.hours),A(c),E(p.ampm),s){const j=he(p.hours,c,p.ampm,r);j!==s&&t(j)}},[s,r,i,c,t]),d.useEffect(()=>{const p=S=>{h.current&&(h.current.contains(S.target)||l(!1))},j=S=>{S.key==="Escape"&&l(!1)};return document.addEventListener("mousedown",p),document.addEventListener("keydown",j),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",j)}},[]);const J=(p=m,j=N,S=k)=>{const O=he(p,j,S,r);t(O)},R=a?"bg-white/10":"bg-black/10",T=a?"text-white":"text-gray-800",L=a?"text-gray-300":"text-gray-700",V=a?"border-white/20":"border-gray-200",B=108,Y=130,Q=d.useMemo(()=>{const p=r?12:24;return Array.from({length:p},(S,O)=>r?O+1:O)},[r]),G=d.useMemo(()=>Array.from({length:12},(p,j)=>j*5),[]),Z=p=>(r?p%12:p)/(r?12:24)*360-90,y=p=>p/60*360-90,I=()=>{const p=w==="hours",j=p?Q:G,S=p?m:N,O=p?Z(r?m%12:m):y(N),ee=$=>{var _,H;$.preventDefault(),C(!0),z(w),D($.clientX,$.clientY);try{(H=(_=$.currentTarget).setPointerCapture)==null||H.call(_,$.pointerId)}catch{}};return e.jsxs("div",{ref:b,onPointerDown:ee,className:`relative w-[260px] h-[260px] rounded-full ${R} border ${V} mx-auto select-none touch-none ${v?"cursor-grabbing":"cursor-grab"}`,children:[e.jsx("div",{className:"absolute left-1/2 top-1/2 origin-center",style:{transform:`translate(-50%, -50%) rotate(${O}deg)`},children:(()=>{const $=B,_=10;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${a?"bg-white/70":"bg-gray-700/70"} absolute`,style:{width:`${$}px`,height:"2px",left:0,top:"50%",transform:"translateY(-50%)"}}),e.jsx("div",{className:`${a?"bg-white":"bg-gray-800"} absolute rounded-full`,style:{width:`${_}px`,height:`${_}px`,left:`${$}px`,top:"50%",transform:"translate(-50%, -50%)"}})]})})()}),j.map(($,_)=>{const F=(_/(p?r?12:24:12)*360-90)*Math.PI/180,U=Y+B*Math.cos(F),ce=Y+B*Math.sin(F),de=S===$||!r&&p&&S===$,se="absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center transition",Se=`${se} w-10 h-10 rounded-full text-sm font-semibold ${de?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg":R+" "+T}`,$e=de?`${se} w-12 h-12 rounded-full font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg`:`${se} w-8 h-8 bg-transparent ${a?"text-gray-300":"text-gray-700"} text-xs`;return e.jsx("button",{type:"button",onClick:()=>{p?(f($),g("minutes")):A($)},className:p?Se:$e,style:{left:U,top:ce},children:p&&r?$:$.toString().padStart(2,"0")},`${w}-${$}`)})]})};return e.jsxs("div",{ref:h,className:`w-full ${n}`,children:[o&&e.jsx("label",{className:`block text-sm font-medium mb-2 ${L}`,children:o}),e.jsxs("button",{type:"button",onClick:()=>{g("hours"),l(p=>!p)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border ${V} ${a?"bg-white/10":"bg-white/80"} backdrop-blur-lg hover:shadow-lg transition-all`,"aria-haspopup":"dialog","aria-expanded":x,children:[e.jsxs("div",{className:`flex items-center gap-3 ${T}`,children:[e.jsx("span",{className:"text-xl",children:"⏰"}),e.jsx("span",{className:"font-mono text-lg font-bold tracking-wider",children:(()=>{const p=ae(i,r);return r?`${p.hours.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`:ie(i,c)})()}),r&&e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${a?"bg-white/10 text-white":"bg-black/10 text-gray-800"}`,children:u.ampm})]}),e.jsx("span",{className:"opacity-70",children:"▾"})]}),x&&e.jsxs("div",{className:`mt-2 p-4 rounded-2xl border ${V} ${a?"bg-white/10":"bg-white/80"} backdrop-blur-xl shadow-2xl z-50 relative`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${T} ${w==="hours"?"":"opacity-70"}`,onClick:()=>g("hours"),children:m.toString().padStart(2,"0")}),e.jsx("span",{className:`font-mono text-4xl font-bold ${T}`,children:":"}),e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${T} ${w==="minutes"?"":"opacity-70"}`,onClick:()=>g("minutes"),children:N.toString().padStart(2,"0")})]}),r&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${k==="AM"?"bg-purple-600 text-white":R+" "+T}`,onClick:()=>E("AM"),children:"a.m."}),e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${k==="PM"?"bg-purple-600 text-white":R+" "+T}`,onClick:()=>E("PM"),children:"p.m."})]})]}),I(),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${R} ${T} hover:opacity-90`,onClick:()=>l(!1),children:"Cancelar"}),e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${R} ${T} hover:opacity-90`,onClick:()=>g(w==="hours"?"minutes":"hours"),children:w==="hours"?"Minutos":"Horas"}),e.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:opacity-95",onClick:()=>{J(),l(!1)},children:"Aceptar"})]})]})]})},Ne=({is24Hour:s,onToggle:t,isDarkMode:a=!0,accentHex:r,className:n=""})=>{const o=a?"bg-white/10":"bg-black/10",i=a?"border-white/20":"border-black/10",c=a?"text-white":"text-gray-800";return e.jsxs("button",{type:"button",onClick:t,"aria-pressed":s,"aria-label":"Cambiar formato horario",className:`relative inline-flex items-center justify-between ${o} ${i} ${c} rounded-full h-9 w-28 px-3 select-none border overflow-hidden ${n}`,children:[e.jsx("div",{className:"absolute top-1 bottom-1 w-[52%] rounded-full transition-all duration-200",style:{left:s?4:void 0,right:s?void 0:4,background:r?`linear-gradient(135deg, ${r}33, ${r}55)`:a?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",boxShadow:a?"inset 0 0 0 1px rgba(255,255,255,0.15)":"inset 0 0 0 1px rgba(0,0,0,0.08)"}}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"24h"}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"12h"})]})},dt=s=>`/AlarmaPro/${s}`,mt=({isDarkMode:s,onInstall:t,onDismiss:a})=>{const[r,n]=d.useState(!1);d.useEffect(()=>{localStorage.getItem("alarmapro_welcomed")||n(!0)},[]);const o=()=>{localStorage.setItem("alarmapro_welcomed","true"),n(!1),a()},i=()=>{localStorage.setItem("alarmapro_welcomed","true"),n(!1),t()};return e.jsx(X,{open:r,onClose:o,title:"¡Bienvenido a AlarmaPro!",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"text-center px-1",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:dt("clock1.png"),alt:"AlarmaPro Logo",className:"w-24 h-24 object-contain filter drop-shadow-lg animate-pulse"}),e.jsx("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 opacity-30 blur-xl animate-pulse"})]})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"Tu sistema de alarmas inteligente"}),e.jsx("p",{className:"text-gray-200 mb-4 text-sm",children:"Gracias por usar AlarmaPro, la aplicación que te ayuda a organizar tu tiempo con estilo. Nunca fue tan fácil configurar alarmas personalizadas."}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center mb-2",children:[e.jsx(M,{variant:"secondary",onClick:o,className:"w-full py-2",isDarkMode:s,children:"Continuar a la app"}),e.jsx(M,{variant:"primary",onClick:i,className:"w-full py-2",isDarkMode:s,children:"Instalar aplicación"})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-400",children:"Puedes instalar la aplicación en cualquier momento desde el menú del navegador"}),e.jsx("p",{className:"mt-2 text-2xs text-gray-500 pt-1 border-t border-gray-700",children:"Diseñado por Axon.app y IA"})]})})},ut=({alarm:s,isDarkMode:t,is24HourFormat:a,themeType:r,onEdit:n,onToggle:o,onDelete:i})=>{var c;return e.jsx(q,{className:"group p-4 sm:p-6 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-2xl",isDarkMode:t,children:e.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-3 sm:gap-4 mb-2 flex-wrap",children:[e.jsx("div",{className:`text-3xl sm:text-4xl font-mono font-bold ${t?"text-white":"text-gray-800"} tracking-wide`,children:ze(s.time,a)}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${De(s.priority,t)} text-white shadow-lg`,children:_e(s.priority)})]}),e.jsx("div",{className:`text-lg sm:text-xl font-semibold mb-2 sm:mb-3 ${t?"text-gray-200":"text-gray-700"}`,children:s.label}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🔊"}),e.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:(c=Xe[s.sound])==null?void 0:c.name})]}),s.vibrate&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-blue-600/30 text-blue-300":"bg-blue-200 text-blue-800"}`,children:"📳 Vibrar"}),s.gradualWake&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-orange-600/30 text-orange-300":"bg-orange-200 text-orange-800"}`,children:"🌅 Gradual"})]}),s.days.length>0&&e.jsx("div",{className:"flex gap-1.5 sm:gap-2 mt-2 sm:mt-3 flex-wrap",children:s.days.map(u=>e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${t?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"} shadow-sm`,children:ve[u]},u))})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 self-start sm:self-center",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"p-3 sm:p-4 hover:scale-110",title:"Editar alarma",isDarkMode:t,themeType:r,children:"⚙️"}),e.jsx(M,{variant:s.enabled?"primary":"ghost",size:"sm",onClick:()=>o(s.id),className:"p-3 sm:p-4 hover:scale-110",title:s.enabled?"Desactivar":"Activar",isDarkMode:t,themeType:r,children:s.enabled?"⏸️":"▶️"}),e.jsx(M,{variant:"danger",size:"sm",onClick:()=>i(s.id),className:"p-3 sm:p-4 hover:scale-110",title:"Eliminar alarma",isDarkMode:t,themeType:r,children:"🗑️"})]})]})})},xt=({alarm:s,isDarkMode:t,theme:a,themeType:r,onSave:n,onCancel:o,alarmVolume:i,onVolumeChange:c,is24HourFormat:u=!0,onToggleTimeFormat:x})=>{const l=d.useMemo(()=>{switch(a.accent){case"purple-600":return"#9333EA";case"blue-600":return"#2563EB";case"orange-600":return"#EA580C";case"green-600":return"#16A34A";case"violet-600":return"#7C3AED";default:return"#9333EA"}},[a.accent]),[m,f]=d.useState(s?{time:s.time,label:s.label,days:[...s.days],sound:s.sound,enabled:s.enabled,priority:s.priority,vibrate:s.vibrate,gradualWake:s.gradualWake,useVoice:s.useVoice??!1}:{...Qe}),[N,A]=d.useState([]),k=g=>{g.preventDefault();const h=Ve(m);if(h.length>0){A(h);return}A([]),n(m)},E=(g,h)=>{f(b=>({...b,[g]:h}))},w=g=>{const h=m.days.includes(g)?m.days.filter(b=>b!==g):[...m.days,g];E("days",h)};return e.jsxs(q,{className:"max-w-lg mx-auto p-5 sm:p-8",isDarkMode:t,children:[e.jsx("h3",{className:`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${t?"text-white":"text-gray-800"} text-center`,children:s?"✏️ Editar Alarma":"✨ Crear Nueva Alarma"}),e.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[N.length>0&&e.jsx("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-xl",children:N.map((g,h)=>e.jsx("p",{className:"text-red-400 text-sm",children:g},h))}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-3 flex justify-end",children:e.jsx(Ne,{is24Hour:!!u,onToggle:x||(()=>{}),isDarkMode:t})}),e.jsx(ct,{label:"⏰ Hora",value:m.time,onChange:g=>E("time",g),isDarkMode:t,use12Hour:!u})]}),e.jsx(tt,{type:"text",label:"🏷️ Etiqueta",placeholder:"Ej: Reunión importante, Ejercicio, Medicamento...",value:m.label,onChange:g=>E("label",g.target.value),className:`${t?"bg-white/10 text-white border-white/20 placeholder-gray-400":"bg-white/70 text-gray-800 border-gray-300 placeholder-gray-500"}`}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"📅 Días de la semana"}),e.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:ve.map((g,h)=>e.jsx("button",{type:"button",onClick:()=>w(h),className:`flex items-center justify-center h-10 sm:h-11 px-3 rounded-xl text-sm leading-none font-bold transition-all duration-300 ${m.days.includes(h)?`bg-gradient-to-r from-${a.accent} to-purple-600 text-white shadow-xl`:t?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:g},g))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"sm:col-span-1",children:e.jsx(nt,{selectedSound:typeof m.sound=="string"?m.sound:"",onSoundChange:g=>E("sound",g),className:""})}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"🔊 Volumen"}),e.jsx("input",{type:"range",min:"0",max:"100",value:i,onChange:g=>c(Number(g.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer outline-none",style:{background:`linear-gradient(to right, ${l} ${i}%, ${t?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.15)"} ${i}%)`,accentColor:l,color:l}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:"⚙️ Opciones Avanzadas"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[{key:"vibrate",label:"📳 Vibrar"},{key:"gradualWake",label:"🌅 Despertar Gradual"},{key:"useVoice",label:"🗣️ Leer título"}].map(g=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m[g.key],onChange:h=>E(g.key,h.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:`${t?"text-gray-300":"text-gray-700"}`,children:g.label})]},g.key))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6",children:[e.jsx(M,{type:"submit",variant:"primary",className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:r,children:s?"✅ Actualizar":"💾 Guardar"}),e.jsx(M,{type:"button",variant:"secondary",onClick:o,className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:r,children:"❌ Cancelar"})]})]})]})},gt=({alarms:s,isDarkMode:t,is24HourFormat:a,theme:r,themeType:n,onEdit:o,onToggle:i,onDelete:c})=>{const[u,x]=d.useState(null),l=N=>{const A=s.find(k=>k.id===N)||null;x(A)},m=()=>{u&&(c(u.id),x(null))},f=()=>x(null);return s.length===0?e.jsxs("div",{className:`text-center py-10 sm:py-16 ${t?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse text-6xl",children:"⏰"}),e.jsx("div",{className:"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping text-2xl",children:"✨"})]}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"No hay alarmas configuradas"}),e.jsx("p",{className:"text-base sm:text-lg mb-2",children:"¡Crea tu primera alarma inteligente!"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Usa los botones de arriba para empezar."})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-3 sm:space-y-4 px-1 sm:px-0",children:[s.map(N=>e.jsx(ut,{alarm:N,isDarkMode:t,is24HourFormat:a,theme:r,themeType:n,onEdit:o,onToggle:i,onDelete:l},N.id)),e.jsx(X,{open:!!u,onClose:f,title:"Confirmar eliminación",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`${t?"text-gray-200":"text-gray-800"}`,children:"¿Estás seguro de que deseas eliminar esta alarma?"}),u&&e.jsxs("div",{className:`p-3 rounded-xl ${t?"bg-white/10 text-white":"bg-black/5 text-gray-800"}`,children:[e.jsx("div",{className:"font-semibold",children:u.label||"Alarma"}),e.jsx("div",{className:"opacity-80 text-sm",children:u.time})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(M,{variant:"ghost",onClick:f,isDarkMode:t,themeType:n,children:"Cancelar"}),e.jsx(M,{variant:"danger",onClick:m,isDarkMode:t,children:"Eliminar"})]})]})})]})},pt=s=>`/AlarmaPro/${s}`,ht=()=>{const s=Ue(),{settings:t,toggleDarkMode:a,toggleTimeFormat:r,toggleVoice:n,setTheme:o,setVolume:i}=We(),{alarms:c,activeAlarm:u,addAlarm:x,updateAlarm:l,deleteAlarm:m,toggleAlarm:f,dismissAlarm:N}=Be(),{isSnoozing:A,snoozeCount:k,canSnooze:E,snooze:w,resetSnooze:g}=qe(ge),h=Je(),[b,v]=d.useState(!1),[C,P]=d.useState(!1),[z,D]=d.useState(null),J=d.useRef(null),[R,T]=d.useState(null),L=Ye[t.theme],V=y=>{const I=Oe(y);x(I),P(!1)},B=()=>{if(u&&E){const y=Fe(u,k,Ze);x(y),w(),N()}},Y=y=>{z?l(z.id,y):x(y),D(null),v(!1)},Q=y=>{D(y),v(!0)},G=()=>{D(null),v(!1)};d.useEffect(()=>{const y=I=>{I.preventDefault(),T(I)};return window.addEventListener("beforeinstallprompt",y),()=>{window.removeEventListener("beforeinstallprompt",y)}},[]);const Z=()=>{if(!R){alert(`Para instalar la aplicación: 
1. Abre el menú del navegador (los tres puntos)
2. Selecciona 'Instalar aplicación' o 'Añadir a pantalla de inicio'`);return}R.prompt(),R.userChoice.then(y=>{y.outcome==="accepted"?console.log("Usuario aceptó la instalación"):console.log("Usuario rechazó la instalación"),T(null)})};return d.useEffect(()=>{const y=J.current;if(!y)return;const I=p=>{var j,S;return p?/(\.mp3|^\/|^https?:)/i.test(p)?p:((S=oe[0])==null?void 0:S.url)||"":((j=oe[0])==null?void 0:j.url)||""};if(u){const p=I(u.sound);if(p)try{if(y.pause(),y.src=p,y.loop=!0,y.volume=Math.max(0,Math.min(1,(t.alarmVolume??100)/100)),y.currentTime=0,y.play().catch(()=>{}),t.voiceEnabled&&u.useVoice&&u.label)try{const j=new SpeechSynthesisUtterance(u.label);j.lang="es-ES",j.volume=Math.max(0,Math.min(1,(t.alarmVolume??100)/100)),window.speechSynthesis.cancel(),window.speechSynthesis.speak(j)}catch{}}catch{}}else{y.pause();try{window.speechSynthesis.cancel()}catch{}}},[u,t.alarmVolume,t.voiceEnabled]),e.jsxs("div",{className:`min-h-screen transition-all duration-1000 ${t.isDarkMode?`bg-gradient-to-br ${L.from} via-gray-900 ${L.to}`:`bg-gradient-to-br ${L.light} via-white to-gray-50`}`,children:[e.jsx(ot,{count:60,className:"opacity-40"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-30",children:e.jsxs("div",{className:"absolute -inset-10",children:[e.jsx("div",{className:`absolute top-0 -left-4 w-96 h-96 bg-gradient-to-r ${L.from.includes("purple")?"from-purple-400":L.from.includes("blue")?"from-blue-400":L.from.includes("orange")?"from-orange-400":L.from.includes("green")?"from-green-400":"from-violet-400"} to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse transform rotate-45`}),e.jsx("div",{className:"absolute top-0 -right-4 w-96 h-96 bg-gradient-to-l from-yellow-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-2000 transform -rotate-45"}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-gradient-to-t from-pink-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-4000"})]})}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8 pb-16 sm:pb-20",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6 flex-wrap",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-2xl bg-gradient-to-r from-${L.accent} to-purple-600 backdrop-blur-lg shadow-xl`,children:e.jsx("img",{src:pt("clockT.png"),alt:"AlarmaPro Logo",className:"w-8 h-8 sm:w-9 sm:h-9"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:"AlarmaPro"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-5 sm:mb-6 overflow-x-auto px-1 py-1",style:{overflow:"visible"},children:[e.jsx(Ne,{is24Hour:t.is24HourFormat,onToggle:r,isDarkMode:t.isDarkMode,accentHex:we[t.theme]}),e.jsx(M,{variant:t.voiceEnabled?"primary":"ghost",size:"sm",onClick:n,title:"Voz habilitada",className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:"🔊"}),e.jsx(lt,{value:t.theme,onChange:y=>o(y),isDarkMode:t.isDarkMode}),e.jsx(M,{variant:"ghost",size:"sm",onClick:a,className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:t.isDarkMode?"☀️":"🌙"})]}),e.jsx(st,{currentTime:s,is24HourFormat:t.is24HourFormat,isDarkMode:t.isDarkMode,voiceEnabled:t.voiceEnabled,theme:L,themeType:t.theme})]}),e.jsx("div",{className:"w-full max-w-xl mx-auto mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto no-scrollbar whitespace-nowrap",children:[e.jsxs(M,{variant:"primary",onClick:()=>v(!b),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,themeType:t.theme,children:["➕ ",z?"Editar Alarma":"Nueva Alarma"]}),e.jsx(M,{variant:"secondary",onClick:()=>P(!C),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,themeType:t.theme,children:"⚡ Alarmas Rápidas"})]})}),e.jsx(X,{open:C,onClose:()=>P(!1),title:"⚡ Alarmas Rápidas",maxWidthClass:"max-w-2xl",children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3",children:Ke.map(y=>e.jsxs("button",{onClick:()=>V(y.minutes),className:`group p-3 sm:p-4 rounded-2xl ${t.isDarkMode?"bg-white/10 hover:bg-white/20":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl hover-glow`,children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 ${t.isDarkMode?"text-white":"text-gray-800"} group-hover:animate-bounce text-xl sm:text-2xl`,children:y.icon}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${t.isDarkMode?"text-white":"text-gray-800"}`,children:y.label})]},y.minutes))})}),e.jsx(X,{open:b,onClose:G,title:z?"✏️ Editar Alarma":"✨ Nueva Alarma",maxWidthClass:"max-w-xl",children:e.jsx(xt,{alarm:z||void 0,isDarkMode:t.isDarkMode,theme:L,themeType:t.theme,onSave:Y,onCancel:G,alarmVolume:t.alarmVolume,onVolumeChange:i,is24HourFormat:t.is24HourFormat,onToggleTimeFormat:r})}),e.jsx(gt,{alarms:c,isDarkMode:t.isDarkMode,is24HourFormat:t.is24HourFormat,theme:L,themeType:t.theme,onEdit:Q,onToggle:f,onDelete:m})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-lg flex items-center justify-center z-50",children:e.jsxs(q,{className:"relative p-12 text-center max-w-lg mx-4",isDarkMode:t.isDarkMode,children:[e.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 mx-auto text-yellow-400 drop-shadow-lg text-6xl",children:"⚡"}),e.jsx("div",{className:"absolute inset-0 w-20 h-20 mx-auto border-4 border-yellow-400 rounded-full"})]})}),e.jsx("h2",{className:`text-4xl font-bold mb-4 ${t.isDarkMode?"text-white":"text-gray-800"}`,children:"🚨 ¡ALARMA ACTIVA!"}),e.jsx("p",{className:`text-2xl font-semibold mb-4 ${t.isDarkMode?"text-gray-200":"text-gray-700"}`,children:u.label}),e.jsx("p",{className:`text-5xl font-mono font-bold mb-8 ${t.isDarkMode?"text-white":"text-gray-800"} tracking-wider`,children:u.time}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4",children:[E&&e.jsx(M,{variant:"secondary",onClick:B,className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"🔄 Posponer 5min"}),e.jsx(M,{variant:"danger",onClick:()=>{N(),g()},className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"🔇 Desactivar"})]}),k>0&&e.jsxs("div",{className:`text-sm ${t.isDarkMode?"text-gray-400":"text-gray-600"}`,children:["Pospuestas: ",k,"/",ge]})]})]})]})}),A&&e.jsx("div",{className:"fixed top-4 right-4 z-40",children:e.jsx(q,{className:"p-4 transform animate-bounce",isDarkMode:t.isDarkMode,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🔄"}),e.jsx("span",{className:"font-semibold text-white",children:"Pospuesta 5 minutos"})]})})}),e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 transform pointer-events-none select-none z-0 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-blue-400 text-sm",children:"📶"}),e.jsxs("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:[h.online?"Conectado":"Sin conexión",h.effectiveType?` · ${h.effectiveType.toUpperCase()}`:""]})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-green-400 text-sm",children:"🔋"}),e.jsx("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:h.batteryLevel!==null?`${h.batteryLevel}%${h.charging?" ⚡":""}`:"—"})]})]}),t.voiceEnabled&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-600/30 backdrop-blur-lg animate-pulse",children:[e.jsx("span",{className:"text-green-300 text-sm",children:"🔊"}),e.jsx("span",{className:"text-sm text-green-300",children:"Voz"})]})]}),e.jsx(mt,{isDarkMode:t.isDarkMode,onInstall:Z,onDismiss:()=>{}}),e.jsx("audio",{ref:J})]})},ft=ne.createRoot(document.getElementById("root"));ft.render(e.jsx(fe.StrictMode,{children:e.jsx(ht,{})}));
//# sourceMappingURL=index-CffOW8Q-.js.map
