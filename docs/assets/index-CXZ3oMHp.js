import{r as m,a as Ce,R as ve}from"./vendor-nf7bT_Uh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();var we={exports:{}},X={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=m,Pe=Symbol.for("react.element"),Te=Symbol.for("react.fragment"),Le=Object.prototype.hasOwnProperty,Ie=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Re={key:!0,ref:!0,__self:!0,__source:!0};function je(s,t,a){var r,o={},n=null,i=null;a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Le.call(t,r)&&!Re.hasOwnProperty(r)&&(o[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Pe,type:s,key:n,ref:i,props:o,_owner:Ie.current}}X.Fragment=Te;X.jsx=je;X.jsxs=je;we.exports=X;var e=we.exports,le={},xe=Ce;le.createRoot=xe.createRoot,le.hydrateRoot=xe.hydrateRoot;const ze=(s,t)=>t?s.toLocaleTimeString("es-ES",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):s.toLocaleTimeString("es-ES",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"}),De=(s,t)=>{if(t)return s;{const[a,r]=s.split(":"),o=parseInt(a),n=o>=12?"PM":"AM";return`${o===0?12:o>12?o-12:o}:${r} ${n}`}},Oe=s=>s.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ve=(s,t)=>t?{low:"from-blue-600 to-cyan-600",normal:"from-green-600 to-emerald-600",high:"from-yellow-600 to-orange-600",urgent:"from-red-600 to-pink-600"}[s]:{low:"from-blue-400 to-cyan-400",normal:"from-green-400 to-emerald-400",high:"from-yellow-400 to-orange-400",urgent:"from-red-400 to-pink-400"}[s],Fe=s=>({low:"ðŸ”µ BAJA",normal:"ðŸŸ¢ NORMAL",high:"ðŸŸ¡ ALTA",urgent:"ðŸ”´ URGENTE"})[s],Be=(s,t)=>{if(!s.enabled)return!1;const a=t.toTimeString().slice(0,5),r=t.getDay();return s.time!==a?!1:s.days.length===0?!0:s.days.includes(r)},_e=s=>{const t=new Date;return t.setMinutes(t.getMinutes()+s),{time:t.toTimeString().slice(0,5),label:`Alarma rÃ¡pida ${s} min`,days:[],sound:"gentle",enabled:!0,priority:"high",vibrate:!0,gradualWake:!1,useVoice:!1}},Ue=(s,t,a=5)=>{const r=new Date;r.setMinutes(r.getMinutes()+a);const o=r.toTimeString().slice(0,5);return{...s,time:o,label:`${s.label} (Snooze ${t+1})`,days:[],useVoice:s.useVoice??!1}},We=s=>{const t=[];return s.time||t.push("La hora es requerida"),s.label.trim()||t.push("La etiqueta es requerida"),s.label.length>50&&t.push("La etiqueta no puede exceder 50 caracteres"),t},qe=()=>{const[s,t]=m.useState([]),[a,r]=m.useState(null);m.useEffect(()=>{const l=localStorage.getItem("alarmaPro_alarms");if(l)try{t(JSON.parse(l))}catch(x){console.error("Error loading alarms from localStorage:",x)}},[]),m.useEffect(()=>{localStorage.setItem("alarmaPro_alarms",JSON.stringify(s))},[s]),m.useEffect(()=>{const l=setInterval(()=>{const x=new Date;s.forEach(h=>{Be(h,x)&&!a&&u(h)})},1e3);return()=>clearInterval(l)},[s,a]);const o=m.useCallback(l=>{const x={...l,id:Date.now()};t(h=>[...h,x])},[]),n=m.useCallback((l,x)=>{t(h=>h.map(N=>N.id===l?{...x,id:l}:N))},[]),i=m.useCallback(l=>{t(x=>x.filter(h=>h.id!==l))},[]),c=m.useCallback(l=>{t(x=>x.map(h=>h.id===l?{...h,enabled:!h.enabled}:h))},[]),u=m.useCallback(l=>{r(l)},[]),g=m.useCallback(()=>{r(null)},[]);return{alarms:s,activeAlarm:a,addAlarm:o,updateAlarm:n,deleteAlarm:i,toggleAlarm:c,dismissAlarm:g,triggerAlarm:u}},Je=()=>{const[s,t]=m.useState(new Date);return m.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]),s},ge={isDarkMode:!0,is24HourFormat:!0,theme:"purple",voiceEnabled:!1,animationStyle:"smooth",alarmVolume:80},Ye=()=>{const[s,t]=m.useState(ge);m.useEffect(()=>{const u=localStorage.getItem("alarmaPro_settings");if(u)try{const g=JSON.parse(u);t({...ge,...g})}catch(g){console.error("Error loading settings:",g)}},[]),m.useEffect(()=>{localStorage.setItem("alarmaPro_settings",JSON.stringify(s))},[s]);const a=(u,g)=>{t(l=>({...l,[u]:g}))};return{settings:s,updateSetting:a,toggleDarkMode:()=>{a("isDarkMode",!s.isDarkMode)},toggleTimeFormat:()=>{a("is24HourFormat",!s.is24HourFormat)},toggleVoice:()=>{a("voiceEnabled",!s.voiceEnabled)},setTheme:u=>{a("theme",u)},setVolume:u=>{a("alarmVolume",Math.max(0,Math.min(100,u)))}}},Ge=(s=3)=>{const[t,a]=m.useState(!1),[r,o]=m.useState(0),n=r<s,i=m.useCallback(()=>{n&&(o(u=>u+1),a(!0),setTimeout(()=>{a(!1)},2e3))},[n]),c=m.useCallback(()=>{o(0),a(!1)},[]);return{isSnoozing:t,snoozeCount:r,canSnooze:n,snooze:i,resetSnooze:c}};function He(){const[s,t]=m.useState({batteryLevel:null,charging:null,networkType:null,effectiveType:null,online:typeof navigator<"u"?navigator.onLine:!0});return m.useEffect(()=>{let a=null,r,o=null,n=null,i=null;const c=()=>t(l=>({...l,online:navigator.onLine})),u=async()=>{try{if(navigator.getBattery){a=await navigator.getBattery();const l=()=>t(x=>({...x,batteryLevel:Math.round((a.level??0)*100),charging:!!a.charging}));l(),o=()=>l(),n=()=>l(),a.addEventListener("levelchange",o),a.addEventListener("chargingchange",n)}}catch{}},g=()=>{if(r=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r){const l=()=>t(x=>({...x,networkType:r.type||"unknown",effectiveType:r.effectiveType||null}));l(),i=()=>l(),r.addEventListener("change",i)}};return u(),g(),window.addEventListener("online",c),window.addEventListener("offline",c),()=>{if(window.removeEventListener("online",c),window.removeEventListener("offline",c),a)try{o&&a.removeEventListener("levelchange",o),n&&a.removeEventListener("chargingchange",n)}catch{}if(r&&i)try{r.removeEventListener("change",i)}catch{}}},[]),s}const ae={},Ne=["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"],Xe={purple:{from:"from-purple-900",to:"to-indigo-900",accent:"purple-600",light:"from-purple-50 to-indigo-50"},ocean:{from:"from-blue-900",to:"to-cyan-900",accent:"blue-600",light:"from-blue-50 to-cyan-50"},sunset:{from:"from-orange-900",to:"to-red-900",accent:"orange-600",light:"from-orange-50 to-red-50"},forest:{from:"from-green-900",to:"to-emerald-900",accent:"green-600",light:"from-green-50 to-emerald-50"},cosmic:{from:"from-violet-900",to:"to-pink-900",accent:"violet-600",light:"from-violet-50 to-pink-50"}},pe={purple:"ðŸŸ£",ocean:"ðŸŒŠ",sunset:"ðŸŒ…",forest:"ðŸŒ²",cosmic:"ðŸŒŒ"},Se={purple:"#9333ea",ocean:"#2563eb",sunset:"#ea580c",forest:"#16a34a",cosmic:"#7c3aed"},Ke={purple:{start:"#9333ea",end:"#6366f1"},ocean:{start:"#2563eb",end:"#06b6d4"},sunset:{start:"#ea580c",end:"#ef4444"},forest:{start:"#16a34a",end:"#22c55e"},cosmic:{start:"#7c3aed",end:"#db2777"}},Qe={purple:{variant:"ribbons",colors:["#a78bfa","#f0abfc","#c4b5fd","#f5d0fe"]},ocean:{variant:"bezier",colors:["#38bdf8","#22d3ee","#60a5fa","#06b6d4"]},sunset:{variant:"bars",colors:["#fb7185","#f97316","#f59e0b","#ef4444"]},forest:{variant:"dots",colors:["#34d399","#86efac","#22c55e","#a3e635"]},cosmic:{variant:"ribbons",colors:["#a78bfa","#f472b6","#60a5fa","#c084fc"]}},Ze={gentle:{name:"ðŸŽµ Suave Despertar",description:"MelodÃ­a relajante"},energetic:{name:"âš¡ Power Up",description:"EnergÃ­a mÃ¡xima"},nature:{name:"ðŸŒŠ Sonidos Naturales",description:"Aves y agua"},classic:{name:"â° ClÃ¡sico Digital",description:"Beep tradicional"},binaural:{name:"ðŸ§  Binaural",description:"Frecuencias cerebrales"},piano:{name:"ðŸŽ¹ Piano Suave",description:"Notas de piano"},cosmic:{name:"ðŸŒŒ CÃ³smico",description:"Sonidos del espacio"}},et=[{minutes:5,label:"5 min",icon:"â˜•"},{minutes:10,label:"10 min",icon:"â±ï¸"},{minutes:15,label:"15 min",icon:"â˜•"},{minutes:20,label:"20 min",icon:"ðŸƒ"},{minutes:30,label:"30 min",icon:"ðŸŽ¯"},{minutes:60,label:"1 hora",icon:"â°"}],tt={time:"",label:"",days:[],sound:"gentle",enabled:!0,priority:"normal",vibrate:!0,gradualWake:!1,useVoice:!1},st=5,he=3,fe=(ae==null?void 0:ae.VITE_APP_VERSION)||"1.0.0",rt=({theme:s,isDarkMode:t=!0,width:a=360,height:r=80,className:o=""})=>{const n=m.useRef(null);return m.useEffect(()=>{const i=n.current;if(!i)return;const c=i.getContext("2d");if(!c)return;i.width=a,i.height=r;const u=Qe[s],g=Se[s];let l=0;const x=performance.now(),h=j=>{const p=(j-x)*.0015;c.clearRect(0,0,a,r),u.colors.forEach((f,b)=>{c.beginPath(),c.lineWidth=2,c.strokeStyle=f,c.globalAlpha=t?.8:.6;for(let y=0;y<=a;y++){const k=r/2+Math.sin(y*.02+p*(.8+b*.2))*(10+b*3);y===0?c.moveTo(y,k):c.lineTo(y,k)}c.stroke()})},N=j=>{const p=(j-x)*.002;c.clearRect(0,0,a,r);const f=40,b=a/f;for(let y=0;y<f;y++){const I=10+(Math.sin(y*.5+p*2)+1)/2*(r-20),R=u.colors[y%u.colors.length];c.fillStyle=R,c.globalAlpha=t?.8:.7,c.fillRect(y*b+1,(r-I)/2,b-2,I)}},A=j=>{const p=(j-x)*.0018;c.clearRect(0,0,a,r);const f=3,b=40;for(let y=0;y<f;y++)for(let k=0;k<b;k++){const I=(k+.5)*(a/b),z=(y+1)*(r/(f+1))+Math.sin(k*.4+p*(1+y*.3))*8;c.beginPath(),c.fillStyle=u.colors[(y+k)%u.colors.length],c.globalAlpha=t?.85:.75,c.arc(I,z,2.2+y*.3,0,Math.PI*2),c.fill()}},$=j=>{const p=(j-x)*.0012;c.clearRect(0,0,a,r);for(let b=0;b<4;b++){c.beginPath(),c.lineWidth=2,c.strokeStyle=u.colors[b%u.colors.length],c.globalAlpha=t?.8:.6,c.moveTo(0,r/2);const y=r/2+Math.sin(p*(1.2+b*.3))*18,k=r/2+Math.cos(p*(1+b*.2))*18;c.bezierCurveTo(a*.33,y,a*.66,k,a,r/2),c.stroke()}const f=c.createLinearGradient(0,0,0,r);f.addColorStop(0,g+"00"),f.addColorStop(.5,g+"22"),f.addColorStop(1,g+"00"),c.fillStyle=f,c.fillRect(0,0,a,r)},E=j=>{switch(u.variant){case"bars":N(j);break;case"dots":A(j);break;case"bezier":$(j);break;default:h(j);break}l=requestAnimationFrame(E)};return E(performance.now()),()=>cancelAnimationFrame(l)},[s,t,a,r]),e.jsx("canvas",{ref:n,className:`rounded-xl opacity-80 ${o}`,style:{width:a,height:r}})},P=({variant:s="primary",size:t="md",isLoading:a=!1,isDarkMode:r,themeType:o="purple",children:n,className:i="",disabled:c,...u})=>{const g="font-semibold rounded-xl transition-all duration-300 transform sm:hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",l={purple:"bg-gradient-to-r from-purple-600 to-indigo-600 focus:ring-purple-500 hover:from-purple-700 hover:to-indigo-700",ocean:"bg-gradient-to-r from-blue-600 to-cyan-600 focus:ring-blue-500 hover:from-blue-700 hover:to-cyan-700",sunset:"bg-gradient-to-r from-orange-600 to-red-500 focus:ring-orange-500 hover:from-orange-700 hover:to-red-600",forest:"bg-gradient-to-r from-green-600 to-emerald-600 focus:ring-green-500 hover:from-green-700 hover:to-emerald-700",cosmic:"bg-gradient-to-r from-violet-600 to-rose-600 focus:ring-violet-500 hover:from-violet-700 hover:to-rose-700"},x={purple:"bg-white text-gray-900 border border-purple-400 hover:bg-gray-50 focus:ring-purple-400",ocean:"bg-white text-gray-900 border border-blue-400 hover:bg-gray-50 focus:ring-blue-400",sunset:"bg-white text-gray-900 border border-orange-400 hover:bg-gray-50 focus:ring-orange-400",forest:"bg-white text-gray-900 border border-green-400 hover:bg-gray-50 focus:ring-green-400",cosmic:"bg-white text-gray-900 border border-violet-400 hover:bg-gray-50 focus:ring-violet-400"},h={purple:"bg-purple-50/40 hover:bg-purple-50 text-purple-700 border border-purple-200 focus:ring-purple-300",ocean:"bg-blue-50/40 hover:bg-blue-50 text-blue-700 border border-blue-200 focus:ring-blue-300",sunset:"bg-orange-50/40 hover:bg-orange-50 text-orange-700 border border-orange-200 focus:ring-orange-300",forest:"bg-green-50/40 hover:bg-green-50 text-green-700 border border-green-200 focus:ring-green-300",cosmic:"bg-violet-50/40 hover:bg-violet-50 text-violet-700 border border-violet-200 focus:ring-violet-300"},N={primary:`${l[o]} text-white shadow-xl hover:shadow-2xl`,secondary:r===!1?`${x[o]} shadow-md`:"bg-white/15 hover:bg-white/25 backdrop-blur-lg text-white border border-white/20 focus:ring-white/50",danger:"bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 focus:ring-red-500 shadow-xl hover:shadow-2xl",ghost:r===!1?h[o]:"bg-white/10 hover:bg-white/20 backdrop-blur-lg text-white border border-white/10 focus:ring-white/50"},A={sm:"px-3 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},$=`${g} ${N[s]} ${A[t]} ${i}`;return e.jsx("button",{className:$,disabled:c||a,...u,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Cargando..."]}):n})},at=({label:s,error:t,icon:a,className:r="",...o})=>{const i=`w-full p-4 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all ${r}`;return e.jsxs("div",{className:"space-y-2",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:s}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:a}),e.jsx("input",{className:`${i} ${a?"pl-12":""} ${t?"border-red-500":""}`,...o})]}),t&&e.jsx("p",{className:"text-sm text-red-400",children:t})]})},W=({children:s,className:t="",variant:a="glass",isDarkMode:r=!0})=>{const i=`rounded-2xl sm:rounded-3xl shadow-xl border transition-all duration-300 ${{default:r?"bg-white/10 border-white/20 backdrop-blur-lg shadow-2xl":"bg-white/50 border-white/40 backdrop-blur-lg shadow-2xl",glass:r?"bg-white/10 border-white/20 backdrop-blur-xl shadow-2xl hover:shadow-3xl":"bg-white/40 border-white/40 backdrop-blur-xl shadow-2xl hover:shadow-3xl",solid:r?"bg-gray-800/90 border-gray-700 backdrop-blur-sm shadow-2xl":"bg-white/90 border-gray-200 backdrop-blur-sm shadow-2xl"}[a]} ${t}`;return e.jsx("div",{className:i,children:s})},H=({open:s,title:t,onClose:a,children:r,maxWidthClass:o="max-w-lg"})=>(m.useEffect(()=>{const n=i=>{i.key==="Escape"&&a()};return s&&document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[s,a]),s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 sm:p-4",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:`relative w-full sm:w-auto sm:${o} sm:mx-auto bg-white/5 sm:bg-white/10 border border-white/20 rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden`,style:{paddingBottom:"max(env(safe-area-inset-bottom, 0px), 0px)",maxWidth:o==="max-w-sm"?"340px":void 0},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsx("h3",{className:"text-white text-lg font-semibold select-none",children:t}),e.jsx("button",{onClick:a,className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg p-1.5 transition","aria-label":"Cerrar",children:"âœ–ï¸"})]}),e.jsx("div",{className:"max-h-[70vh] sm:max-h-[80vh] overflow-y-auto p-4 custom-scrollbar",children:r})]})]}):null),nt=({currentTime:s,is24HourFormat:t,isDarkMode:a,voiceEnabled:r=!1,themeType:o})=>e.jsxs(W,{className:"inline-block w-full sm:w-auto p-4 sm:p-6 md:p-8 transform hover:scale-105 transition-all duration-500",isDarkMode:a,children:[e.jsx("div",{className:`text-5xl sm:text-6xl md:text-7xl font-mono font-bold mb-3 sm:mb-4 ${a?"text-white":"text-gray-800"} tracking-wider`,children:ze(s,t)}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(rt,{theme:o,isDarkMode:a})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full ${a?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"}`,children:t?"24 Horas":"12 Horas"}),r&&e.jsx("span",{className:"text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-green-600/30 text-green-300 animate-pulse",children:"ðŸŽ¤ Voz Activa"})]}),e.jsx("div",{className:`text-sm sm:text-base md:text-lg ${a?"text-gray-300":"text-gray-600"}`,children:Oe(s)})]}),U=s=>`/AlarmaPro/${s}`,ie=[{name:"ClÃ¡sico",url:U("sounds/alarm-26718.mp3"),icon:"â°"},{name:"Suave",url:U("sounds/reliable-safe-327618.mp3"),icon:"ðŸŽµ"},{name:"Urgente",url:U("sounds/biohazard-alarm-143105.mp3"),icon:"ðŸš¨"},{name:"Sirena",url:U("sounds/facility-siren-loopable-100687.mp3"),icon:"ðŸš’"},{name:"Digital",url:U("sounds/alarm-no3-14864.mp3"),icon:"ðŸ¤–"}],$e="alarmaPro.customSounds.v1";function ce(){try{const s=localStorage.getItem($e);return s?JSON.parse(s):[]}catch{return[]}}function ot(s){try{localStorage.setItem($e,JSON.stringify(s))}catch{}}function lt(s,t){const a={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,name:s,dataUrl:t},r=ce();return r.push(a),ot(r),a}const it=({selectedSound:s,onSoundChange:t,className:a=""})=>{var l;const r=m.useRef(null),[o,n]=m.useState(()=>ce()),i=m.useMemo(()=>{const x=o.map(h=>({name:h.name,url:h.dataUrl,icon:"ðŸ“"}));return[...ie,...x]},[o]),c=()=>{var x;return(x=r.current)==null?void 0:x.click()},u=async x=>{var j;const h=(j=x.target.files)==null?void 0:j[0];if(!h)return;const N=h.name.replace(/\.[^.]+$/,""),A=await new Promise((p,f)=>{const b=new FileReader;b.onload=()=>p(String(b.result)),b.onerror=()=>f(b.error),b.readAsDataURL(h)}),$=lt(N,A),E=ce();n(E),t($.dataUrl),x.target.value=""},g=x=>{const h=x.target.value;if(h==="__pick__"){setTimeout(()=>c(),0);return}t(h)};return e.jsxs("div",{className:`space-y-2 ${a}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sonido de Alarma"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:s||((l=i[0])==null?void 0:l.url),onChange:g,className:"flex-1 p-3 rounded-xl bg-white/10 text-gray-100 border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.map(x=>e.jsx("option",{value:x.url,children:`${x.icon} ${x.name}`},x.url)),e.jsx("option",{value:"__pick__",children:"ðŸ“² Elegir desde dispositivoâ€¦"})]}),e.jsx("input",{ref:r,type:"file",accept:"audio/*",hidden:!0,onChange:u})]})]})},ct=({className:s="",count:t=50})=>{const a=m.useRef(null),r=m.useRef([]),o=m.useRef();return m.useEffect(()=>{const n=a.current;if(!n)return;const i=n.getContext("2d");if(!i)return;const c=()=>{n.width=n.offsetWidth,n.height=n.offsetHeight};c(),window.addEventListener("resize",c),(()=>{r.current=[];for(let l=0;l<t;l++)r.current.push({x:Math.random()*n.width,y:Math.random()*n.height,size:Math.random()*3+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,opacity:Math.random()*.3+.1})})();const g=()=>{i.clearRect(0,0,n.width,n.height),r.current.forEach(l=>{l.x+=l.speedX,l.y+=l.speedY,l.x>n.width&&(l.x=0),l.x<0&&(l.x=n.width),l.y>n.height&&(l.y=0),l.y<0&&(l.y=n.height),i.beginPath(),i.arc(l.x,l.y,l.size,0,Math.PI*2),i.fillStyle=`rgba(255, 255, 255, ${l.opacity})`,i.fill(),i.shadowBlur=10,i.shadowColor="rgba(147, 51, 234, 0.5)",i.beginPath(),i.arc(l.x,l.y,l.size*.5,0,Math.PI*2),i.fillStyle=`rgba(147, 51, 234, ${l.opacity*.5})`,i.fill(),i.shadowBlur=0}),o.current=requestAnimationFrame(g)};return g(),()=>{window.removeEventListener("resize",c),o.current&&cancelAnimationFrame(o.current)}},[t]),e.jsx("canvas",{ref:a,className:`absolute inset-0 pointer-events-none ${s}`,style:{mixBlendMode:"screen"}})},ne={purple:"PÃºrpura",ocean:"OcÃ©ano",sunset:"Atardecer",forest:"Bosque",cosmic:"CÃ³smico"},dt=({value:s,onChange:t,isDarkMode:a})=>{const[r,o]=m.useState(!1),n=m.useRef(null);m.useEffect(()=>{if(!r)return;const g=x=>{n.current&&(n.current.contains(x.target)||o(!1))},l=x=>{x.key==="Escape"&&o(!1)};return document.addEventListener("mousedown",g),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("keydown",l)}},[r]);const i=m.useMemo(()=>Ke[s],[s]),c={backgroundImage:`linear-gradient(135deg, ${i.start}22, ${i.end}1A)`,borderColor:a?"rgba(255,255,255,0.12)":`${i.start}55`},u={backgroundImage:`linear-gradient(135deg, ${i.start}29, ${i.end}1F)`,borderColor:a?"rgba(255,255,255,0.12)":`${i.start}55`};return e.jsxs("div",{ref:n,className:"relative inline-block pointer-events-auto",children:[e.jsxs("button",{type:"button",className:`h-8 px-3 pr-8 rounded-xl text-sm flex items-center gap-2 border backdrop-blur-lg ${a?"text-white":"text-gray-800"}`,style:c,onClick:()=>o(g=>!g),"aria-haspopup":"listbox","aria-expanded":r,children:[e.jsx("span",{className:"text-lg leading-none",children:pe[s]}),e.jsx("span",{className:"font-medium",children:ne[s]}),e.jsx("span",{className:`absolute right-2 ${a?"text-white/80":"text-gray-700/80"}`,children:"â–¾"})]}),r&&e.jsx("div",{className:"absolute z-[9999] mt-2 w-44 rounded-xl shadow-2xl border overflow-hidden backdrop-blur-xl",style:u,role:"listbox",children:Object.keys(ne).map(g=>{const l=g===s;return e.jsxs("button",{type:"button",role:"option","aria-selected":l,onClick:()=>{t(g),o(!1)},className:`w-full text-left px-3 py-2 flex items-center gap-2 text-sm transition-colors ${a?"hover:bg-white/10 text-white":"hover:bg-black/10 text-gray-800"} ${l?a?"bg-white/10":"bg-black/10":""}`,children:[e.jsx("span",{className:"text-lg",children:pe[g]}),e.jsx("span",{className:"font-medium",children:ne[g]})]},g)})})]})};function be(s,t,a){return Math.max(t,Math.min(a,s))}function mt(s){var o;const t=/^(\d{1,2}):(\d{2})(?:\s*(AM|PM))?$/i.exec(s||"");let a=8,r=0;if(t){a=parseInt(t[1],10),r=parseInt(t[2],10);const n=(o=t[3])==null?void 0:o.toUpperCase();n&&(n==="PM"&&a<12&&(a+=12),n==="AM"&&a===12&&(a=0)),a=be(a,0,23),r=be(r,0,59)}else{const n=new Date;a=n.getHours(),r=n.getMinutes()}return{h:a,m:r}}function de(s,t){const a=s.toString().padStart(2,"0"),r=t.toString().padStart(2,"0");return`${a}:${r}`}function oe(s,t){if(!t)return{hours:s,ampm:""};const a=s>=12?"PM":"AM";let r=s%12;return r===0&&(r=12),{hours:r,ampm:a}}function ye(s,t,a,r){if(!r)return de(s,t);let o=s%12;return a==="PM"&&(o+=12),de(o,t)}const ut=({value:s,onChange:t,isDarkMode:a,use12Hour:r=!0,className:o="",label:n="Selecciona una hora"})=>{const{h:i,m:c}=m.useMemo(()=>mt(s),[s]),u=m.useMemo(()=>oe(i,r),[i,r]),[g,l]=m.useState(!1),[x,h]=m.useState(u.hours),[N,A]=m.useState(c),[$,E]=m.useState(u.ampm),[j,p]=m.useState("hours"),f=m.useRef(null),b=m.useRef(null),[y,k]=m.useState(!1),[I,R]=m.useState("hours"),z=ve.useCallback((d,v)=>{if(!b.current)return;const w=b.current.getBoundingClientRect(),M=d-w.left,B=v-w.top,S=w.width/2,D=w.height/2,se=(Math.atan2(B-D,M-S)*(180/Math.PI)+90+360)%360;if(I==="hours"){const F=r?12:24;let _=Math.round(se/360*F)%F;h(r&&_===0?12:_)}else{let F=Math.round(se/360*60)%60;A(F)}},[I,r]);m.useEffect(()=>{if(!y)return;const d=w=>z(w.clientX,w.clientY),v=()=>k(!1);return window.addEventListener("pointermove",d),window.addEventListener("pointerup",v,{once:!0}),()=>{window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",v)}},[y,z]),m.useEffect(()=>{const d=oe(i,r);if(h(d.hours),A(c),E(d.ampm),s){const v=ye(d.hours,c,d.ampm,r);v!==s&&t(v)}},[s,r,i,c,t]),m.useEffect(()=>{const d=w=>{f.current&&(f.current.contains(w.target)||l(!1))},v=w=>{w.key==="Escape"&&l(!1)};return document.addEventListener("mousedown",d),document.addEventListener("keydown",v),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",v)}},[]);const q=(d=x,v=N,w=$)=>{const M=ye(d,v,w,r);t(M)},T=a?"bg-white/10":"bg-black/10",L=a?"text-white":"text-gray-800",K=a?"text-gray-300":"text-gray-700",V=a?"border-white/20":"border-gray-200",C=108,J=130,Q=m.useMemo(()=>{const d=r?12:24;return Array.from({length:d},(w,M)=>r?M+1:M)},[r]),Z=m.useMemo(()=>Array.from({length:12},(d,v)=>v*5),[]),ee=d=>(r?d%12:d)/(r?12:24)*360-90,Y=d=>d/60*360-90,te=()=>{const d=j==="hours",v=d?Q:Z,w=d?x:N,M=d?ee(r?x%12:x):Y(N),B=S=>{var D,G;S.preventDefault(),k(!0),R(j),z(S.clientX,S.clientY);try{(G=(D=S.currentTarget).setPointerCapture)==null||G.call(D,S.pointerId)}catch{}};return e.jsxs("div",{ref:b,onPointerDown:B,className:`relative w-[260px] h-[260px] rounded-full ${T} border ${V} mx-auto select-none touch-none ${y?"cursor-grabbing":"cursor-grab"}`,children:[e.jsx("div",{className:"absolute left-1/2 top-1/2 origin-center",style:{transform:`translate(-50%, -50%) rotate(${M}deg)`},children:(()=>{const S=C,D=10;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${a?"bg-white/70":"bg-gray-700/70"} absolute`,style:{width:`${S}px`,height:"2px",left:0,top:"50%",transform:"translateY(-50%)"}}),e.jsx("div",{className:`${a?"bg-white":"bg-gray-800"} absolute rounded-full`,style:{width:`${D}px`,height:`${D}px`,left:`${S}px`,top:"50%",transform:"translate(-50%, -50%)"}})]})})()}),v.map((S,D)=>{const F=(D/(d?r?12:24:12)*360-90)*Math.PI/180,_=J+C*Math.cos(F),me=J+C*Math.sin(F),ue=w===S||!r&&d&&w===S,re="absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center transition",ke=`${re} w-10 h-10 rounded-full text-sm font-semibold ${ue?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg":T+" "+L}`,Ae=ue?`${re} w-12 h-12 rounded-full font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg`:`${re} w-8 h-8 bg-transparent ${a?"text-gray-300":"text-gray-700"} text-xs`;return e.jsx("button",{type:"button",onClick:()=>{d?(h(S),p("minutes")):A(S)},className:d?ke:Ae,style:{left:_,top:me},children:d&&r?S:S.toString().padStart(2,"0")},`${j}-${S}`)})]})};return e.jsxs("div",{ref:f,className:`w-full ${o}`,children:[n&&e.jsx("label",{className:`block text-sm font-medium mb-2 ${K}`,children:n}),e.jsxs("button",{type:"button",onClick:()=>{p("hours"),l(d=>!d)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border ${V} ${a?"bg-white/10":"bg-white/80"} backdrop-blur-lg hover:shadow-lg transition-all`,"aria-haspopup":"dialog","aria-expanded":g,children:[e.jsxs("div",{className:`flex items-center gap-3 ${L}`,children:[e.jsx("span",{className:"text-xl",children:"â°"}),e.jsx("span",{className:"font-mono text-lg font-bold tracking-wider",children:(()=>{const d=oe(i,r);return r?`${d.hours.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`:de(i,c)})()}),r&&e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${a?"bg-white/10 text-white":"bg-black/10 text-gray-800"}`,children:u.ampm})]}),e.jsx("span",{className:"opacity-70",children:"â–¾"})]}),g&&e.jsxs("div",{className:`mt-2 p-4 rounded-2xl border ${V} ${a?"bg-white/10":"bg-white/80"} backdrop-blur-xl shadow-2xl z-50 relative`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${L} ${j==="hours"?"":"opacity-70"}`,onClick:()=>p("hours"),children:x.toString().padStart(2,"0")}),e.jsx("span",{className:`font-mono text-4xl font-bold ${L}`,children:":"}),e.jsx("button",{type:"button",className:`font-mono text-4xl font-bold ${L} ${j==="minutes"?"":"opacity-70"}`,onClick:()=>p("minutes"),children:N.toString().padStart(2,"0")})]}),r&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${$==="AM"?"bg-purple-600 text-white":T+" "+L}`,onClick:()=>E("AM"),children:"a.m."}),e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${$==="PM"?"bg-purple-600 text-white":T+" "+L}`,onClick:()=>E("PM"),children:"p.m."})]})]}),te(),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${T} ${L} hover:opacity-90`,onClick:()=>l(!1),children:"Cancelar"}),e.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg ${T} ${L} hover:opacity-90`,onClick:()=>p(j==="hours"?"minutes":"hours"),children:j==="hours"?"Minutos":"Horas"}),e.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:opacity-95",onClick:()=>{q(),l(!1)},children:"Aceptar"})]})]})]})},Ee=({is24Hour:s,onToggle:t,isDarkMode:a=!0,accentHex:r,className:o=""})=>{const n=a?"bg-white/10":"bg-black/10",i=a?"border-white/20":"border-black/10",c=a?"text-white":"text-gray-800";return e.jsxs("button",{type:"button",onClick:t,"aria-pressed":s,"aria-label":"Cambiar formato horario",className:`relative inline-flex items-center justify-between ${n} ${i} ${c} rounded-full h-9 w-28 px-3 select-none border overflow-hidden ${o}`,children:[e.jsx("div",{className:"absolute top-1 bottom-1 w-[52%] rounded-full transition-all duration-200",style:{left:s?4:void 0,right:s?void 0:4,background:r?`linear-gradient(135deg, ${r}33, ${r}55)`:a?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",boxShadow:a?"inset 0 0 0 1px rgba(255,255,255,0.15)":"inset 0 0 0 1px rgba(0,0,0,0.08)"}}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"24h"}),e.jsx("span",{className:"text-sm font-semibold z-10",children:"12h"})]})},O={},xt=s=>`/AlarmaPro/${s}`,gt=({isDarkMode:s,onInstall:t,onDismiss:a,shouldOpen:r})=>{const[o,n]=m.useState(!1);m.useEffect(()=>{const u=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,g=localStorage.getItem("alarmapro_version"),l=(O==null?void 0:O.VITE_APP_VERSION)||"1.0.0",x=!localStorage.getItem("alarmapro_welcomed");r===!0?n(!0):u?(!!g&&g!==l||x)&&n(!0):n(!0)},[r]);const i=()=>{localStorage.setItem("alarmapro_welcomed","true");const u=(O==null?void 0:O.VITE_APP_VERSION)||"1.0.0";localStorage.setItem("alarmapro_version",u),n(!1),a()},c=()=>{localStorage.setItem("alarmapro_welcomed","true");const u=(O==null?void 0:O.VITE_APP_VERSION)||"1.0.0";localStorage.setItem("alarmapro_version",u),n(!1),t()};return e.jsx(H,{open:o,onClose:i,title:"Â¡Bienvenido a AlarmaPro!",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"text-center px-1",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:xt("clock1.png"),alt:"AlarmaPro Logo",className:"w-24 h-24 object-contain filter drop-shadow-lg animate-pulse"}),e.jsx("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 opacity-30 blur-xl animate-pulse"})]})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:"Tu sistema de alarmas inteligente"}),e.jsx("p",{className:"text-gray-200 mb-4 text-sm",children:"Gracias por usar AlarmaPro, la aplicaciÃ³n que te ayuda a organizar tu tiempo con estilo. Nunca fue tan fÃ¡cil configurar alarmas personalizadas."}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center mb-2",children:[e.jsx(P,{variant:"secondary",onClick:i,className:"w-full py-2",isDarkMode:s,children:"Continuar a la app"}),e.jsx(P,{variant:"primary",onClick:c,className:"w-full py-2",isDarkMode:s,children:"Instalar aplicaciÃ³n"})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-400",children:"Puedes instalar la aplicaciÃ³n en cualquier momento desde el menÃº del navegador"}),e.jsx("p",{className:"mt-2 text-2xs text-gray-500 pt-1 border-t border-gray-700",children:"DiseÃ±ado por Axon.app y IA"})]})})},pt=({alarm:s,isDarkMode:t,is24HourFormat:a,themeType:r,onEdit:o,onToggle:n,onDelete:i})=>{var c;return e.jsx(W,{className:"group p-4 sm:p-6 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-2xl",isDarkMode:t,children:e.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-3 sm:gap-4 mb-2 flex-wrap",children:[e.jsx("div",{className:`text-3xl sm:text-4xl font-mono font-bold ${t?"text-white":"text-gray-800"} tracking-wide`,children:De(s.time,a)}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${Ve(s.priority,t)} text-white shadow-lg`,children:Fe(s.priority)})]}),e.jsx("div",{className:`text-lg sm:text-xl font-semibold mb-2 sm:mb-3 ${t?"text-gray-200":"text-gray-700"}`,children:s.label}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ”Š"}),e.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:(c=Ze[s.sound])==null?void 0:c.name})]}),s.vibrate&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-blue-600/30 text-blue-300":"bg-blue-200 text-blue-800"}`,children:"ðŸ“³ Vibrar"}),s.gradualWake&&e.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${t?"bg-orange-600/30 text-orange-300":"bg-orange-200 text-orange-800"}`,children:"ðŸŒ… Gradual"})]}),s.days.length>0&&e.jsx("div",{className:"flex gap-1.5 sm:gap-2 mt-2 sm:mt-3 flex-wrap",children:s.days.map(u=>e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${t?"bg-purple-600/30 text-purple-300":"bg-purple-600/20 text-purple-800"} shadow-sm`,children:Ne[u]},u))})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 self-start sm:self-center",children:[e.jsx(P,{variant:"ghost",size:"sm",onClick:()=>o(s),className:"p-3 sm:p-4 hover:scale-110",title:"Editar alarma",isDarkMode:t,themeType:r,children:"âš™ï¸"}),e.jsx(P,{variant:s.enabled?"primary":"ghost",size:"sm",onClick:()=>n(s.id),className:"p-3 sm:p-4 hover:scale-110",title:s.enabled?"Desactivar":"Activar",isDarkMode:t,themeType:r,children:s.enabled?"â¸ï¸":"â–¶ï¸"}),e.jsx(P,{variant:"danger",size:"sm",onClick:()=>i(s.id),className:"p-3 sm:p-4 hover:scale-110",title:"Eliminar alarma",isDarkMode:t,themeType:r,children:"ðŸ—‘ï¸"})]})]})})},ht=({alarm:s,isDarkMode:t,theme:a,themeType:r,onSave:o,onCancel:n,alarmVolume:i,onVolumeChange:c,is24HourFormat:u=!0,onToggleTimeFormat:g})=>{const l=m.useMemo(()=>{switch(a.accent){case"purple-600":return"#9333EA";case"blue-600":return"#2563EB";case"orange-600":return"#EA580C";case"green-600":return"#16A34A";case"violet-600":return"#7C3AED";default:return"#9333EA"}},[a.accent]),[x,h]=m.useState(s?{time:s.time,label:s.label,days:[...s.days],sound:s.sound,enabled:s.enabled,priority:s.priority,vibrate:s.vibrate,gradualWake:s.gradualWake,useVoice:s.useVoice??!1}:{...tt}),[N,A]=m.useState([]),$=p=>{p.preventDefault();const f=We(x);if(f.length>0){A(f);return}A([]),o(x)},E=(p,f)=>{h(b=>({...b,[p]:f}))},j=p=>{const f=x.days.includes(p)?x.days.filter(b=>b!==p):[...x.days,p];E("days",f)};return e.jsxs(W,{className:"max-w-lg mx-auto p-5 sm:p-8",isDarkMode:t,children:[e.jsx("h3",{className:`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${t?"text-white":"text-gray-800"} text-center`,children:s?"âœï¸ Editar Alarma":"âœ¨ Crear Nueva Alarma"}),e.jsxs("form",{onSubmit:$,className:"space-y-4 sm:space-y-6",children:[N.length>0&&e.jsx("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-xl",children:N.map((p,f)=>e.jsx("p",{className:"text-red-400 text-sm",children:p},f))}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-3 flex justify-end",children:e.jsx(Ee,{is24Hour:!!u,onToggle:g||(()=>{}),isDarkMode:t})}),e.jsx(ut,{label:"â° Hora",value:x.time,onChange:p=>E("time",p),isDarkMode:t,use12Hour:!u})]}),e.jsx(at,{type:"text",label:"ðŸ·ï¸ Etiqueta",placeholder:"Ej: ReuniÃ³n importante, Ejercicio, Medicamento...",value:x.label,onChange:p=>E("label",p.target.value),className:`${t?"bg-white/10 text-white border-white/20 placeholder-gray-400":"bg-white/70 text-gray-800 border-gray-300 placeholder-gray-500"}`}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"ðŸ“… DÃ­as de la semana"}),e.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:Ne.map((p,f)=>e.jsx("button",{type:"button",onClick:()=>j(f),className:`flex items-center justify-center h-10 sm:h-11 px-3 rounded-xl text-sm leading-none font-bold transition-all duration-300 ${x.days.includes(f)?`bg-gradient-to-r from-${a.accent} to-purple-600 text-white shadow-xl`:t?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:p},p))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"sm:col-span-1",children:e.jsx(it,{selectedSound:typeof x.sound=="string"?x.sound:"",onSoundChange:p=>E("sound",p),className:""})}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"ðŸ”Š Volumen"}),e.jsx("input",{type:"range",min:"0",max:"100",value:i,onChange:p=>c(Number(p.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer outline-none",style:{background:`linear-gradient(to right, ${l} ${i}%, ${t?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.15)"} ${i}%)`,accentColor:l,color:l}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:"âš™ï¸ Opciones Avanzadas"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[{key:"vibrate",label:"ðŸ“³ Vibrar"},{key:"gradualWake",label:"ðŸŒ… Despertar Gradual"},{key:"useVoice",label:"ðŸ—£ï¸ Leer tÃ­tulo"}].map(p=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x[p.key],onChange:f=>E(p.key,f.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:`${t?"text-gray-300":"text-gray-700"}`,children:p.label})]},p.key))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6",children:[e.jsx(P,{type:"submit",variant:"primary",className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:r,children:s?"âœ… Actualizar":"ðŸ’¾ Guardar"}),e.jsx(P,{type:"button",variant:"secondary",onClick:n,className:"flex-1 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t,themeType:r,children:"âŒ Cancelar"})]})]})]})},ft=({alarms:s,isDarkMode:t,is24HourFormat:a,theme:r,themeType:o,onEdit:n,onToggle:i,onDelete:c})=>{const[u,g]=m.useState(null),l=N=>{const A=s.find($=>$.id===N)||null;g(A)},x=()=>{u&&(c(u.id),g(null))},h=()=>g(null);return s.length===0?e.jsxs("div",{className:`text-center py-10 sm:py-16 ${t?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse text-6xl",children:"â°"}),e.jsx("div",{className:"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping text-2xl",children:"âœ¨"})]}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"No hay alarmas configuradas"}),e.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Â¡Crea tu primera alarma inteligente!"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Usa los botones de arriba para empezar."})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-3 sm:space-y-4 px-1 sm:px-0",children:[s.map(N=>e.jsx(pt,{alarm:N,isDarkMode:t,is24HourFormat:a,theme:r,themeType:o,onEdit:n,onToggle:i,onDelete:l},N.id)),e.jsx(H,{open:!!u,onClose:h,title:"Confirmar eliminaciÃ³n",maxWidthClass:"max-w-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`${t?"text-gray-200":"text-gray-800"}`,children:"Â¿EstÃ¡s seguro de que deseas eliminar esta alarma?"}),u&&e.jsxs("div",{className:`p-3 rounded-xl ${t?"bg-white/10 text-white":"bg-black/5 text-gray-800"}`,children:[e.jsx("div",{className:"font-semibold",children:u.label||"Alarma"}),e.jsx("div",{className:"opacity-80 text-sm",children:u.time})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(P,{variant:"ghost",onClick:h,isDarkMode:t,themeType:o,children:"Cancelar"}),e.jsx(P,{variant:"danger",onClick:x,isDarkMode:t,children:"Eliminar"})]})]})})]})},bt=s=>`/AlarmaPro/${s}`,yt=()=>{const s=Je(),{settings:t,toggleDarkMode:a,toggleTimeFormat:r,toggleVoice:o,setTheme:n,setVolume:i}=Ye(),{alarms:c,activeAlarm:u,addAlarm:g,updateAlarm:l,deleteAlarm:x,toggleAlarm:h,dismissAlarm:N}=qe(),{isSnoozing:A,snoozeCount:$,canSnooze:E,snooze:j,resetSnooze:p}=Ge(he),f=He(),[b,y]=m.useState(!1),[k,I]=m.useState(!1),[R,z]=m.useState(null),q=m.useRef(null),[T,L]=m.useState(null),[K,V]=m.useState(!1),C=Xe[t.theme],J=d=>{const v=_e(d);g(v),I(!1)},Q=()=>{if(u&&E){const d=Ue(u,$,st);g(d),j(),N()}},Z=d=>{R?l(R.id,d):g(d),z(null),y(!1)},ee=d=>{z(d),y(!0)},Y=()=>{z(null),y(!1)};m.useEffect(()=>{const d=v=>{v.preventDefault(),L(v),window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||V(!0)};return window.addEventListener("beforeinstallprompt",d),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]),m.useEffect(()=>{const d=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,v=localStorage.getItem("alarmapro_version"),w=!localStorage.getItem("alarmapro_welcomed");!d&&(w||!T)&&V(!0),d&&v&&v!==fe&&V(!0)},[T]);const te=()=>{if(!T){alert(`Para instalar la aplicaciÃ³n: 
1. Abre el menÃº del navegador (los tres puntos)
2. Selecciona 'Instalar aplicaciÃ³n' o 'AÃ±adir a pantalla de inicio'`);return}T.prompt(),T.userChoice.then(d=>{if(d.outcome==="accepted"){console.log("Usuario aceptÃ³ la instalaciÃ³n");try{localStorage.setItem("alarmapro_version",fe)}catch{}}else console.log("Usuario rechazÃ³ la instalaciÃ³n");L(null)})};return m.useEffect(()=>{const d=q.current;if(!d)return;const v=w=>{var M,B;return w?/(\.mp3|^\/|^https?:)/i.test(w)?w:((B=ie[0])==null?void 0:B.url)||"":((M=ie[0])==null?void 0:M.url)||""};if(u){const w=v(u.sound);if(w)try{if(d.pause(),d.src=w,d.loop=!0,d.volume=Math.max(0,Math.min(1,(t.alarmVolume??100)/100)),d.currentTime=0,d.play().catch(()=>{}),t.voiceEnabled&&u.useVoice&&u.label)try{const M=new SpeechSynthesisUtterance(u.label);M.lang="es-ES",M.volume=Math.max(0,Math.min(1,(t.alarmVolume??100)/100)),window.speechSynthesis.cancel(),window.speechSynthesis.speak(M)}catch{}}catch{}}else{d.pause();try{window.speechSynthesis.cancel()}catch{}}},[u,t.alarmVolume,t.voiceEnabled]),e.jsxs("div",{className:`min-h-screen transition-all duration-1000 ${t.isDarkMode?`bg-gradient-to-br ${C.from} via-gray-900 ${C.to}`:`bg-gradient-to-br ${C.light} via-white to-gray-50`}`,children:[e.jsx(ct,{count:60,className:"opacity-40"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-30",children:e.jsxs("div",{className:"absolute -inset-10",children:[e.jsx("div",{className:`absolute top-0 -left-4 w-96 h-96 bg-gradient-to-r ${C.from.includes("purple")?"from-purple-400":C.from.includes("blue")?"from-blue-400":C.from.includes("orange")?"from-orange-400":C.from.includes("green")?"from-green-400":"from-violet-400"} to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse transform rotate-45`}),e.jsx("div",{className:"absolute top-0 -right-4 w-96 h-96 bg-gradient-to-l from-yellow-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-2000 transform -rotate-45"}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-gradient-to-t from-pink-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-4000"})]})}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8 pb-16 sm:pb-20",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6 flex-wrap",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-2xl bg-gradient-to-r from-${C.accent} to-purple-600 backdrop-blur-lg shadow-xl`,children:e.jsx("img",{src:bt("clockT.png"),alt:"AlarmaPro Logo",className:"w-8 h-8 sm:w-9 sm:h-9"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:"AlarmaPro"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-5 sm:mb-6 overflow-x-auto px-1 py-1",style:{overflow:"visible"},children:[e.jsx(Ee,{is24Hour:t.is24HourFormat,onToggle:r,isDarkMode:t.isDarkMode,accentHex:Se[t.theme]}),e.jsx(P,{variant:t.voiceEnabled?"primary":"ghost",size:"sm",onClick:o,title:"Voz habilitada",className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:"ðŸ”Š"}),e.jsx(dt,{value:t.theme,onChange:d=>n(d),isDarkMode:t.isDarkMode}),e.jsx(P,{variant:"ghost",size:"sm",onClick:a,className:"h-9 w-10 p-0 flex items-center justify-center",isDarkMode:t.isDarkMode,children:t.isDarkMode?"â˜€ï¸":"ðŸŒ™"})]}),e.jsx(nt,{currentTime:s,is24HourFormat:t.is24HourFormat,isDarkMode:t.isDarkMode,voiceEnabled:t.voiceEnabled,theme:C,themeType:t.theme})]}),e.jsx("div",{className:"w-full max-w-xl mx-auto mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto no-scrollbar whitespace-nowrap",children:[e.jsxs(P,{variant:"primary",onClick:()=>y(!b),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,themeType:t.theme,children:["âž• ",R?"Editar Alarma":"Nueva Alarma"]}),e.jsx(P,{variant:"secondary",onClick:()=>I(!k),className:"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg",isDarkMode:t.isDarkMode,themeType:t.theme,children:"âš¡ Alarmas RÃ¡pidas"})]})}),e.jsx(H,{open:k,onClose:()=>I(!1),title:"âš¡ Alarmas RÃ¡pidas",maxWidthClass:"max-w-2xl",children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3",children:et.map(d=>e.jsxs("button",{onClick:()=>J(d.minutes),className:`group p-3 sm:p-4 rounded-2xl ${t.isDarkMode?"bg-white/10 hover:bg-white/20":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl hover-glow`,children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 ${t.isDarkMode?"text-white":"text-gray-800"} group-hover:animate-bounce text-xl sm:text-2xl`,children:d.icon}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${t.isDarkMode?"text-white":"text-gray-800"}`,children:d.label})]},d.minutes))})}),e.jsx(H,{open:b,onClose:Y,title:R?"âœï¸ Editar Alarma":"âœ¨ Nueva Alarma",maxWidthClass:"max-w-xl",children:e.jsx(ht,{alarm:R||void 0,isDarkMode:t.isDarkMode,theme:C,themeType:t.theme,onSave:Z,onCancel:Y,alarmVolume:t.alarmVolume,onVolumeChange:i,is24HourFormat:t.is24HourFormat,onToggleTimeFormat:r})}),e.jsx(ft,{alarms:c,isDarkMode:t.isDarkMode,is24HourFormat:t.is24HourFormat,theme:C,themeType:t.theme,onEdit:ee,onToggle:h,onDelete:x})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-lg flex items-center justify-center z-50",children:e.jsxs(W,{className:"relative p-12 text-center max-w-lg mx-4",isDarkMode:t.isDarkMode,children:[e.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 mx-auto text-yellow-400 drop-shadow-lg text-6xl",children:"âš¡"}),e.jsx("div",{className:"absolute inset-0 w-20 h-20 mx-auto border-4 border-yellow-400 rounded-full"})]})}),e.jsx("h2",{className:`text-4xl font-bold mb-4 ${t.isDarkMode?"text-white":"text-gray-800"}`,children:"ðŸš¨ Â¡ALARMA ACTIVA!"}),e.jsx("p",{className:`text-2xl font-semibold mb-4 ${t.isDarkMode?"text-gray-200":"text-gray-700"}`,children:u.label}),e.jsx("p",{className:`text-5xl font-mono font-bold mb-8 ${t.isDarkMode?"text-white":"text-gray-800"} tracking-wider`,children:u.time}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4",children:[E&&e.jsx(P,{variant:"secondary",onClick:Q,className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"ðŸ”„ Posponer 5min"}),e.jsx(P,{variant:"danger",onClick:()=>{N(),p()},className:"flex-1 py-4 text-lg flex items-center justify-center gap-2",isDarkMode:t.isDarkMode,children:"ðŸ”‡ Desactivar"})]}),$>0&&e.jsxs("div",{className:`text-sm ${t.isDarkMode?"text-gray-400":"text-gray-600"}`,children:["Pospuestas: ",$,"/",he]})]})]})]})}),A&&e.jsx("div",{className:"fixed top-4 right-4 z-40",children:e.jsx(W,{className:"p-4 transform animate-bounce",isDarkMode:t.isDarkMode,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”„"}),e.jsx("span",{className:"font-semibold text-white",children:"Pospuesta 5 minutos"})]})})}),e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 transform pointer-events-none select-none z-0 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-blue-400 text-sm",children:"ðŸ“¶"}),e.jsxs("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:[f.online?"Conectado":"Sin conexiÃ³n",f.effectiveType?` Â· ${f.effectiveType.toUpperCase()}`:""]})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${t.isDarkMode?"bg-white/10":"bg-black/10"} backdrop-blur-lg`,children:[e.jsx("span",{className:"text-green-400 text-sm",children:"ðŸ”‹"}),e.jsx("span",{className:`text-sm ${t.isDarkMode?"text-white":"text-gray-800"}`,children:f.batteryLevel!==null?`${f.batteryLevel}%${f.charging?" âš¡":""}`:"â€”"})]})]}),t.voiceEnabled&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-600/30 backdrop-blur-lg animate-pulse",children:[e.jsx("span",{className:"text-green-300 text-sm",children:"ðŸ”Š"}),e.jsx("span",{className:"text-sm text-green-300",children:"Voz"})]})]}),e.jsx(gt,{isDarkMode:t.isDarkMode,onInstall:te,onDismiss:()=>V(!1),shouldOpen:K}),e.jsx("audio",{ref:q})]})},vt=le.createRoot(document.getElementById("root"));vt.render(e.jsx(ve.StrictMode,{children:e.jsx(yt,{})}));
//# sourceMappingURL=index-CXZ3oMHp.js.map
