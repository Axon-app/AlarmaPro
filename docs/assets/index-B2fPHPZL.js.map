{"version":3,"file":"index-B2fPHPZL.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/utils/index.ts","../../src/hooks/useAlarmManager.ts","../../src/hooks/useCurrentTime.ts","../../src/hooks/useSettings.ts","../../src/hooks/useSnooze.ts","../../src/hooks/useDeviceStatus.ts","../../src/constants/index.ts","../../src/components/common/ThemeWaves.tsx","../../src/components/ui/Button.tsx","../../src/components/ui/Input.tsx","../../src/components/ui/Card.tsx","../../src/components/ui/Modal.tsx","../../src/components/common/DigitalClock.tsx","../../src/constants/alarmSounds.ts","../../src/utils/customSounds.ts","../../src/components/common/AlarmSounds.tsx","../../src/components/common/ParticleBackground.tsx","../../src/components/common/ThemeSelect.tsx","../../src/components/common/ClockTimePicker.tsx","../../src/components/common/TimeFormatToggle.tsx","../../src/components/common/WelcomeModal.tsx","../../src/components/alarm/AlarmItem.tsx","../../src/components/alarm/AlarmForm.tsx","../../src/components/alarm/AlarmList.tsx","../../src/components/ModernAlarmSystem.tsx","../../src/index.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { Alarm, AlarmPriority } from '../types';\n\n/**\n * Formats time string for display based on 24-hour format preference\n */\nexport const formatTime = (date: Date, is24HourFormat: boolean): string => {\n  if (is24HourFormat) {\n    return date.toLocaleTimeString('es-ES', { \n      hour12: false,\n      hour: '2-digit', \n      minute: '2-digit', \n      second: '2-digit' \n    });\n  } else {\n    return date.toLocaleTimeString('es-ES', { \n      hour12: true,\n      hour: 'numeric', \n      minute: '2-digit', \n      second: '2-digit' \n    });\n  }\n};\n\n/**\n * Formats alarm time string for display\n */\nexport const formatAlarmTime = (timeString: string, is24HourFormat: boolean): string => {\n  if (is24HourFormat) {\n    return timeString;\n  } else {\n    const [hours, minutes] = timeString.split(':');\n    const hour = parseInt(hours);\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\n    return `${displayHour}:${minutes} ${ampm}`;\n  }\n};\n\n/**\n * Formats date for display\n */\nexport const formatDate = (date: Date): string => {\n  return date.toLocaleDateString('es-ES', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n};\n\n/**\n * Gets priority color classes based on alarm priority\n */\nexport const getPriorityColor = (priority: AlarmPriority, isDarkMode: boolean): string => {\n  const darkColors = {\n    low: 'from-blue-600 to-cyan-600',\n    normal: 'from-green-600 to-emerald-600',\n    high: 'from-yellow-600 to-orange-600',\n    urgent: 'from-red-600 to-pink-600'\n  };\n  \n  const lightColors = {\n    low: 'from-blue-400 to-cyan-400',\n    normal: 'from-green-400 to-emerald-400',\n    high: 'from-yellow-400 to-orange-400',\n    urgent: 'from-red-400 to-pink-400'\n  };\n  \n  return isDarkMode ? darkColors[priority] : lightColors[priority];\n};\n\n/**\n * Gets priority label with emoji\n */\nexport const getPriorityLabel = (priority: AlarmPriority): string => {\n  const labels = {\n    low: '🔵 BAJA',\n    normal: '🟢 NORMAL',\n    high: '🟡 ALTA',\n    urgent: '🔴 URGENTE'\n  };\n  \n  return labels[priority];\n};\n\n/**\n * Checks if an alarm should trigger at the current time\n */\nexport const shouldTriggerAlarm = (alarm: Alarm, currentTime: Date): boolean => {\n  if (!alarm.enabled) return false;\n  \n  const currentTimeStr = currentTime.toTimeString().slice(0, 5);\n  const currentDay = currentTime.getDay();\n  \n  if (alarm.time !== currentTimeStr) return false;\n  \n  // If no specific days are set, alarm triggers every day\n  if (alarm.days.length === 0) return true;\n  \n  // Check if current day is in alarm's scheduled days\n  return alarm.days.includes(currentDay);\n};\n\n/**\n * Creates a quick alarm for the specified minutes from now\n */\nexport const createQuickAlarm = (minutes: number): Omit<Alarm, 'id'> => {\n  const now = new Date();\n  now.setMinutes(now.getMinutes() + minutes);\n  const timeStr = now.toTimeString().slice(0, 5);\n  \n  return {\n    time: timeStr,\n    label: `Alarma rápida ${minutes} min`,\n    days: [],\n    sound: 'gentle',\n    enabled: true,\n    priority: 'high',\n    vibrate: true,\n    gradualWake: false,\n    challengeMode: false\n  };\n};\n\n/**\n * Creates a snooze alarm based on the active alarm\n */\nexport const createSnoozeAlarm = (\n  activeAlarm: Alarm, \n  snoozeCount: number, \n  snoozeDuration: number = 5\n): Omit<Alarm, 'id'> => {\n  const snoozeTime = new Date();\n  snoozeTime.setMinutes(snoozeTime.getMinutes() + snoozeDuration);\n  const timeStr = snoozeTime.toTimeString().slice(0, 5);\n  \n  return {\n    ...activeAlarm,\n    time: timeStr,\n    label: `${activeAlarm.label} (Snooze ${snoozeCount + 1})`,\n    days: []\n  };\n};\n\n/**\n * Generates a random math challenge for challenge mode\n */\nexport const generateMathChallenge = (): { question: string; answer: number } => {\n  const num1 = Math.floor(Math.random() * 20) + 5;\n  const num2 = Math.floor(Math.random() * 20) + 5;\n  \n  return {\n    question: `¿Cuánto es ${num1} + ${num2}?`,\n    answer: num1 + num2\n  };\n};\n\n/**\n * Validates alarm form data\n */\nexport const validateAlarmForm = (alarm: Omit<Alarm, 'id'>): string[] => {\n  const errors: string[] = [];\n  \n  if (!alarm.time) {\n    errors.push('La hora es requerida');\n  }\n  \n  if (!alarm.label.trim()) {\n    errors.push('La etiqueta es requerida');\n  }\n  \n  if (alarm.label.length > 50) {\n    errors.push('La etiqueta no puede exceder 50 caracteres');\n  }\n  \n  return errors;\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { Alarm } from '../types';\nimport { shouldTriggerAlarm } from '../utils';\n\ninterface UseAlarmManagerReturn {\n  alarms: Alarm[];\n  activeAlarm: Alarm | null;\n  addAlarm: (alarm: Omit<Alarm, 'id'>) => void;\n  updateAlarm: (id: number, alarm: Omit<Alarm, 'id'>) => void;\n  deleteAlarm: (id: number) => void;\n  toggleAlarm: (id: number) => void;\n  dismissAlarm: () => void;\n  triggerAlarm: (alarm: Alarm) => void;\n}\n\nexport const useAlarmManager = (): UseAlarmManagerReturn => {\n  const [alarms, setAlarms] = useState<Alarm[]>([]);\n  const [activeAlarm, setActiveAlarm] = useState<Alarm | null>(null);\n\n  // Load alarms from localStorage on mount\n  useEffect(() => {\n    const savedAlarms = localStorage.getItem('alarmaPro_alarms');\n    if (savedAlarms) {\n      try {\n        setAlarms(JSON.parse(savedAlarms));\n      } catch (error) {\n        console.error('Error loading alarms from localStorage:', error);\n      }\n    }\n  }, []);\n\n  // Save alarms to localStorage whenever alarms change\n  useEffect(() => {\n    localStorage.setItem('alarmaPro_alarms', JSON.stringify(alarms));\n  }, [alarms]);\n\n  // Check for triggered alarms every second\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = new Date();\n      \n      alarms.forEach(alarm => {\n        if (shouldTriggerAlarm(alarm, now) && !activeAlarm) {\n          triggerAlarm(alarm);\n        }\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [alarms, activeAlarm]);\n\n  const addAlarm = useCallback((alarmData: Omit<Alarm, 'id'>) => {\n    const newAlarm: Alarm = {\n      ...alarmData,\n      id: Date.now()\n    };\n    setAlarms(prev => [...prev, newAlarm]);\n  }, []);\n\n  const updateAlarm = useCallback((id: number, alarmData: Omit<Alarm, 'id'>) => {\n    setAlarms(prev => \n      prev.map(alarm => \n        alarm.id === id ? { ...alarmData, id } : alarm\n      )\n    );\n  }, []);\n\n  const deleteAlarm = useCallback((id: number) => {\n    setAlarms(prev => prev.filter(alarm => alarm.id !== id));\n  }, []);\n\n  const toggleAlarm = useCallback((id: number) => {\n    setAlarms(prev => \n      prev.map(alarm => \n        alarm.id === id ? { ...alarm, enabled: !alarm.enabled } : alarm\n      )\n    );\n  }, []);\n\n  const triggerAlarm = useCallback((alarm: Alarm) => {\n    setActiveAlarm(alarm);\n  }, []);\n\n  const dismissAlarm = useCallback(() => {\n    setActiveAlarm(null);\n  }, []);\n\n  return {\n    alarms,\n    activeAlarm,\n    addAlarm,\n    updateAlarm,\n    deleteAlarm,\n    toggleAlarm,\n    dismissAlarm,\n    triggerAlarm\n  };\n};\n","import { useState, useEffect } from 'react';\n\nexport const useCurrentTime = () => {\n  const [currentTime, setCurrentTime] = useState(new Date());\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  return currentTime;\n};\n","import { useState, useEffect } from 'react';\nimport { AppSettings, ThemeType } from '../types';\n\nconst DEFAULT_SETTINGS: AppSettings = {\n  isDarkMode: true,\n  is24HourFormat: true,\n  theme: 'purple',\n  voiceEnabled: false,\n  animationStyle: 'smooth',\n  alarmVolume: 80\n};\n\nexport const useSettings = () => {\n  const [settings, setSettings] = useState<AppSettings>(DEFAULT_SETTINGS);\n\n  // Load settings from localStorage on mount\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('alarmaPro_settings');\n    if (savedSettings) {\n      try {\n        const parsed = JSON.parse(savedSettings);\n        setSettings({ ...DEFAULT_SETTINGS, ...parsed });\n      } catch (error) {\n        console.error('Error loading settings:', error);\n      }\n    }\n  }, []);\n\n  // Save settings to localStorage whenever they change\n  useEffect(() => {\n    localStorage.setItem('alarmaPro_settings', JSON.stringify(settings));\n  }, [settings]);\n\n  const updateSetting = <K extends keyof AppSettings>(\n    key: K, \n    value: AppSettings[K]\n  ) => {\n    setSettings(prev => ({ ...prev, [key]: value }));\n  };\n\n  const toggleDarkMode = () => {\n    updateSetting('isDarkMode', !settings.isDarkMode);\n  };\n\n  const toggleTimeFormat = () => {\n    updateSetting('is24HourFormat', !settings.is24HourFormat);\n  };\n\n  const toggleVoice = () => {\n    updateSetting('voiceEnabled', !settings.voiceEnabled);\n  };\n\n  const setTheme = (theme: ThemeType) => {\n    updateSetting('theme', theme);\n  };\n\n  const setVolume = (volume: number) => {\n    updateSetting('alarmVolume', Math.max(0, Math.min(100, volume)));\n  };\n\n  return {\n    settings,\n    updateSetting,\n    toggleDarkMode,\n    toggleTimeFormat,\n    toggleVoice,\n    setTheme,\n    setVolume\n  };\n};\n","import { useState, useCallback } from 'react';\n\ninterface UseSnoozeReturn {\n  isSnoozing: boolean;\n  snoozeCount: number;\n  canSnooze: boolean;\n  snooze: () => void;\n  resetSnooze: () => void;\n}\n\nexport const useSnooze = (maxSnoozeCount: number = 3): UseSnoozeReturn => {\n  const [isSnoozing, setIsSnoozing] = useState(false);\n  const [snoozeCount, setSnoozeCount] = useState(0);\n\n  const canSnooze = snoozeCount < maxSnoozeCount;\n\n  const snooze = useCallback(() => {\n    if (canSnooze) {\n      setSnoozeCount(prev => prev + 1);\n      setIsSnoozing(true);\n      \n      // Hide snooze notification after 2 seconds\n      setTimeout(() => {\n        setIsSnoozing(false);\n      }, 2000);\n    }\n  }, [canSnooze]);\n\n  const resetSnooze = useCallback(() => {\n    setSnoozeCount(0);\n    setIsSnoozing(false);\n  }, []);\n\n  return {\n    isSnoozing,\n    snoozeCount,\n    canSnooze,\n    snooze,\n    resetSnooze\n  };\n};\n","import { useEffect, useState } from 'react';\n\nexport interface DeviceStatus {\n  batteryLevel: number | null; // 0-100\n  charging: boolean | null;\n  networkType: string | null; // wifi / cellular / ethernet / etc\n  effectiveType: string | null; // 4g/3g/etc\n  online: boolean;\n}\n\nexport function useDeviceStatus(): DeviceStatus {\n  const [status, setStatus] = useState<DeviceStatus>({\n    batteryLevel: null,\n    charging: null,\n    networkType: null,\n    effectiveType: null,\n    online: typeof navigator !== 'undefined' ? navigator.onLine : true,\n  });\n\n  useEffect(() => {\n    let battery: BatteryManager | null = null;\n    let conn: NetworkInformation | undefined;\n  let onBatteryLevel: ((ev: Event) => void) | null = null;\n  let onBatteryCharging: ((ev: Event) => void) | null = null;\n  let onConnChange: ((ev: Event) => void) | null = null;\n\n    const updateOnline = () => setStatus((s) => ({ ...s, online: navigator.onLine }));\n\n    // Battery API\n  const setupBattery = async () => {\n      try {\n        if (navigator.getBattery) {\n          battery = await navigator.getBattery();\n      const applyBattery = () => setStatus((s) => ({\n            ...s,\n            batteryLevel: Math.round((battery!.level ?? 0) * 100),\n            charging: !!battery!.charging,\n          }));\n          applyBattery();\n      onBatteryLevel = () => applyBattery();\n      onBatteryCharging = () => applyBattery();\n      battery.addEventListener('levelchange', onBatteryLevel);\n      battery.addEventListener('chargingchange', onBatteryCharging);\n        }\n      } catch (e) {\n        // Battery API not supported\n      }\n    };\n\n    // Network Information API\n  const setupConnection = () => {\n      conn = navigator.connection || (navigator as any).mozConnection || (navigator as any).webkitConnection;\n      if (conn) {\n    const applyConn = () => setStatus((s) => ({\n          ...s,\n          networkType: (conn!.type || 'unknown') as string,\n          effectiveType: (conn!.effectiveType || null) as any,\n        }));\n        applyConn();\n    onConnChange = () => applyConn();\n    conn.addEventListener('change', onConnChange);\n      }\n    };\n\n    setupBattery();\n    setupConnection();\n    window.addEventListener('online', updateOnline);\n    window.addEventListener('offline', updateOnline);\n\n    return () => {\n      window.removeEventListener('online', updateOnline);\n      window.removeEventListener('offline', updateOnline);\n      if (battery) {\n        try {\n          if (onBatteryLevel) battery.removeEventListener('levelchange', onBatteryLevel);\n          if (onBatteryCharging) battery.removeEventListener('chargingchange', onBatteryCharging);\n        } catch {}\n      }\n      if (conn && onConnChange) {\n        try { conn.removeEventListener('change', onConnChange); } catch {}\n      }\n    };\n  }, []);\n\n  return status;\n}\n","// import { Coffee, Timer, Activity, Target, Clock, Music, Bell, Sparkles } from 'lucide-react';\nimport { AlarmSound, QuickAlarm, Theme, ThemeType } from '../types';\n\nexport const WEEK_DAYS = ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'];\n\nexport const THEMES: Record<ThemeType, Theme> = {\n  purple: { \n    from: 'from-purple-900', \n    to: 'to-indigo-900', \n    accent: 'purple-600', \n    light: 'from-purple-50 to-indigo-50' \n  },\n  ocean: { \n    from: 'from-blue-900', \n    to: 'to-cyan-900', \n    accent: 'blue-600', \n    light: 'from-blue-50 to-cyan-50' \n  },\n  sunset: { \n    from: 'from-orange-900', \n    to: 'to-red-900', \n    accent: 'orange-600', \n    light: 'from-orange-50 to-red-50' \n  },\n  forest: { \n    from: 'from-green-900', \n    to: 'to-emerald-900', \n    accent: 'green-600', \n    light: 'from-green-50 to-emerald-50' \n  },\n  cosmic: { \n    from: 'from-violet-900', \n    to: 'to-pink-900', \n    accent: 'violet-600', \n    light: 'from-violet-50 to-pink-50' \n  }\n};\n\n// Emoji/icon for each theme to show in selectors and UI\nexport const THEME_EMOJI: Record<ThemeType, string> = {\n  purple: '🟣',\n  ocean: '🌊',\n  sunset: '🌅',\n  forest: '🌲',\n  cosmic: '🌌',\n};\n\n// Hex accent per theme for inline gradients and effects\nexport const THEME_ACCENT_HEX: Record<ThemeType, string> = {\n  purple: '#9333ea', // purple-600\n  ocean: '#2563eb',  // blue-600\n  sunset: '#ea580c', // orange-600\n  forest: '#16a34a', // green-600\n  cosmic: '#7c3aed', // violet-600\n};\n\n// Start/End gradient colors per theme to paint primary buttons and headings\nexport const THEME_ACCENT_GRADIENT_HEX: Record<ThemeType, { start: string; end: string }> = {\n  purple: { start: '#9333ea', end: '#6366f1' },  // purple-600 → indigo-500\n  ocean:  { start: '#2563eb', end: '#06b6d4' },  // blue-600 → cyan-500\n  sunset: { start: '#ea580c', end: '#ef4444' },  // orange-600 → red-500\n  forest: { start: '#16a34a', end: '#22c55e' },  // green-600 → green-500\n  cosmic: { start: '#7c3aed', end: '#db2777' },  // violet-600 → rose-600\n};\n\n// Wave visual styles per theme for the clock visualizer\nexport type WaveVariant = 'ribbons' | 'bars' | 'dots' | 'bezier';\nexport const THEME_WAVES: Record<ThemeType, { variant: WaveVariant; colors: string[] } > = {\n  purple: {\n    variant: 'ribbons',\n    colors: ['#a78bfa', '#f0abfc', '#c4b5fd', '#f5d0fe']\n  },\n  ocean: {\n    variant: 'bezier',\n    colors: ['#38bdf8', '#22d3ee', '#60a5fa', '#06b6d4']\n  },\n  sunset: {\n    variant: 'bars',\n    colors: ['#fb7185', '#f97316', '#f59e0b', '#ef4444']\n  },\n  forest: {\n    variant: 'dots',\n    colors: ['#34d399', '#86efac', '#22c55e', '#a3e635']\n  },\n  cosmic: {\n    variant: 'ribbons',\n    colors: ['#a78bfa', '#f472b6', '#60a5fa', '#c084fc']\n  }\n};\n\nexport const ALARM_SOUNDS: Record<string, AlarmSound> = {\n  gentle: { name: '🎵 Suave Despertar', description: 'Melodía relajante' },\n  energetic: { name: '⚡ Power Up', description: 'Energía máxima' },\n  nature: { name: '🌊 Sonidos Naturales', description: 'Aves y agua' },\n  classic: { name: '⏰ Clásico Digital', description: 'Beep tradicional' },\n  binaural: { name: '🧠 Binaural', description: 'Frecuencias cerebrales' },\n  piano: { name: '🎹 Piano Suave', description: 'Notas de piano' },\n  cosmic: { name: '🌌 Cósmico', description: 'Sonidos del espacio' }\n};\n\nexport const QUICK_ALARMS: QuickAlarm[] = [\n  { minutes: 5, label: '5 min', icon: '☕' },\n  { minutes: 10, label: '10 min', icon: '⏱️' },\n  { minutes: 15, label: '15 min', icon: '☕' },\n  { minutes: 20, label: '20 min', icon: '🏃' },\n  { minutes: 30, label: '30 min', icon: '🎯' },\n  { minutes: 60, label: '1 hora', icon: '⏰' }\n];\n\nexport const DEFAULT_ALARM = {\n  time: '',\n  label: '',\n  days: [],\n  sound: 'gentle' as keyof typeof ALARM_SOUNDS,\n  enabled: true,\n  priority: 'normal' as const,\n  vibrate: true,\n  gradualWake: false,\n  challengeMode: false\n};\n\nexport const SNOOZE_DURATION = 5; // minutes\nexport const MAX_SNOOZE_COUNT = 3;\nexport const ANIMATION_DURATION = 300;\nexport const WAVE_COUNT = 5;\n","import React, { useRef, useEffect } from 'react';\nimport { THEME_WAVES, THEME_ACCENT_HEX } from '../../constants';\nimport type { ThemeType } from '../../types';\n\ninterface ThemeWavesProps {\n  theme: ThemeType;\n  isDarkMode?: boolean;\n  width?: number;\n  height?: number;\n  className?: string;\n}\n\nexport const ThemeWaves: React.FC<ThemeWavesProps> = ({\n  theme,\n  isDarkMode = true,\n  width = 360,\n  height = 80,\n  className = ''\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    canvas.width = width;\n    canvas.height = height;\n\n    const config = THEME_WAVES[theme];\n    const accent = THEME_ACCENT_HEX[theme];\n\n    let raf = 0;\n    const t0 = performance.now();\n\n    const drawRibbons = (time: number) => {\n      const t = (time - t0) * 0.0015;\n      ctx.clearRect(0, 0, width, height);\n      config.colors.forEach((color, i) => {\n        ctx.beginPath();\n        ctx.lineWidth = 2;\n        ctx.strokeStyle = color;\n        ctx.globalAlpha = isDarkMode ? 0.8 : 0.6;\n        for (let x = 0; x <= width; x++) {\n          const y = height/2 + Math.sin((x * 0.02) + (t * (0.8 + i*0.2))) * (10 + i*3);\n          x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n        }\n        ctx.stroke();\n      });\n    };\n\n    const drawBars = (time: number) => {\n      const t = (time - t0) * 0.002;\n      ctx.clearRect(0, 0, width, height);\n      const barCount = 40;\n      const barW = width / barCount;\n      for (let i = 0; i < barCount; i++) {\n        const amp = (Math.sin(i * 0.5 + t * 2) + 1) / 2;\n        const h = 10 + amp * (height - 20);\n        const color = config.colors[i % config.colors.length];\n        ctx.fillStyle = color;\n        ctx.globalAlpha = isDarkMode ? 0.8 : 0.7;\n        ctx.fillRect(i * barW + 1, (height - h) / 2, barW - 2, h);\n      }\n    };\n\n    const drawDots = (time: number) => {\n      const t = (time - t0) * 0.0018;\n      ctx.clearRect(0, 0, width, height);\n      const rows = 3;\n      const cols = 40;\n      for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < cols; c++) {\n          const x = (c + 0.5) * (width / cols);\n          const baseY = (r + 1) * (height / (rows + 1));\n          const y = baseY + Math.sin(c * 0.4 + t * (1 + r*0.3)) * 8;\n          ctx.beginPath();\n          ctx.fillStyle = config.colors[(r + c) % config.colors.length];\n          ctx.globalAlpha = isDarkMode ? 0.85 : 0.75;\n          ctx.arc(x, y, 2.2 + r*0.3, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      }\n    };\n\n    const drawBezier = (time: number) => {\n      const t = (time - t0) * 0.0012;\n      ctx.clearRect(0, 0, width, height);\n      for (let i = 0; i < 4; i++) {\n        ctx.beginPath();\n        ctx.lineWidth = 2;\n        ctx.strokeStyle = config.colors[i % config.colors.length];\n        ctx.globalAlpha = isDarkMode ? 0.8 : 0.6;\n        ctx.moveTo(0, height/2);\n        const cp1y = height/2 + Math.sin(t * (1.2 + i*0.3)) * 18;\n        const cp2y = height/2 + Math.cos(t * (1.0 + i*0.2)) * 18;\n        ctx.bezierCurveTo(width*0.33, cp1y, width*0.66, cp2y, width, height/2);\n        ctx.stroke();\n      }\n      const grd = ctx.createLinearGradient(0, 0, 0, height);\n      grd.addColorStop(0, accent + '00');\n      grd.addColorStop(0.5, accent + '22');\n      grd.addColorStop(1, accent + '00');\n      ctx.fillStyle = grd;\n      ctx.fillRect(0, 0, width, height);\n    };\n\n    const loop = (time: number) => {\n      switch (config.variant) {\n        case 'bars':\n          drawBars(time); break;\n        case 'dots':\n          drawDots(time); break;\n        case 'bezier':\n          drawBezier(time); break;\n        default:\n          drawRibbons(time); break;\n      }\n      raf = requestAnimationFrame(loop);\n    };\n    loop(performance.now());\n    return () => cancelAnimationFrame(raf);\n  }, [theme, isDarkMode, width, height]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`rounded-xl opacity-80 ${className}`}\n      style={{ width, height }}\n    />\n  );\n};\n\nexport default ThemeWaves;\n","import React from 'react';\nimport type { ThemeType } from '../../types';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n  // When provided, allows the component to adapt contrast for light/dark themes\n  isDarkMode?: boolean;\n  // Optional theme to colorize the primary variant according to current theme\n  themeType?: ThemeType;\n  children: React.ReactNode;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  variant = 'primary',\n  size = 'md',\n  isLoading = false,\n  isDarkMode,\n  themeType = 'purple',\n  children,\n  className = '',\n  disabled,\n  ...props\n}) => {\n  const baseClasses = 'font-semibold rounded-xl transition-all duration-300 transform sm:hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none';\n  \n  // Static Tailwind class maps (safe for JIT) to avoid broken inline gradients\n  const themePrimary: Record<ThemeType, string> = {\n    purple: 'bg-gradient-to-r from-purple-600 to-indigo-600 focus:ring-purple-500 hover:from-purple-700 hover:to-indigo-700',\n    ocean: 'bg-gradient-to-r from-blue-600 to-cyan-600 focus:ring-blue-500 hover:from-blue-700 hover:to-cyan-700',\n    sunset: 'bg-gradient-to-r from-orange-600 to-red-500 focus:ring-orange-500 hover:from-orange-700 hover:to-red-600',\n    forest: 'bg-gradient-to-r from-green-600 to-emerald-600 focus:ring-green-500 hover:from-green-700 hover:to-emerald-700',\n    cosmic: 'bg-gradient-to-r from-violet-600 to-rose-600 focus:ring-violet-500 hover:from-violet-700 hover:to-rose-700',\n  };\n\n  const themeSecondaryLight: Record<ThemeType, string> = {\n    purple: 'bg-white text-gray-900 border border-purple-400 hover:bg-gray-50 focus:ring-purple-400',\n    ocean: 'bg-white text-gray-900 border border-blue-400 hover:bg-gray-50 focus:ring-blue-400',\n    sunset: 'bg-white text-gray-900 border border-orange-400 hover:bg-gray-50 focus:ring-orange-400',\n    forest: 'bg-white text-gray-900 border border-green-400 hover:bg-gray-50 focus:ring-green-400',\n    cosmic: 'bg-white text-gray-900 border border-violet-400 hover:bg-gray-50 focus:ring-violet-400',\n  };\n\n  const themeGhostLight: Record<ThemeType, string> = {\n    purple: 'bg-purple-50/40 hover:bg-purple-50 text-purple-700 border border-purple-200 focus:ring-purple-300',\n    ocean: 'bg-blue-50/40 hover:bg-blue-50 text-blue-700 border border-blue-200 focus:ring-blue-300',\n    sunset: 'bg-orange-50/40 hover:bg-orange-50 text-orange-700 border border-orange-200 focus:ring-orange-300',\n    forest: 'bg-green-50/40 hover:bg-green-50 text-green-700 border border-green-200 focus:ring-green-300',\n    cosmic: 'bg-violet-50/40 hover:bg-violet-50 text-violet-700 border border-violet-200 focus:ring-violet-300',\n  };\n\n  const variants = {\n    primary: `${themePrimary[themeType]} text-white shadow-xl hover:shadow-2xl`,\n    // Adapt contrast for light vs dark and tint by theme in light mode\n    secondary: isDarkMode === false\n      ? `${themeSecondaryLight[themeType]} shadow-md`\n      : 'bg-white/15 hover:bg-white/25 backdrop-blur-lg text-white border border-white/20 focus:ring-white/50',\n    danger: 'bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 focus:ring-red-500 shadow-xl hover:shadow-2xl',\n    ghost: isDarkMode === false\n      ? themeGhostLight[themeType]\n      : 'bg-white/10 hover:bg-white/20 backdrop-blur-lg text-white border border-white/10 focus:ring-white/50'\n  } as const;\n  \n  const sizes = {\n    sm: 'px-3 py-2 text-sm',\n    md: 'px-6 py-3 text-base',\n    lg: 'px-8 py-4 text-lg'\n  };\n\n  const classes = `${baseClasses} ${variants[variant]} ${sizes[size]} ${className}`;\n\n  return (\n    <button\n      className={classes}\n  // no inline styles needed; all styles are Tailwind class-based\n      disabled={disabled || isLoading}\n      {...props}\n    >\n      {isLoading ? (\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n          Cargando...\n        </div>\n      ) : (\n        children\n      )}\n    </button>\n  );\n};\n","import React from 'react';\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  icon?: React.ReactNode;\n}\n\nexport const Input: React.FC<InputProps> = ({\n  label,\n  error,\n  icon,\n  className = '',\n  ...props\n}) => {\n  const baseClasses = 'w-full p-4 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all';\n  const classes = `${baseClasses} ${className}`;\n\n  return (\n    <div className=\"space-y-2\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-300\">\n          {label}\n        </label>\n      )}\n      <div className=\"relative\">\n        {icon && (\n          <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\n            {icon}\n          </div>\n        )}\n        <input\n          className={`${classes} ${icon ? 'pl-12' : ''} ${error ? 'border-red-500' : ''}`}\n          {...props}\n        />\n      </div>\n      {error && (\n        <p className=\"text-sm text-red-400\">{error}</p>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  variant?: 'default' | 'glass' | 'solid';\n  isDarkMode?: boolean;\n}\n\nexport const Card: React.FC<CardProps> = ({\n  children,\n  className = '',\n  variant = 'glass',\n  isDarkMode = true\n}) => {\n  const baseClasses = 'rounded-2xl sm:rounded-3xl shadow-xl border transition-all duration-300';\n  \n  const variants = {\n    default: isDarkMode \n      ? 'bg-white/10 border-white/20 backdrop-blur-lg shadow-2xl' \n      : 'bg-white/50 border-white/40 backdrop-blur-lg shadow-2xl',\n    glass: isDarkMode \n      ? 'bg-white/10 border-white/20 backdrop-blur-xl shadow-2xl hover:shadow-3xl' \n      : 'bg-white/40 border-white/40 backdrop-blur-xl shadow-2xl hover:shadow-3xl',\n    solid: isDarkMode \n      ? 'bg-gray-800/90 border-gray-700 backdrop-blur-sm shadow-2xl' \n      : 'bg-white/90 border-gray-200 backdrop-blur-sm shadow-2xl'\n  };\n\n  const classes = `${baseClasses} ${variants[variant]} ${className}`;\n\n  return (\n    <div className={classes}>\n      {children}\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\n\ninterface ModalProps {\n  open: boolean;\n  title?: string;\n  onClose: () => void;\n  children: React.ReactNode;\n  maxWidthClass?: string; // e.g., 'max-w-lg', 'max-w-2xl'\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  open,\n  title,\n  onClose,\n  children,\n  maxWidthClass = 'max-w-lg',\n}) => {\n  useEffect(() => {\n    const handleKey = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    if (open) document.addEventListener('keydown', handleKey);\n    return () => document.removeEventListener('keydown', handleKey);\n  }, [open, onClose]);\n\n  if (!open) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Sheet on mobile, centered dialog on desktop */}\n      <div\n        className={`relative w-full sm:w-auto sm:${maxWidthClass} sm:mx-auto bg-white/5 sm:bg-white/10 border border-white/20 rounded-t-2xl sm:rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden`}\n        style={{ paddingBottom: 'max(env(safe-area-inset-bottom, 0px), 0px)', maxWidth: maxWidthClass === 'max-w-sm' ? '340px' : undefined }}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-4 py-3 border-b border-white/10\">\n          <h3 className=\"text-white text-lg font-semibold select-none\">{title}</h3>\n          <button\n            onClick={onClose}\n            className=\"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg p-1.5 transition\"\n            aria-label=\"Cerrar\"\n          >\n            ✖️\n          </button>\n        </div>\n\n        {/* Content */}\n  <div className=\"max-h-[70vh] sm:max-h-[80vh] overflow-y-auto p-4 custom-scrollbar\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport type { ThemeType } from '../../types';\nimport { formatTime, formatDate } from '../../utils';\nimport { ThemeWaves } from './ThemeWaves';\nimport { Card } from '../ui';\n\ninterface DigitalClockProps {\n  currentTime: Date;\n  is24HourFormat: boolean;\n  isDarkMode: boolean;\n  voiceEnabled?: boolean;\n  theme: { accent: string };\n  themeType: ThemeType;\n}\n\nexport const DigitalClock: React.FC<DigitalClockProps> = ({\n  currentTime,\n  is24HourFormat,\n  isDarkMode,\n  voiceEnabled = false,\n  themeType\n}) => {\n  return (\n    <Card \n      className=\"inline-block w-full sm:w-auto p-4 sm:p-6 md:p-8 transform hover:scale-105 transition-all duration-500\"\n      isDarkMode={isDarkMode}\n    >\n      <div className={`text-5xl sm:text-6xl md:text-7xl font-mono font-bold mb-3 sm:mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'} tracking-wider`}>\n        {formatTime(currentTime, is24HourFormat)}\n      </div>\n      \n      {/* Theme-specific Waves */}\n      <div className=\"flex justify-center mb-4\">\n        <ThemeWaves theme={themeType} isDarkMode={isDarkMode} />\n      </div>\n      \n      <div className=\"flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3\">\n        <span className={`text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full ${isDarkMode ? 'bg-purple-600/30 text-purple-300' : 'bg-purple-600/20 text-purple-800'}`}>\n          {is24HourFormat ? '24 Horas' : '12 Horas'}\n        </span>\n        {voiceEnabled && (\n          <span className=\"text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-green-600/30 text-green-300 animate-pulse\">\n            🎤 Voz Activa\n          </span>\n        )}\n      </div>\n      \n      <div className={`text-sm sm:text-base md:text-lg ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n        {formatDate(currentTime)}\n      </div>\n    </Card>\n  );\n};\n","export interface AlarmSound {\n  name: string;\n  url: string;\n  icon: string;\n}\n\n// Función para obtener la ruta completa\nconst getPath = (path: string): string => {\n  // Asegurarnos de que funciona tanto en desarrollo como en producción\n  const base = '/AlarmaPro/';\n  return `${base}${path}`;\n};\n\nexport const ALARM_SOUNDS: AlarmSound[] = [\n  {\n    name: 'Clásico',\n    url: getPath('sounds/alarm-26718.mp3'), \n    icon: '⏰'\n  },\n  {\n    name: 'Suave',\n    url: getPath('sounds/reliable-safe-327618.mp3'),\n    icon: '🎵'\n  },\n  {\n    name: 'Urgente',\n    url: getPath('sounds/biohazard-alarm-143105.mp3'),\n    icon: '🚨'\n  },\n  {\n    name: 'Sirena',\n    url: getPath('sounds/facility-siren-loopable-100687.mp3'),\n    icon: '🚒'\n  },\n  {\n    name: 'Digital',\n    url: getPath('sounds/alarm-no3-14864.mp3'),\n    icon: '🤖'\n  }\n];\n","export interface CustomSound {\n  id: string;\n  name: string;\n  dataUrl: string; // base64 data URL persisted in localStorage\n}\n\nconst KEY = 'alarmaPro.customSounds.v1';\n\nexport function getCustomSounds(): CustomSound[] {\n  try {\n    const raw = localStorage.getItem(KEY);\n    return raw ? (JSON.parse(raw) as CustomSound[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveAll(list: CustomSound[]) {\n  try {\n    localStorage.setItem(KEY, JSON.stringify(list));\n  } catch {\n    // ignore quota errors\n  }\n}\n\nexport function addCustomSound(name: string, dataUrl: string): CustomSound {\n  const item: CustomSound = {\n    id: `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n    name,\n    dataUrl,\n  };\n  const list = getCustomSounds();\n  list.push(item);\n  saveAll(list);\n  return item;\n}\n\nexport function removeCustomSound(id: string) {\n  const list = getCustomSounds().filter((s) => s.id !== id);\n  saveAll(list);\n}\n","import React, { useMemo, useRef, useState } from 'react';\nimport { ALARM_SOUNDS } from '../../constants/alarmSounds.ts';\nimport type { AlarmSound } from '../../constants/alarmSounds.ts';\nimport { addCustomSound, getCustomSounds, type CustomSound } from '../../utils/customSounds';\n\ninterface AlarmSoundsProps {\n  selectedSound: string;\n  onSoundChange: (sound: string) => void;\n  className?: string;\n}\n\nexport const AlarmSounds: React.FC<AlarmSoundsProps> = ({\n  selectedSound,\n  onSoundChange,\n  className = ''\n}) => {\n  const fileRef = useRef<HTMLInputElement>(null);\n  const [customList, setCustomList] = useState<CustomSound[]>(() => getCustomSounds());\n\n  const allOptions = useMemo(() => {\n    // map custom sounds to AlarmSound-like objects\n    const mapped: AlarmSound[] = customList.map((c) => ({ name: c.name, url: c.dataUrl, icon: '📁' }));\n    return [...ALARM_SOUNDS, ...mapped];\n  }, [customList]);\n\n  const pickFile = () => fileRef.current?.click();\n\n  const onFile = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const name = file.name.replace(/\\.[^.]+$/, '');\n    const dataUrl = await new Promise<string>((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(String(reader.result));\n      reader.onerror = () => reject(reader.error);\n      reader.readAsDataURL(file);\n    });\n    const saved = addCustomSound(name, dataUrl);\n    const next = getCustomSounds();\n    setCustomList(next);\n    onSoundChange(saved.dataUrl);\n    e.target.value = '';\n  };\n\n  const handleChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {\n    const val = e.target.value;\n    if (val === '__pick__') {\n      // open native picker and keep current selection\n      setTimeout(() => pickFile(), 0);\n      return;\n    }\n    onSoundChange(val);\n  };\n\n  return (\n    <div className={`space-y-2 ${className}`}>\n      <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n        Sonido de Alarma\n      </label>\n      <div className=\"flex items-center gap-2\">\n        <select\n          value={selectedSound || allOptions[0]?.url}\n          onChange={handleChange}\n          className=\"flex-1 p-3 rounded-xl bg-white/10 text-gray-100 border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n        >\n          {allOptions.map((s: AlarmSound) => (\n            <option key={s.url} value={s.url}>{`${s.icon} ${s.name}`}</option>\n          ))}\n          <option value=\"__pick__\">📲 Elegir desde dispositivo…</option>\n        </select>\n  <input ref={fileRef} type=\"file\" accept=\"audio/*\" hidden onChange={onFile} />\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\n\ninterface Particle {\n  x: number;\n  y: number;\n  size: number;\n  speedX: number;\n  speedY: number;\n  opacity: number;\n}\n\ninterface ParticleBackgroundProps {\n  className?: string;\n  count?: number;\n}\n\nexport const ParticleBackground: React.FC<ParticleBackgroundProps> = ({ \n  className = '', \n  count = 50 \n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const particlesRef = useRef<Particle[]>([]);\n  const animationRef = useRef<number>();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas size\n    const resizeCanvas = () => {\n      canvas.width = canvas.offsetWidth;\n      canvas.height = canvas.offsetHeight;\n    };\n\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    // Initialize particles\n    const initParticles = () => {\n      particlesRef.current = [];\n      for (let i = 0; i < count; i++) {\n        particlesRef.current.push({\n          x: Math.random() * canvas.width,\n          y: Math.random() * canvas.height,\n          size: Math.random() * 3 + 1,\n          speedX: (Math.random() - 0.5) * 0.5,\n          speedY: (Math.random() - 0.5) * 0.5,\n          opacity: Math.random() * 0.3 + 0.1,\n        });\n      }\n    };\n\n    initParticles();\n\n    // Animation loop\n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      particlesRef.current.forEach((particle) => {\n        // Update position\n        particle.x += particle.speedX;\n        particle.y += particle.speedY;\n\n        // Wrap around edges\n        if (particle.x > canvas.width) particle.x = 0;\n        if (particle.x < 0) particle.x = canvas.width;\n        if (particle.y > canvas.height) particle.y = 0;\n        if (particle.y < 0) particle.y = canvas.height;\n\n        // Draw particle\n        ctx.beginPath();\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n        ctx.fillStyle = `rgba(255, 255, 255, ${particle.opacity})`;\n        ctx.fill();\n\n        // Add glow effect\n        ctx.shadowBlur = 10;\n        ctx.shadowColor = 'rgba(147, 51, 234, 0.5)';\n        ctx.beginPath();\n        ctx.arc(particle.x, particle.y, particle.size * 0.5, 0, Math.PI * 2);\n        ctx.fillStyle = `rgba(147, 51, 234, ${particle.opacity * 0.5})`;\n        ctx.fill();\n        ctx.shadowBlur = 0;\n      });\n\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    animate();\n\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [count]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`absolute inset-0 pointer-events-none ${className}`}\n      style={{ mixBlendMode: 'screen' }}\n    />\n  );\n};\n","import React, { useMemo, useRef, useState, useEffect } from 'react';\nimport type { ThemeType } from '../../types';\nimport { THEME_EMOJI, THEME_ACCENT_GRADIENT_HEX } from '../../constants';\n\ninterface ThemeSelectProps {\n  value: ThemeType;\n  onChange: (theme: ThemeType) => void;\n  isDarkMode: boolean;\n}\n\nconst THEME_LABELS: Record<ThemeType, string> = {\n  purple: 'Púrpura',\n  ocean: 'Océano',\n  sunset: 'Atardecer',\n  forest: 'Bosque',\n  cosmic: 'Cósmico',\n};\n\nexport const ThemeSelect: React.FC<ThemeSelectProps> = ({ value, onChange, isDarkMode }) => {\n  const [open, setOpen] = useState(false);\n  const ref = useRef<HTMLDivElement>(null);\n\n  // Attach listeners only while the menu is open to avoid interference with the toggle click\n  useEffect(() => {\n    if (!open) return;\n\n    const onDocClick = (e: MouseEvent) => {\n      if (!ref.current) return;\n      if (!ref.current.contains(e.target as Node)) setOpen(false);\n    };\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') setOpen(false);\n    };\n\n    document.addEventListener('mousedown', onDocClick);\n    document.addEventListener('keydown', onKey);\n    return () => {\n      document.removeEventListener('mousedown', onDocClick);\n      document.removeEventListener('keydown', onKey);\n    };\n  }, [open]);\n\n  const gradient = useMemo(() => THEME_ACCENT_GRADIENT_HEX[value], [value]);\n\n  const buttonStyle: React.CSSProperties = {\n    // subtle theme tint + translucent base to match light/dark\n    backgroundImage: `linear-gradient(135deg, ${gradient.start}22, ${gradient.end}1A)`,\n    borderColor: isDarkMode ? 'rgba(255,255,255,0.12)' : `${gradient.start}55`,\n  };\n\n  const listStyle: React.CSSProperties = {\n    backgroundImage: `linear-gradient(135deg, ${gradient.start}29, ${gradient.end}1F)`,\n    borderColor: isDarkMode ? 'rgba(255,255,255,0.12)' : `${gradient.start}55`,\n  };\n\n  return (\n    <div ref={ref} className=\"relative inline-block pointer-events-auto\">\n      <button\n        type=\"button\"\n        className={`h-8 px-3 pr-8 rounded-xl text-sm flex items-center gap-2 border backdrop-blur-lg ${isDarkMode ? 'text-white' : 'text-gray-800'}`}\n        style={buttonStyle}\n        onClick={() => setOpen(o => !o)}\n        aria-haspopup=\"listbox\"\n        aria-expanded={open}\n      >\n        <span className=\"text-lg leading-none\">{THEME_EMOJI[value]}</span>\n        <span className=\"font-medium\">{THEME_LABELS[value]}</span>\n        <span className={`absolute right-2 ${isDarkMode ? 'text-white/80' : 'text-gray-700/80'}`}>▾</span>\n      </button>\n\n      {open && (\n        <div\n          className={`absolute z-[9999] mt-2 w-44 rounded-xl shadow-2xl border overflow-hidden ${isDarkMode ? 'backdrop-blur-xl' : 'backdrop-blur-xl'}`}\n          style={listStyle}\n          role=\"listbox\"\n        >\n          {(Object.keys(THEME_LABELS) as ThemeType[]).map((k) => {\n            const selected = k === value;\n            return (\n              <button\n                key={k}\n                type=\"button\"\n                role=\"option\"\n                aria-selected={selected}\n                onClick={() => { onChange(k); setOpen(false); }}\n                className={`w-full text-left px-3 py-2 flex items-center gap-2 text-sm transition-colors ${\n                  isDarkMode ? 'hover:bg-white/10 text-white' : 'hover:bg-black/10 text-gray-800'\n                } ${selected ? (isDarkMode ? 'bg-white/10' : 'bg-black/10') : ''}`}\n              >\n                <span className=\"text-lg\">{THEME_EMOJI[k]}</span>\n                <span className=\"font-medium\">{THEME_LABELS[k]}</span>\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ThemeSelect;\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\n\ninterface ClockTimePickerProps {\n  value: string; // expects \"HH:MM\" in 24h format\n  onChange: (next: string) => void;\n  isDarkMode: boolean;\n  use12Hour?: boolean; // UI display only; output stays 24h string\n  className?: string;\n  label?: string;\n}\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, n));\n}\n\nfunction parse24(value: string) {\n  const match = /^(\\d{1,2}):(\\d{2})$/.exec(value || '');\n  let h = 8, m = 0;\n  if (match) {\n    h = clamp(parseInt(match[1], 10), 0, 23);\n    m = clamp(parseInt(match[2], 10), 0, 59);\n  } else {\n    const now = new Date();\n    h = now.getHours();\n    m = now.getMinutes();\n  }\n  return { h, m };\n}\n\nfunction to24String(h: number, m: number) {\n  const hh = h.toString().padStart(2, '0');\n  const mm = m.toString().padStart(2, '0');\n  return `${hh}:${mm}`;\n}\n\nfunction toDisplay(h24: number, use12: boolean) {\n  if (!use12) {\n    return { hours: h24, ampm: '' as 'AM' | 'PM' | '' };\n  }\n  const ampm: 'AM' | 'PM' = h24 >= 12 ? 'PM' : 'AM';\n  let h12 = h24 % 12;\n  if (h12 === 0) h12 = 12;\n  return { hours: h12, ampm };\n}\n\nfunction fromDisplay(hours: number, m: number, ampm: 'AM' | 'PM' | '' , use12: boolean) {\n  if (!use12) return to24String(hours, m);\n  let h24 = hours % 12;\n  if (ampm === 'PM') h24 += 12;\n  return to24String(h24, m);\n}\n\nexport const ClockTimePicker: React.FC<ClockTimePickerProps> = ({\n  value,\n  onChange,\n  isDarkMode,\n  use12Hour = true,\n  className = '',\n  label = 'Selecciona una hora',\n}) => {\n  const { h, m } = useMemo(() => parse24(value), [value]);\n  const disp = useMemo(() => toDisplay(h, use12Hour), [h, use12Hour]);\n  const [open, setOpen] = useState(false);\n  const [selHour, setSelHour] = useState(disp.hours);\n  const [selMin, setSelMin] = useState(m);\n  const [selAmpm, setSelAmpm] = useState<'AM' | 'PM' | ''>(disp.ampm);\n  const [mode, setMode] = useState<'hours' | 'minutes'>('hours');\n  const rootRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const d = toDisplay(h, use12Hour);\n    setSelHour(d.hours);\n    setSelMin(m);\n    setSelAmpm(d.ampm);\n  }, [value, use12Hour, h, m]);\n\n  useEffect(() => {\n    const onDocClick = (e: MouseEvent) => {\n      if (!rootRef.current) return;\n      if (!rootRef.current.contains(e.target as Node)) {\n        setOpen(false);\n      }\n    };\n    const onEsc = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') setOpen(false);\n    };\n    document.addEventListener('mousedown', onDocClick);\n    document.addEventListener('keydown', onEsc);\n    return () => {\n      document.removeEventListener('mousedown', onDocClick);\n      document.removeEventListener('keydown', onEsc);\n    };\n  }, []);\n\n  const commit = (hTmp = selHour, mTmp = selMin, aTmp = selAmpm) => {\n    const next = fromDisplay(hTmp, mTmp, aTmp, use12Hour);\n    onChange(next);\n  };\n\n  const ringColor = isDarkMode ? 'bg-white/10' : 'bg-black/10';\n  const textColor = isDarkMode ? 'text-white' : 'text-gray-800';\n  const subText = isDarkMode ? 'text-gray-300' : 'text-gray-700';\n  const border = isDarkMode ? 'border-white/20' : 'border-gray-200';\n\n  const radius = 108; // px (bigger dial, leaves margin for number chips)\n  const center = 130; // container is 260x260\n\n  const hourNumbers = useMemo(() => {\n    const count = use12Hour ? 12 : 24;\n    const arr = Array.from({ length: count }, (_, i) => (use12Hour ? (i + 1) : i));\n    return arr;\n  }, [use12Hour]);\n\n  const minuteNumbers = useMemo(() => Array.from({ length: 12 }, (_, i) => i * 5), []);\n\n  const angleForHour = (hr: number) => {\n    const base = use12Hour ? (hr % 12) : hr; // 0..11 or 0..23\n    const steps = use12Hour ? 12 : 24;\n    return (base / steps) * 360 - 90; // start at top\n  };\n  const angleForMinute = (mm: number) => (mm / 60) * 360 - 90;\n\n  const renderDial = () => {\n    const isHours = mode === 'hours';\n    const items = isHours ? hourNumbers : minuteNumbers;\n    const selected = isHours ? selHour : selMin;\n    const angle = isHours ? angleForHour(use12Hour ? selHour % 12 : selHour) : angleForMinute(selMin);\n\n    return (\n  <div className={`relative w-[260px] h-[260px] rounded-full ${ringColor} border ${border} mx-auto select-none`}>\n        {/* Pointer */}\n        <div\n          className=\"absolute left-1/2 top-1/2 origin-center\"\n          style={{\n            transform: `translate(-50%, -50%) rotate(${angle}deg)`,\n          }}\n        >\n          {(() => {\n            const pointerLen = radius; // end dot center exactly at ring radius\n            const dotSize = 10; // px diameter\n            return (\n              <>\n                <div\n                  className={`${isDarkMode ? 'bg-white/70' : 'bg-gray-700/70'} absolute`}\n                  style={{\n                    width: `${pointerLen}px`,\n                    height: '2px',\n                    left: 0,\n                    top: '50%',\n                    transform: 'translateY(-50%)',\n                  }}\n                />\n                <div\n                  className={`${isDarkMode ? 'bg-white' : 'bg-gray-800'} absolute rounded-full`}\n                  style={{\n                    width: `${dotSize}px`,\n                    height: `${dotSize}px`,\n                    left: `${pointerLen}px`,\n                    top: '50%',\n                    transform: 'translate(-50%, -50%)',\n                  }}\n                />\n              </>\n            );\n          })()}\n        </div>\n        {/* Numbers */}\n        {items.map((val, idx) => {\n          const steps = isHours ? (use12Hour ? 12 : 24) : 12; // 12 positions for minutes (0..55)\n          const angleDeg = (idx / steps) * 360 - 90;\n          const rad = (angleDeg * Math.PI) / 180;\n          const x = center + radius * Math.cos(rad);\n          const y = center + radius * Math.sin(rad);\n          const isSel = selected === val || (!use12Hour && isHours && selected === val);\n          // Different look for minutes vs hours: minutes show small text labels\n          const basePos = 'absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center transition';\n          const hourBtn = `${basePos} w-10 h-10 rounded-full text-sm font-semibold ${isSel ? 'bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg' : ringColor + ' ' + textColor}`;\n          const minuteBtn = isSel\n            ? `${basePos} w-12 h-12 rounded-full font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg`\n            : `${basePos} w-8 h-8 bg-transparent ${isDarkMode ? 'text-gray-300' : 'text-gray-700'} text-xs`;\n          return (\n            <button\n              type=\"button\"\n              key={`${mode}-${val}`}\n              onClick={() => {\n                if (isHours) {\n                  setSelHour(val);\n                  setMode('minutes');\n                } else {\n                  setSelMin(val);\n                }\n              }}\n              className={isHours ? hourBtn : minuteBtn}\n              style={{ left: x, top: y }}\n            >\n              {isHours ? (use12Hour ? val : val.toString().padStart(2, '0')) : val.toString().padStart(2, '0')}\n            </button>\n          );\n        })}\n      </div>\n    );\n  };\n\n  return (\n    <div ref={rootRef} className={`w-full ${className}`}>\n      {label && (\n        <label className={`block text-sm font-medium mb-2 ${subText}`}>\n          {label}\n        </label>\n      )}\n      <button\n        type=\"button\"\n        onClick={() => { setMode('hours'); setOpen((o) => !o); }}\n        className={`w-full flex items-center justify-between px-4 py-3 rounded-xl border ${border} ${isDarkMode ? 'bg-white/10' : 'bg-white/80'} backdrop-blur-lg hover:shadow-lg transition-all`}\n        aria-haspopup=\"dialog\"\n        aria-expanded={open}\n      >\n        <div className={`flex items-center gap-3 ${textColor}`}>\n          <span className=\"text-xl\">⏰</span>\n          <span className=\"font-mono text-lg font-bold tracking-wider\">\n            {to24String(h, m)}\n          </span>\n          {use12Hour && (\n            <span className={`px-2 py-1 rounded-lg text-xs ${isDarkMode ? 'bg-white/10 text-white' : 'bg-black/10 text-gray-800'}`}>{disp.ampm}</span>\n          )}\n        </div>\n        <span className=\"opacity-70\">▾</span>\n      </button>\n\n      {open && (\n        <div className={`mt-2 p-4 rounded-2xl border ${border} ${isDarkMode ? 'bg-white/10' : 'bg-white/80'} backdrop-blur-xl shadow-2xl z-50 relative`}> \n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-baseline gap-2\">\n              <button type=\"button\" className={`font-mono text-4xl font-bold ${textColor} ${mode==='hours' ? '' : 'opacity-70'}`} onClick={() => setMode('hours')}>\n                {use12Hour ? (selHour.toString().padStart(2,'0')) : selHour.toString().padStart(2,'0')}\n              </button>\n              <span className={`font-mono text-4xl font-bold ${textColor}`}>:</span>\n              <button type=\"button\" className={`font-mono text-4xl font-bold ${textColor} ${mode==='minutes' ? '' : 'opacity-70'}`} onClick={() => setMode('minutes')}>\n                {selMin.toString().padStart(2,'0')}\n              </button>\n            </div>\n            {use12Hour && (\n              <div className=\"flex flex-col gap-1\">\n                <button type=\"button\" className={`px-2 py-1 rounded ${selAmpm==='AM' ? 'bg-purple-600 text-white' : ringColor + ' ' + textColor}`} onClick={() => setSelAmpm('AM')}>a.m.</button>\n                <button type=\"button\" className={`px-2 py-1 rounded ${selAmpm==='PM' ? 'bg-purple-600 text-white' : ringColor + ' ' + textColor}`} onClick={() => setSelAmpm('PM')}>p.m.</button>\n              </div>\n            )}\n          </div>\n\n          {renderDial()}\n\n          {/* Footer */}\n          <div className=\"mt-4 flex items-center justify-center gap-3\">\n            <button type=\"button\" className={`px-3 py-2 rounded-lg ${ringColor} ${textColor} hover:opacity-90`} onClick={() => setOpen(false)}>\n              Cancelar\n            </button>\n            <button type=\"button\" className={`px-3 py-2 rounded-lg ${ringColor} ${textColor} hover:opacity-90`} onClick={() => setMode(mode === 'hours' ? 'minutes' : 'hours')}>\n              {mode === 'hours' ? 'Minutos' : 'Horas'}\n            </button>\n            <button\n              type=\"button\"\n              className=\"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:opacity-95\"\n              onClick={() => { commit(); setOpen(false); }}\n            >\n              Aceptar\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClockTimePicker;\n","import React from 'react';\n\ninterface TimeFormatToggleProps {\n  is24Hour: boolean;\n  onToggle: () => void;\n  isDarkMode?: boolean;\n  accentHex?: string; // theme accent as hex for background tint\n  className?: string;\n}\n\nexport const TimeFormatToggle: React.FC<TimeFormatToggleProps> = ({\n  is24Hour,\n  onToggle,\n  isDarkMode = true,\n  accentHex,\n  className = '',\n}) => {\n  const trackBg = isDarkMode ? 'bg-white/10' : 'bg-black/10';\n  const borderClr = isDarkMode ? 'border-white/20' : 'border-black/10';\n  const textClr = isDarkMode ? 'text-white' : 'text-gray-800';\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onToggle}\n      aria-pressed={is24Hour}\n      aria-label=\"Cambiar formato horario\"\n      className={`relative inline-flex items-center justify-between ${trackBg} ${borderClr} ${textClr} rounded-full h-9 w-28 px-3 select-none border overflow-hidden ${className}`}\n    >\n      {/* Sliding oval highlight behind the text */}\n      <div\n        className={`absolute top-1 bottom-1 w-[52%] rounded-full transition-all duration-200`}\n        style={{\n          left: is24Hour ? 4 : undefined,\n          right: is24Hour ? undefined : 4,\n          background: accentHex\n            ? `linear-gradient(135deg, ${accentHex}33, ${accentHex}55)`\n            : (isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)'),\n          boxShadow: isDarkMode ? 'inset 0 0 0 1px rgba(255,255,255,0.15)' : 'inset 0 0 0 1px rgba(0,0,0,0.08)'\n        }}\n      />\n      <span className=\"text-sm font-semibold z-10\">24h</span>\n      <span className=\"text-sm font-semibold z-10\">12h</span>\n    </button>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Modal, Button } from '../ui';\n\ninterface WelcomeModalProps {\n  isDarkMode: boolean;\n  onInstall: () => void;\n  onDismiss: () => void;\n}\n\nconst getPath = (path: string): string => {\n  const base = '/AlarmaPro/';\n  return `${base}${path}`;\n};\n\nexport const WelcomeModal: React.FC<WelcomeModalProps> = ({\n  isDarkMode,\n  onInstall,\n  onDismiss\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  // Check if the user is visiting for the first time\n  useEffect(() => {\n    const hasVisited = localStorage.getItem('alarmapro_welcomed');\n    if (!hasVisited) {\n      setIsOpen(true);\n    }\n  }, []);\n\n  const handleDismiss = () => {\n    localStorage.setItem('alarmapro_welcomed', 'true');\n    setIsOpen(false);\n    onDismiss();\n  };\n\n  const handleInstall = () => {\n    localStorage.setItem('alarmapro_welcomed', 'true');\n    setIsOpen(false);\n    onInstall();\n  };\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={handleDismiss}\n      title=\"¡Bienvenido a AlarmaPro!\"\n      maxWidthClass=\"max-w-sm\"\n    >\n      <div className=\"text-center px-1\">\n        <div className=\"flex justify-center mb-4\">\n          <div className=\"relative\">\n            <img \n              src={getPath('clock1.png')} \n              alt=\"AlarmaPro Logo\" \n              className=\"w-24 h-24 object-contain filter drop-shadow-lg animate-pulse\" \n            />\n            <div className=\"absolute -inset-1 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 opacity-30 blur-xl animate-pulse\"></div>\n          </div>\n        </div>\n\n        <h2 className=\"text-xl font-bold text-white mb-3\">\n          Tu sistema de alarmas inteligente\n        </h2>\n\n        <p className=\"text-gray-200 mb-4 text-sm\">\n          Gracias por usar AlarmaPro, la aplicación que te ayuda a organizar tu tiempo con estilo.\n          Nunca fue tan fácil configurar alarmas personalizadas.\n        </p>\n\n        <div className=\"flex flex-col gap-2 justify-center mb-2\">\n          <Button\n            variant=\"secondary\"\n            onClick={handleDismiss}\n            className=\"w-full py-2\"\n            isDarkMode={isDarkMode}\n          >\n            Continuar a la app\n          </Button>\n          \n          <Button\n            variant=\"primary\"\n            onClick={handleInstall}\n            className=\"w-full py-2\"\n            isDarkMode={isDarkMode}\n          >\n            Instalar aplicación\n          </Button>\n        </div>\n\n        <p className=\"mt-3 text-xs text-gray-400\">\n          Puedes instalar la aplicación en cualquier momento desde el menú del navegador\n        </p>\n        \n        <p className=\"mt-2 text-2xs text-gray-500 pt-1 border-t border-gray-700\">\n          Diseñado por Axon.app y IA\n        </p>\n      </div>\n    </Modal>\n  );\n};\n","import React from 'react';\nimport { Alarm, ThemeType } from '../../types';\nimport { formatAlarmTime, getPriorityColor, getPriorityLabel } from '../../utils';\nimport { ALARM_SOUNDS, WEEK_DAYS } from '../../constants';\nimport { Card, Button } from '../ui';\n// Icons would be imported here: import { Settings, Play, Pause, Trash2, Volume2 } from 'lucide-react';\n\ninterface AlarmItemProps {\n  alarm: Alarm;\n  isDarkMode: boolean;\n  is24HourFormat: boolean;\n  theme: {\n    accent: string;\n  };\n  themeType: ThemeType;\n  onEdit: (alarm: Alarm) => void;\n  onToggle: (id: number) => void;\n  onDelete: (id: number) => void;\n}\n\nexport const AlarmItem: React.FC<AlarmItemProps> = ({\n  alarm,\n  isDarkMode,\n  is24HourFormat,\n  themeType,\n  onEdit,\n  onToggle,\n  onDelete\n}) => {\n  return (\n    <Card \n      className=\"group p-4 sm:p-6 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-2xl\"\n      isDarkMode={isDarkMode}\n    >\n      <div className=\"flex items-start sm:items-center justify-between gap-3 sm:gap-4\">\n        <div className=\"flex-1\">\n          <div className=\"flex items-baseline gap-3 sm:gap-4 mb-2 flex-wrap\">\n            <div className={`text-3xl sm:text-4xl font-mono font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'} tracking-wide`}>\n              {formatAlarmTime(alarm.time, is24HourFormat)}\n            </div>\n            \n            <div className={`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${getPriorityColor(alarm.priority, isDarkMode)} text-white shadow-lg`}>\n              {getPriorityLabel(alarm.priority)}\n            </div>\n          </div>\n          \n          <div className={`text-lg sm:text-xl font-semibold mb-2 sm:mb-3 ${isDarkMode ? 'text-gray-200' : 'text-gray-700'}`}>\n            {alarm.label}\n          </div>\n          \n          <div className=\"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm flex-wrap\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xl\">🔊</span>\n              <span className={`${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                {ALARM_SOUNDS[alarm.sound]?.name}\n              </span>\n            </div>\n            \n            {alarm.vibrate && (\n              <span className={`px-2 py-1 rounded-md text-xs ${isDarkMode ? 'bg-blue-600/30 text-blue-300' : 'bg-blue-200 text-blue-800'}`}>\n                📳 Vibrar\n              </span>\n            )}\n            \n            {alarm.gradualWake && (\n              <span className={`px-2 py-1 rounded-md text-xs ${isDarkMode ? 'bg-orange-600/30 text-orange-300' : 'bg-orange-200 text-orange-800'}`}>\n                🌅 Gradual\n              </span>\n            )}\n            \n            {alarm.challengeMode && (\n              <span className={`px-2 py-1 rounded-md text-xs ${isDarkMode ? 'bg-red-600/30 text-red-300' : 'bg-red-200 text-red-800'}`}>\n                🧩 Desafío\n              </span>\n            )}\n          </div>\n          \n          {alarm.days.length > 0 && (\n            <div className=\"flex gap-1.5 sm:gap-2 mt-2 sm:mt-3 flex-wrap\">\n              {alarm.days.map(day => (\n                <span\n                  key={day}\n                  className={`px-2.5 py-1 rounded-lg text-xs font-bold ${isDarkMode ? 'bg-purple-600/30 text-purple-300' : 'bg-purple-600/20 text-purple-800'} shadow-sm`}\n                >\n                  {WEEK_DAYS[day]}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-1.5 sm:gap-2 self-start sm:self-center\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => onEdit(alarm)}\n            className=\"p-3 sm:p-4 hover:scale-110\"\n            title=\"Editar alarma\"\n            isDarkMode={isDarkMode}\n            themeType={themeType}\n          >\n            {/* <Settings className=\"w-5 h-5 group-hover:rotate-90 transition-transform duration-300\" /> */}\n            ⚙️\n          </Button>\n          \n          <Button\n            variant={alarm.enabled ? \"primary\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => onToggle(alarm.id)}\n            className=\"p-3 sm:p-4 hover:scale-110\"\n            title={alarm.enabled ? 'Desactivar' : 'Activar'}\n            isDarkMode={isDarkMode}\n            themeType={themeType}\n          >\n            {alarm.enabled ? '⏸️' : '▶️'}\n          </Button>\n          \n          <Button\n            variant=\"danger\"\n            size=\"sm\"\n            onClick={() => onDelete(alarm.id)}\n            className=\"p-3 sm:p-4 hover:scale-110\"\n            title=\"Eliminar alarma\"\n            isDarkMode={isDarkMode}\n            themeType={themeType}\n          >\n            🗑️\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n","import React, { useMemo, useState } from 'react';\nimport { Alarm, ThemeType } from '../../types';\nimport { WEEK_DAYS, DEFAULT_ALARM } from '../../constants';\nimport { validateAlarmForm } from '../../utils';\nimport { Card, Button, Input } from '../ui';\nimport { ClockTimePicker, AlarmSounds } from '../common';\n\ninterface AlarmFormProps {\n  alarm?: Alarm;\n  isDarkMode: boolean;\n  theme: {\n    accent: string;\n  };\n  themeType: ThemeType;\n  onSave: (alarm: Omit<Alarm, 'id'>) => void;\n  onCancel: () => void;\n  alarmVolume: number;\n  onVolumeChange: (volume: number) => void;\n  is24HourFormat?: boolean;\n}\n\nexport const AlarmForm: React.FC<AlarmFormProps> = ({\n  alarm,\n  isDarkMode,\n  theme,\n  themeType,\n  onSave,\n  onCancel,\n  alarmVolume,\n  onVolumeChange,\n  is24HourFormat = true\n}) => {\n  const accentHex = useMemo(() => {\n    switch (theme.accent) {\n      case 'purple-600': return '#9333EA';\n      case 'blue-600': return '#2563EB';\n      case 'orange-600': return '#EA580C';\n      case 'green-600': return '#16A34A';\n      case 'violet-600': return '#7C3AED';\n      default: return '#9333EA';\n    }\n  }, [theme.accent]);\n  const [formData, setFormData] = useState<Omit<Alarm, 'id'>>(\n    alarm ? {\n      time: alarm.time,\n      label: alarm.label,\n      days: [...alarm.days],\n      sound: alarm.sound,\n      enabled: alarm.enabled,\n      priority: alarm.priority,\n      vibrate: alarm.vibrate,\n      gradualWake: alarm.gradualWake,\n      challengeMode: alarm.challengeMode\n    } : { ...DEFAULT_ALARM }\n  );\n\n  const [errors, setErrors] = useState<string[]>([]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const validationErrors = validateAlarmForm(formData);\n    if (validationErrors.length > 0) {\n      setErrors(validationErrors);\n      return;\n    }\n    \n    setErrors([]);\n    onSave(formData);\n  };\n\n  const updateField = <K extends keyof typeof formData>(\n    field: K,\n    value: typeof formData[K]\n  ) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const toggleDay = (day: number) => {\n    const days = formData.days.includes(day)\n      ? formData.days.filter(d => d !== day)\n      : [...formData.days, day];\n    updateField('days', days);\n  };\n\n  return (\n    <Card \n      className=\"max-w-lg mx-auto p-5 sm:p-8\"\n      isDarkMode={isDarkMode}\n    >\n      <h3 className={`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${isDarkMode ? 'text-white' : 'text-gray-800'} text-center`}>\n        {alarm ? '✏️ Editar Alarma' : '✨ Crear Nueva Alarma'}\n      </h3>\n      \n      <form onSubmit={handleSubmit} className=\"space-y-4 sm:space-y-6\">\n        {/* Errors */}\n        {errors.length > 0 && (\n          <div className=\"p-4 bg-red-500/20 border border-red-500/50 rounded-xl\">\n            {errors.map((error, index) => (\n              <p key={index} className=\"text-red-400 text-sm\">{error}</p>\n            ))}\n          </div>\n        )}\n\n        <div>\n          <ClockTimePicker\n            label=\"⏰ Hora\"\n            value={formData.time}\n            onChange={(val) => updateField('time', val)}\n            isDarkMode={isDarkMode}\n            use12Hour={!is24HourFormat}\n          />\n        </div>\n\n        <Input\n          type=\"text\"\n          label=\"🏷️ Etiqueta\"\n          placeholder=\"Ej: Reunión importante, Ejercicio, Medicamento...\"\n          value={formData.label}\n          onChange={(e) => updateField('label', e.target.value)}\n          className={`${isDarkMode ? 'bg-white/10 text-white border-white/20 placeholder-gray-400' : 'bg-white/70 text-gray-800 border-gray-300 placeholder-gray-500'}`}\n        />\n\n        {/* Days of the week */}\n        <div>\n          <label className={`block text-sm font-medium mb-3 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n            📅 Días de la semana\n          </label>\n          <div className=\"grid grid-cols-7 gap-1.5 sm:gap-2\">\n            {WEEK_DAYS.map((day, index) => (\n              <button\n                key={day}\n                type=\"button\"\n                onClick={() => toggleDay(index)}\n                className={`flex items-center justify-center h-10 sm:h-11 px-3 rounded-xl text-sm leading-none font-bold transition-all duration-300 ${\n                  formData.days.includes(index)\n                    ? `bg-gradient-to-r from-${theme.accent} to-purple-600 text-white shadow-xl`\n                    : isDarkMode\n                      ? 'bg-white/10 text-gray-300 hover:bg-white/20'\n                      : 'bg-white/50 text-gray-700 hover:bg-white/70'\n                }`}\n              >\n                {day}\n              </button>\n            ))}\n          </div>\n        </div>\n\n  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div className=\"sm:col-span-1\">\n            <AlarmSounds\n              selectedSound={typeof formData.sound === 'string' ? formData.sound : ''}\n              onSoundChange={(url) => updateField('sound', url)}\n              className=\"\"\n            />\n          </div>\n\n          <div className=\"sm:col-span-1\">\n            <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n              🔊 Volumen\n            </label>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={alarmVolume}\n              onChange={(e) => onVolumeChange(Number(e.target.value))}\n              className={`w-full h-3 rounded-full appearance-none cursor-pointer outline-none`}\n              style={{\n                background: `linear-gradient(to right, ${accentHex} ${alarmVolume}%, ${isDarkMode ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.15)'} ${alarmVolume}%)`,\n                accentColor: accentHex as any,\n                color: accentHex\n              }}\n            />\n          </div>\n        </div>\n\n        {/* Advanced options */}\n  <div className=\"space-y-3\">\n          <h4 className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n            ⚙️ Opciones Avanzadas\n          </h4>\n          \n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\n            {[\n              { key: 'vibrate', label: '📳 Vibrar' },\n              { key: 'gradualWake', label: '🌅 Despertar Gradual' },\n              { key: 'challengeMode', label: '🧩 Modo Desafío' }\n            ].map((option) => (\n              <label key={option.key} className=\"flex items-center gap-3 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData[option.key as keyof typeof formData] as boolean}\n                  onChange={(e) => updateField(option.key as keyof typeof formData, e.target.checked as any)}\n                  className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\n                />\n                <span className={`${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                  {option.label}\n                </span>\n              </label>\n            ))}\n          </div>\n        </div>\n\n    <div className=\"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6\">\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n      className=\"flex-1 py-3 sm:py-4 text-base sm:text-lg\"\n            isDarkMode={isDarkMode}\n            themeType={themeType}\n          >\n            {alarm ? '✅ Actualizar' : '💾 Guardar'}\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"secondary\"\n            onClick={onCancel}\n      className=\"flex-1 py-3 sm:py-4 text-base sm:text-lg\"\n            isDarkMode={isDarkMode}\n            themeType={themeType}\n          >\n            ❌ Cancelar\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n","import React from 'react';\nimport { Alarm, ThemeType } from '../../types';\nimport { AlarmItem } from './AlarmItem';\n// Import { Clock, Sparkles } from 'lucide-react';\n\ninterface AlarmListProps {\n  alarms: Alarm[];\n  isDarkMode: boolean;\n  is24HourFormat: boolean;\n  theme: {\n    accent: string;\n  };\n  themeType: ThemeType;\n  onEdit: (alarm: Alarm) => void;\n  onToggle: (id: number) => void;\n  onDelete: (id: number) => void;\n}\n\nexport const AlarmList: React.FC<AlarmListProps> = ({\n  alarms,\n  isDarkMode,\n  is24HourFormat,\n  theme,\n  themeType,\n  onEdit,\n  onToggle,\n  onDelete\n}) => {\n  if (alarms.length === 0) {\n    return (\n      <div className={`text-center py-10 sm:py-16 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n        <div className=\"relative\">\n          {/* <Clock className=\"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse\" /> */}\n          <div className=\"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse text-6xl\">⏰</div>\n          {/* <Sparkles className=\"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping\" /> */}\n          <div className=\"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping text-2xl\">✨</div>\n        </div>\n  <p className=\"text-xl sm:text-2xl font-semibold mb-2\">No hay alarmas configuradas</p>\n  <p className=\"text-base sm:text-lg mb-2\">¡Crea tu primera alarma inteligente!</p>\n  <p className=\"text-sm text-gray-400\">Usa los botones de arriba para empezar.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-3 sm:space-y-4 px-1 sm:px-0\">\n      {alarms.map((alarm) => (\n        <AlarmItem\n          key={alarm.id}\n          alarm={alarm}\n          isDarkMode={isDarkMode}\n          is24HourFormat={is24HourFormat}\n          theme={theme}\n          themeType={themeType}\n          onEdit={onEdit}\n          onToggle={onToggle}\n          onDelete={onDelete}\n        />\n      ))}\n    </div>\n  );\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Alarm } from '../types';\nimport { useAlarmManager, useCurrentTime, useSettings, useSnooze, useDeviceStatus } from '../hooks';\nimport { THEMES, THEME_ACCENT_HEX, QUICK_ALARMS, SNOOZE_DURATION, MAX_SNOOZE_COUNT } from '../constants';\nimport { createQuickAlarm, createSnoozeAlarm } from '../utils';\n\n// Función para obtener la ruta completa de recursos estáticos\nconst getPath = (path: string): string => {\n  const base = '/AlarmaPro/';\n  return `${base}${path}`;\n};\nimport { DigitalClock, ParticleBackground, TimeFormatToggle, ThemeSelect, WelcomeModal } from './common';\nimport { ALARM_SOUNDS as SOUND_LIST } from '../constants/alarmSounds';\nimport { AlarmList, AlarmForm } from './alarm';\nimport { Card, Button, Modal } from './ui';\n\nconst ModernAlarmSystem: React.FC = () => {\n  const currentTime = useCurrentTime();\n  const { settings, toggleDarkMode, toggleTimeFormat, toggleVoice, setTheme, setVolume } = useSettings();\n  const { alarms, activeAlarm, addAlarm, updateAlarm, deleteAlarm, toggleAlarm, dismissAlarm } = useAlarmManager();\n  const { isSnoozing, snoozeCount, canSnooze, snooze, resetSnooze } = useSnooze(MAX_SNOOZE_COUNT);\n  const device = useDeviceStatus();\n\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [showQuickAlarms, setShowQuickAlarms] = useState(false);\n  const [editingAlarm, setEditingAlarm] = useState<Alarm | null>(null);\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);\n  \n  // Logo estático (sin efecto 3D)\n\n  const currentTheme = THEMES[settings.theme];\n\n  const handleAddQuickAlarm = (minutes: number) => {\n    const alarmData = createQuickAlarm(minutes);\n    addAlarm(alarmData);\n    setShowQuickAlarms(false);\n  };\n\n  const handleSnoozeAlarm = () => {\n    if (activeAlarm && canSnooze) {\n      const snoozeData = createSnoozeAlarm(activeAlarm, snoozeCount, SNOOZE_DURATION);\n      addAlarm(snoozeData);\n      snooze();\n      dismissAlarm();\n    }\n  };\n\n  const handleSaveAlarm = (alarmData: Omit<Alarm, 'id'>) => {\n    if (editingAlarm) {\n      updateAlarm(editingAlarm.id, alarmData);\n    } else {\n      addAlarm(alarmData);\n    }\n    setEditingAlarm(null);\n    setShowAddForm(false);\n  };\n\n  const handleEditAlarm = (alarm: Alarm) => {\n    setEditingAlarm(alarm);\n    setShowAddForm(true);\n  };\n\n  const handleCancelForm = () => {\n    setEditingAlarm(null);\n    setShowAddForm(false);\n  };\n\n  // Capture the install prompt\n  useEffect(() => {\n    const handleBeforeInstallPrompt = (e: any) => {\n      // Prevent Chrome 67 and earlier from automatically showing the prompt\n      e.preventDefault();\n      // Stash the event so it can be triggered later\n      setDeferredPrompt(e);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    };\n  }, []);\n\n  const handleInstallApp = () => {\n    if (!deferredPrompt) {\n      // Show fallback instructions if prompt not available\n      alert(\"Para instalar la aplicación: \\n1. Abre el menú del navegador (los tres puntos)\\n2. Selecciona 'Instalar aplicación' o 'Añadir a pantalla de inicio'\");\n      return;\n    }\n\n    // Show the install prompt\n    deferredPrompt.prompt();\n    \n    // Wait for the user to respond to the prompt\n    deferredPrompt.userChoice.then((choiceResult: any) => {\n      if (choiceResult.outcome === 'accepted') {\n        console.log('Usuario aceptó la instalación');\n      } else {\n        console.log('Usuario rechazó la instalación');\n      }\n      // Clear the saved prompt since it can't be used again\n      setDeferredPrompt(null);\n    });\n  };\n\n  // Reproducir sonido de alarma según selección\n  useEffect(() => {\n    const el = audioRef.current;\n    if (!el) return;\n\n    const getSoundUrl = (soundValue: string | undefined): string => {\n      if (!soundValue) return SOUND_LIST[0]?.url || '';\n      // Si ya es una ruta/url a un mp3 dentro de la app\n      if (/(\\.mp3|^\\/|^https?:)/i.test(soundValue)) return soundValue;\n      // Compat: claves antiguas -> usa primera opción como fallback\n      return SOUND_LIST[0]?.url || '';\n    };\n\n    if (activeAlarm) {\n      const url = getSoundUrl(activeAlarm.sound);\n      if (url) {\n        try {\n          el.pause();\n          // Asignar src directo para asegurar carga del archivo\n          el.src = url;\n          el.loop = true;\n          el.volume = Math.max(0, Math.min(1, (settings.alarmVolume ?? 100) / 100));\n          // Forzar inicio desde el principio\n          el.currentTime = 0;\n          void el.play().catch(() => {/* ignorar bloqueo de autoplay si ocurre */});\n        } catch {}\n      }\n    } else {\n      el.pause();\n    }\n  }, [activeAlarm, settings.alarmVolume]);\n  \n  // Se elimina efecto 3D del logo\n\n  return (\n    <div className={`min-h-screen transition-all duration-1000 ${\n      settings.isDarkMode \n        ? `bg-gradient-to-br ${currentTheme.from} via-gray-900 ${currentTheme.to}` \n        : `bg-gradient-to-br ${currentTheme.light} via-white to-gray-50`\n    }`}>\n      {/* Enhanced Particle Background */}\n      <ParticleBackground count={60} className=\"opacity-40\" />\n\n      {/* Dynamic background waves with glassmorphism */}\n      <div className=\"absolute inset-0 overflow-hidden opacity-30\">\n        <div className=\"absolute -inset-10\">\n          <div className={`absolute top-0 -left-4 w-96 h-96 bg-gradient-to-r ${currentTheme.from.includes('purple') ? 'from-purple-400' : currentTheme.from.includes('blue') ? 'from-blue-400' : currentTheme.from.includes('orange') ? 'from-orange-400' : currentTheme.from.includes('green') ? 'from-green-400' : 'from-violet-400'} to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse transform rotate-45`}></div>\n          <div className=\"absolute top-0 -right-4 w-96 h-96 bg-gradient-to-l from-yellow-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-2000 transform -rotate-45\"></div>\n          <div className=\"absolute -bottom-8 left-20 w-96 h-96 bg-gradient-to-t from-pink-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-4000\"></div>\n        </div>\n      </div>\n\n      <div className=\"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8 pb-16 sm:pb-20\">\n        {/* Header with controls */}\n        <div className=\"text-center mb-6 sm:mb-8\">\n          <div className=\"flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6 flex-wrap\">\n            <div\n              className={`p-2 sm:p-3 rounded-2xl bg-gradient-to-r from-${currentTheme.accent} to-purple-600 backdrop-blur-lg shadow-xl`}\n            >\n              <img\n                src={getPath('clockT.png')}\n                alt=\"AlarmaPro Logo\"\n                className=\"w-8 h-8 sm:w-9 sm:h-9\"\n              />\n            </div>\n            <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-white\">\n              AlarmaPro\n            </h1>\n          </div>\n\n          {/* Control panel */}\n          <div className=\"flex items-center justify-center gap-2 sm:gap-3 mb-5 sm:mb-6 overflow-x-auto px-1 py-1\" style={{ overflow: 'visible' }}>\n            <TimeFormatToggle\n              is24Hour={settings.is24HourFormat}\n              onToggle={toggleTimeFormat}\n              isDarkMode={settings.isDarkMode}\n              accentHex={THEME_ACCENT_HEX[settings.theme]}\n            />\n            <Button\n              variant={settings.voiceEnabled ? \"primary\" : \"ghost\"}\n              size=\"sm\"\n              onClick={toggleVoice}\n              title=\"Voz habilitada\"\n              className=\"h-9 w-10 p-0 flex items-center justify-center\"\n              isDarkMode={settings.isDarkMode}\n            >🔊</Button>\n\n            <ThemeSelect value={settings.theme} onChange={(t) => setTheme(t)} isDarkMode={settings.isDarkMode} />\n\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={toggleDarkMode}\n              className=\"h-9 w-10 p-0 flex items-center justify-center\"\n              isDarkMode={settings.isDarkMode}\n            >{settings.isDarkMode ? '☀️' : '🌙'}</Button>\n          </div>\n\n          {/* Digital Clock */}\n          <DigitalClock\n            currentTime={currentTime}\n            is24HourFormat={settings.is24HourFormat}\n            isDarkMode={settings.isDarkMode}\n            voiceEnabled={settings.voiceEnabled}\n            theme={currentTheme}\n            themeType={settings.theme}\n          />\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"w-full max-w-xl mx-auto mb-6 sm:mb-8\">\n          <div className=\"flex gap-3 sm:gap-4 overflow-x-auto no-scrollbar whitespace-nowrap\">\n            <Button\n              variant=\"primary\"\n              onClick={() => setShowAddForm(!showAddForm)}\n              className=\"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg\"\n              isDarkMode={settings.isDarkMode}\n            >\n              ➕ {editingAlarm ? 'Editar Alarma' : 'Nueva Alarma'}\n            </Button>\n\n            <Button\n              variant=\"secondary\"\n              onClick={() => setShowQuickAlarms(!showQuickAlarms)}\n              className=\"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg\"\n              isDarkMode={settings.isDarkMode}\n            >\n              ⚡ Alarmas Rápidas\n            </Button>\n          </div>\n        </div>\n\n        {/* Quick alarms */}\n        <Modal open={showQuickAlarms} onClose={() => setShowQuickAlarms(false)} title=\"⚡ Alarmas Rápidas\" maxWidthClass=\"max-w-2xl\">\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3\">\n            {QUICK_ALARMS.map((quick) => (\n              <button\n                key={quick.minutes}\n                onClick={() => handleAddQuickAlarm(quick.minutes)}\n                className={`group p-3 sm:p-4 rounded-2xl ${settings.isDarkMode ? 'bg-white/10 hover:bg-white/20' : 'bg-white/50 hover:bg-white/70'} backdrop-blur-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl hover-glow`}\n              >\n                <div className={`w-7 h-7 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 ${settings.isDarkMode ? 'text-white' : 'text-gray-800'} group-hover:animate-bounce text-xl sm:text-2xl`}>\n                  {quick.icon}\n                </div>\n                <div className={`text-xs sm:text-sm font-semibold ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                  {quick.label}\n                </div>\n              </button>\n            ))}\n          </div>\n        </Modal>\n\n        {/* Alarm form */}\n        <Modal open={showAddForm} onClose={handleCancelForm} title={editingAlarm ? '✏️ Editar Alarma' : '✨ Nueva Alarma'} maxWidthClass=\"max-w-xl\">\n          <AlarmForm\n            alarm={editingAlarm || undefined}\n            isDarkMode={settings.isDarkMode}\n            theme={currentTheme}\n            themeType={settings.theme}\n            onSave={handleSaveAlarm}\n            onCancel={handleCancelForm}\n            alarmVolume={settings.alarmVolume}\n            onVolumeChange={setVolume}\n            is24HourFormat={settings.is24HourFormat}\n          />\n        </Modal>\n\n        {/* Alarm list */}\n        <AlarmList\n          alarms={alarms}\n          isDarkMode={settings.isDarkMode}\n          is24HourFormat={settings.is24HourFormat}\n          theme={currentTheme}\n          themeType={settings.theme}\n          onEdit={handleEditAlarm}\n          onToggle={toggleAlarm}\n          onDelete={deleteAlarm}\n        />\n      </div>\n\n      {/* Active alarm modal */}\n      {activeAlarm && (\n        <div className=\"fixed inset-0 bg-black/90 backdrop-blur-lg flex items-center justify-center z-50\">\n          <Card className=\"relative p-12 text-center max-w-lg mx-4\" isDarkMode={settings.isDarkMode}>\n            {/* Visual effects */}\n            <div className=\"absolute inset-0 rounded-3xl overflow-hidden\">\n              <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-20\"></div>\n              <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent\"></div>\n            </div>\n            \n            <div className=\"relative z-10\">\n              <div className=\"mb-8\">\n                <div className=\"relative\">\n                  <div className=\"w-20 h-20 mx-auto text-yellow-400 drop-shadow-lg text-6xl\">⚡</div>\n                  <div className=\"absolute inset-0 w-20 h-20 mx-auto border-4 border-yellow-400 rounded-full\"></div>\n                </div>\n              </div>\n              \n              <h2 className={`text-4xl font-bold mb-4 ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                🚨 ¡ALARMA ACTIVA!\n              </h2>\n              \n              <p className={`text-2xl font-semibold mb-4 ${settings.isDarkMode ? 'text-gray-200' : 'text-gray-700'}`}>\n                {activeAlarm.label}\n              </p>\n              \n              <p className={`text-5xl font-mono font-bold mb-8 ${settings.isDarkMode ? 'text-white' : 'text-gray-800'} tracking-wider`}>\n                {activeAlarm.time}\n              </p>\n\n              <div className=\"flex flex-col gap-4\">\n                <div className=\"flex gap-4\">\n                  {canSnooze && (\n                    <Button\n                      variant=\"secondary\"\n                      onClick={handleSnoozeAlarm}\n                      className=\"flex-1 py-4 text-lg flex items-center justify-center gap-2\"\n                      isDarkMode={settings.isDarkMode}\n                    >\n                      🔄 Posponer 5min\n                    </Button>\n                  )}\n                  \n                  <Button\n                    variant=\"danger\"\n                    onClick={() => {\n                      dismissAlarm();\n                      resetSnooze();\n                    }}\n                    className=\"flex-1 py-4 text-lg flex items-center justify-center gap-2\"\n                    isDarkMode={settings.isDarkMode}\n                  >\n                    🔇 Desactivar\n                  </Button>\n                </div>\n                \n                {snoozeCount > 0 && (\n                  <div className={`text-sm ${settings.isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                    Pospuestas: {snoozeCount}/{MAX_SNOOZE_COUNT}\n                  </div>\n                )}\n              </div>\n            </div>\n          </Card>\n        </div>\n      )}\n\n      {/* Snooze notification */}\n      {isSnoozing && (\n        <div className=\"fixed top-4 right-4 z-40\">\n          <Card className=\"p-4 transform animate-bounce\" isDarkMode={settings.isDarkMode}>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-2xl\">🔄</span>\n              <span className=\"font-semibold text-white\">Pospuesta 5 minutos</span>\n            </div>\n          </Card>\n        </div>\n      )}\n\n      {/* Status indicators */}\n      <div className=\"fixed bottom-4 left-1/2 -translate-x-1/2 transform pointer-events-none select-none z-0 space-y-2\">\n        {/* Row: Network (left) and Battery (right) */}\n        <div className=\"flex gap-2\">\n          <div className={`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${settings.isDarkMode ? 'bg-white/10' : 'bg-black/10'} backdrop-blur-lg`}>\n            <span className=\"text-blue-400 text-sm\">📶</span>\n            <span className={`text-sm ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n              {device.online ? 'Conectado' : 'Sin conexión'}{device.effectiveType ? ` · ${device.effectiveType.toUpperCase()}` : ''}\n            </span>\n          </div>\n\n          <div className={`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${settings.isDarkMode ? 'bg-white/10' : 'bg-black/10'} backdrop-blur-lg`}>\n            <span className=\"text-green-400 text-sm\">🔋</span>\n            <span className={`text-sm ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n              {device.batteryLevel !== null ? `${device.batteryLevel}%${device.charging ? ' ⚡' : ''}` : '—'}\n            </span>\n          </div>\n        </div>\n\n        {settings.voiceEnabled && (\n          <div className=\"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-600/30 backdrop-blur-lg animate-pulse\">\n            <span className=\"text-green-300 text-sm\">🔊</span>\n            <span className=\"text-sm text-green-300\">Voz</span>\n          </div>\n        )}\n      </div>\n\n      {/* Welcome Modal */}\n      <WelcomeModal \n        isDarkMode={settings.isDarkMode} \n        onInstall={handleInstallApp}\n        onDismiss={() => {}}\n      />\n\n  {/* Audio element for alarm sounds (src se asigna dinámicamente) */}\n  <audio ref={audioRef} />\n    </div>\n  );\n};\n\nexport default ModernAlarmSystem;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './styles/globals.css';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","formatTime","date","is24HourFormat","formatAlarmTime","timeString","hours","minutes","hour","ampm","formatDate","getPriorityColor","priority","isDarkMode","getPriorityLabel","shouldTriggerAlarm","alarm","currentTime","currentTimeStr","currentDay","createQuickAlarm","now","createSnoozeAlarm","activeAlarm","snoozeCount","snoozeDuration","snoozeTime","timeStr","validateAlarmForm","errors","useAlarmManager","alarms","setAlarms","useState","setActiveAlarm","useEffect","savedAlarms","error","interval","triggerAlarm","addAlarm","useCallback","alarmData","newAlarm","prev","updateAlarm","id","deleteAlarm","toggleAlarm","dismissAlarm","useCurrentTime","setCurrentTime","timer","DEFAULT_SETTINGS","useSettings","settings","setSettings","savedSettings","parsed","updateSetting","key","value","theme","volume","useSnooze","maxSnoozeCount","isSnoozing","setIsSnoozing","setSnoozeCount","canSnooze","snooze","resetSnooze","useDeviceStatus","status","setStatus","battery","conn","onBatteryLevel","onBatteryCharging","onConnChange","updateOnline","s","setupBattery","applyBattery","setupConnection","applyConn","WEEK_DAYS","THEMES","THEME_EMOJI","THEME_ACCENT_HEX","THEME_ACCENT_GRADIENT_HEX","THEME_WAVES","ALARM_SOUNDS","QUICK_ALARMS","DEFAULT_ALARM","SNOOZE_DURATION","MAX_SNOOZE_COUNT","ThemeWaves","width","height","className","canvasRef","useRef","canvas","ctx","config","accent","raf","t0","drawRibbons","time","t","color","i","x","y","drawBars","barCount","barW","drawDots","rows","cols","r","drawBezier","cp1y","cp2y","grd","loop","jsx","Button","variant","size","isLoading","themeType","children","disabled","props","baseClasses","themePrimary","themeSecondaryLight","themeGhostLight","variants","sizes","classes","jsxs","Input","label","icon","Card","Modal","open","title","onClose","maxWidthClass","handleKey","DigitalClock","voiceEnabled","getPath","path","KEY","getCustomSounds","raw","saveAll","list","addCustomSound","name","dataUrl","item","AlarmSounds","selectedSound","onSoundChange","fileRef","customList","setCustomList","allOptions","useMemo","mapped","pickFile","_a","onFile","file","resolve","reject","reader","saved","next","handleChange","val","ParticleBackground","count","particlesRef","animationRef","resizeCanvas","animate","particle","THEME_LABELS","ThemeSelect","onChange","setOpen","ref","onDocClick","onKey","gradient","buttonStyle","listStyle","o","selected","clamp","min","max","parse24","match","to24String","hh","mm","toDisplay","h24","use12","h12","fromDisplay","ClockTimePicker","use12Hour","disp","selHour","setSelHour","selMin","setSelMin","selAmpm","setSelAmpm","mode","setMode","rootRef","onEsc","commit","hTmp","mTmp","aTmp","ringColor","textColor","subText","border","radius","center","hourNumbers","_","minuteNumbers","angleForHour","hr","angleForMinute","renderDial","isHours","items","angle","pointerLen","dotSize","Fragment","idx","rad","isSel","basePos","hourBtn","minuteBtn","TimeFormatToggle","is24Hour","onToggle","accentHex","trackBg","borderClr","textClr","WelcomeModal","onInstall","onDismiss","isOpen","setIsOpen","handleDismiss","handleInstall","AlarmItem","onEdit","onDelete","day","AlarmForm","onSave","onCancel","alarmVolume","onVolumeChange","formData","setFormData","setErrors","handleSubmit","validationErrors","updateField","field","toggleDay","days","index","url","option","AlarmList","ModernAlarmSystem","toggleDarkMode","toggleTimeFormat","toggleVoice","setTheme","setVolume","device","showAddForm","setShowAddForm","showQuickAlarms","setShowQuickAlarms","editingAlarm","setEditingAlarm","audioRef","deferredPrompt","setDeferredPrompt","currentTheme","handleAddQuickAlarm","handleSnoozeAlarm","snoozeData","handleSaveAlarm","handleEditAlarm","handleCancelForm","handleBeforeInstallPrompt","handleInstallApp","choiceResult","el","getSoundUrl","soundValue","SOUND_LIST","quick","root","ReactDOM","React","App"],"mappings":"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","x_google_ignoreList":[0,1,2]}