{"version":3,"file":"index-B2fPHPZL.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/utils/index.ts","../../src/hooks/useAlarmManager.ts","../../src/hooks/useCurrentTime.ts","../../src/hooks/useSettings.ts","../../src/hooks/useSnooze.ts","../../src/hooks/useDeviceStatus.ts","../../src/constants/index.ts","../../src/components/common/ThemeWaves.tsx","../../src/components/ui/Button.tsx","../../src/components/ui/Input.tsx","../../src/components/ui/Card.tsx","../../src/components/ui/Modal.tsx","../../src/components/common/DigitalClock.tsx","../../src/constants/alarmSounds.ts","../../src/utils/customSounds.ts","../../src/components/common/AlarmSounds.tsx","../../src/components/common/ParticleBackground.tsx","../../src/components/common/ThemeSelect.tsx","../../src/components/common/ClockTimePicker.tsx","../../src/components/common/TimeFormatToggle.tsx","../../src/components/common/WelcomeModal.tsx","../../src/components/alarm/AlarmItem.tsx","../../src/components/alarm/AlarmForm.tsx","../../src/components/alarm/AlarmList.tsx","../../src/components/ModernAlarmSystem.tsx","../../src/index.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { Alarm, AlarmPriority } from '../types';\r\n\r\n/**\r\n * Formats time string for display based on 24-hour format preference\r\n */\r\nexport const formatTime = (date: Date, is24HourFormat: boolean): string => {\r\n  if (is24HourFormat) {\r\n    return date.toLocaleTimeString('es-ES', { \r\n      hour12: false,\r\n      hour: '2-digit', \r\n      minute: '2-digit', \r\n      second: '2-digit' \r\n    });\r\n  } else {\r\n    return date.toLocaleTimeString('es-ES', { \r\n      hour12: true,\r\n      hour: 'numeric', \r\n      minute: '2-digit', \r\n      second: '2-digit' \r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Formats alarm time string for display\r\n */\r\nexport const formatAlarmTime = (timeString: string, is24HourFormat: boolean): string => {\r\n  if (is24HourFormat) {\r\n    return timeString;\r\n  } else {\r\n    const [hours, minutes] = timeString.split(':');\r\n    const hour = parseInt(hours);\r\n    const ampm = hour >= 12 ? 'PM' : 'AM';\r\n    const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\r\n    return `${displayHour}:${minutes} ${ampm}`;\r\n  }\r\n};\r\n\r\n/**\r\n * Formats date for display\r\n */\r\nexport const formatDate = (date: Date): string => {\r\n  return date.toLocaleDateString('es-ES', {\r\n    weekday: 'long',\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n};\r\n\r\n/**\r\n * Gets priority color classes based on alarm priority\r\n */\r\nexport const getPriorityColor = (priority: AlarmPriority, isDarkMode: boolean): string => {\r\n  const darkColors = {\r\n    low: 'from-blue-600 to-cyan-600',\r\n    normal: 'from-green-600 to-emerald-600',\r\n    high: 'from-yellow-600 to-orange-600',\r\n    urgent: 'from-red-600 to-pink-600'\r\n  };\r\n  \r\n  const lightColors = {\r\n    low: 'from-blue-400 to-cyan-400',\r\n    normal: 'from-green-400 to-emerald-400',\r\n    high: 'from-yellow-400 to-orange-400',\r\n    urgent: 'from-red-400 to-pink-400'\r\n  };\r\n  \r\n  return isDarkMode ? darkColors[priority] : lightColors[priority];\r\n};\r\n\r\n/**\r\n * Gets priority label with emoji\r\n */\r\nexport const getPriorityLabel = (priority: AlarmPriority): string => {\r\n  const labels = {\r\n    low: '🔵 BAJA',\r\n    normal: '🟢 NORMAL',\r\n    high: '🟡 ALTA',\r\n    urgent: '🔴 URGENTE'\r\n  };\r\n  \r\n  return labels[priority];\r\n};\r\n\r\n/**\r\n * Checks if an alarm should trigger at the current time\r\n */\r\nexport const shouldTriggerAlarm = (alarm: Alarm, currentTime: Date): boolean => {\r\n  if (!alarm.enabled) return false;\r\n  \r\n  const currentTimeStr = currentTime.toTimeString().slice(0, 5);\r\n  const currentDay = currentTime.getDay();\r\n  \r\n  if (alarm.time !== currentTimeStr) return false;\r\n  \r\n  // If no specific days are set, alarm triggers every day\r\n  if (alarm.days.length === 0) return true;\r\n  \r\n  // Check if current day is in alarm's scheduled days\r\n  return alarm.days.includes(currentDay);\r\n};\r\n\r\n/**\r\n * Creates a quick alarm for the specified minutes from now\r\n */\r\nexport const createQuickAlarm = (minutes: number): Omit<Alarm, 'id'> => {\r\n  const now = new Date();\r\n  now.setMinutes(now.getMinutes() + minutes);\r\n  const timeStr = now.toTimeString().slice(0, 5);\r\n  \r\n  return {\r\n    time: timeStr,\r\n    label: `Alarma rápida ${minutes} min`,\r\n    days: [],\r\n    sound: 'gentle',\r\n    enabled: true,\r\n    priority: 'high',\r\n    vibrate: true,\r\n    gradualWake: false,\r\n    challengeMode: false\r\n  };\r\n};\r\n\r\n/**\r\n * Creates a snooze alarm based on the active alarm\r\n */\r\nexport const createSnoozeAlarm = (\r\n  activeAlarm: Alarm, \r\n  snoozeCount: number, \r\n  snoozeDuration: number = 5\r\n): Omit<Alarm, 'id'> => {\r\n  const snoozeTime = new Date();\r\n  snoozeTime.setMinutes(snoozeTime.getMinutes() + snoozeDuration);\r\n  const timeStr = snoozeTime.toTimeString().slice(0, 5);\r\n  \r\n  return {\r\n    ...activeAlarm,\r\n    time: timeStr,\r\n    label: `${activeAlarm.label} (Snooze ${snoozeCount + 1})`,\r\n    days: []\r\n  };\r\n};\r\n\r\n/**\r\n * Generates a random math challenge for challenge mode\r\n */\r\nexport const generateMathChallenge = (): { question: string; answer: number } => {\r\n  const num1 = Math.floor(Math.random() * 20) + 5;\r\n  const num2 = Math.floor(Math.random() * 20) + 5;\r\n  \r\n  return {\r\n    question: `¿Cuánto es ${num1} + ${num2}?`,\r\n    answer: num1 + num2\r\n  };\r\n};\r\n\r\n/**\r\n * Validates alarm form data\r\n */\r\nexport const validateAlarmForm = (alarm: Omit<Alarm, 'id'>): string[] => {\r\n  const errors: string[] = [];\r\n  \r\n  if (!alarm.time) {\r\n    errors.push('La hora es requerida');\r\n  }\r\n  \r\n  if (!alarm.label.trim()) {\r\n    errors.push('La etiqueta es requerida');\r\n  }\r\n  \r\n  if (alarm.label.length > 50) {\r\n    errors.push('La etiqueta no puede exceder 50 caracteres');\r\n  }\r\n  \r\n  return errors;\r\n};\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { Alarm } from '../types';\r\nimport { shouldTriggerAlarm } from '../utils';\r\n\r\ninterface UseAlarmManagerReturn {\r\n  alarms: Alarm[];\r\n  activeAlarm: Alarm | null;\r\n  addAlarm: (alarm: Omit<Alarm, 'id'>) => void;\r\n  updateAlarm: (id: number, alarm: Omit<Alarm, 'id'>) => void;\r\n  deleteAlarm: (id: number) => void;\r\n  toggleAlarm: (id: number) => void;\r\n  dismissAlarm: () => void;\r\n  triggerAlarm: (alarm: Alarm) => void;\r\n}\r\n\r\nexport const useAlarmManager = (): UseAlarmManagerReturn => {\r\n  const [alarms, setAlarms] = useState<Alarm[]>([]);\r\n  const [activeAlarm, setActiveAlarm] = useState<Alarm | null>(null);\r\n\r\n  // Load alarms from localStorage on mount\r\n  useEffect(() => {\r\n    const savedAlarms = localStorage.getItem('alarmaPro_alarms');\r\n    if (savedAlarms) {\r\n      try {\r\n        setAlarms(JSON.parse(savedAlarms));\r\n      } catch (error) {\r\n        console.error('Error loading alarms from localStorage:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save alarms to localStorage whenever alarms change\r\n  useEffect(() => {\r\n    localStorage.setItem('alarmaPro_alarms', JSON.stringify(alarms));\r\n  }, [alarms]);\r\n\r\n  // Check for triggered alarms every second\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      const now = new Date();\r\n      \r\n      alarms.forEach(alarm => {\r\n        if (shouldTriggerAlarm(alarm, now) && !activeAlarm) {\r\n          triggerAlarm(alarm);\r\n        }\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [alarms, activeAlarm]);\r\n\r\n  const addAlarm = useCallback((alarmData: Omit<Alarm, 'id'>) => {\r\n    const newAlarm: Alarm = {\r\n      ...alarmData,\r\n      id: Date.now()\r\n    };\r\n    setAlarms(prev => [...prev, newAlarm]);\r\n  }, []);\r\n\r\n  const updateAlarm = useCallback((id: number, alarmData: Omit<Alarm, 'id'>) => {\r\n    setAlarms(prev => \r\n      prev.map(alarm => \r\n        alarm.id === id ? { ...alarmData, id } : alarm\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const deleteAlarm = useCallback((id: number) => {\r\n    setAlarms(prev => prev.filter(alarm => alarm.id !== id));\r\n  }, []);\r\n\r\n  const toggleAlarm = useCallback((id: number) => {\r\n    setAlarms(prev => \r\n      prev.map(alarm => \r\n        alarm.id === id ? { ...alarm, enabled: !alarm.enabled } : alarm\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const triggerAlarm = useCallback((alarm: Alarm) => {\r\n    setActiveAlarm(alarm);\r\n  }, []);\r\n\r\n  const dismissAlarm = useCallback(() => {\r\n    setActiveAlarm(null);\r\n  }, []);\r\n\r\n  return {\r\n    alarms,\r\n    activeAlarm,\r\n    addAlarm,\r\n    updateAlarm,\r\n    deleteAlarm,\r\n    toggleAlarm,\r\n    dismissAlarm,\r\n    triggerAlarm\r\n  };\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport const useCurrentTime = () => {\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setCurrentTime(new Date());\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  return currentTime;\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { AppSettings, ThemeType } from '../types';\r\n\r\nconst DEFAULT_SETTINGS: AppSettings = {\r\n  isDarkMode: true,\r\n  is24HourFormat: true,\r\n  theme: 'purple',\r\n  voiceEnabled: false,\r\n  animationStyle: 'smooth',\r\n  alarmVolume: 80\r\n};\r\n\r\nexport const useSettings = () => {\r\n  const [settings, setSettings] = useState<AppSettings>(DEFAULT_SETTINGS);\r\n\r\n  // Load settings from localStorage on mount\r\n  useEffect(() => {\r\n    const savedSettings = localStorage.getItem('alarmaPro_settings');\r\n    if (savedSettings) {\r\n      try {\r\n        const parsed = JSON.parse(savedSettings);\r\n        setSettings({ ...DEFAULT_SETTINGS, ...parsed });\r\n      } catch (error) {\r\n        console.error('Error loading settings:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save settings to localStorage whenever they change\r\n  useEffect(() => {\r\n    localStorage.setItem('alarmaPro_settings', JSON.stringify(settings));\r\n  }, [settings]);\r\n\r\n  const updateSetting = <K extends keyof AppSettings>(\r\n    key: K, \r\n    value: AppSettings[K]\r\n  ) => {\r\n    setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const toggleDarkMode = () => {\r\n    updateSetting('isDarkMode', !settings.isDarkMode);\r\n  };\r\n\r\n  const toggleTimeFormat = () => {\r\n    updateSetting('is24HourFormat', !settings.is24HourFormat);\r\n  };\r\n\r\n  const toggleVoice = () => {\r\n    updateSetting('voiceEnabled', !settings.voiceEnabled);\r\n  };\r\n\r\n  const setTheme = (theme: ThemeType) => {\r\n    updateSetting('theme', theme);\r\n  };\r\n\r\n  const setVolume = (volume: number) => {\r\n    updateSetting('alarmVolume', Math.max(0, Math.min(100, volume)));\r\n  };\r\n\r\n  return {\r\n    settings,\r\n    updateSetting,\r\n    toggleDarkMode,\r\n    toggleTimeFormat,\r\n    toggleVoice,\r\n    setTheme,\r\n    setVolume\r\n  };\r\n};\r\n","import { useState, useCallback } from 'react';\r\n\r\ninterface UseSnoozeReturn {\r\n  isSnoozing: boolean;\r\n  snoozeCount: number;\r\n  canSnooze: boolean;\r\n  snooze: () => void;\r\n  resetSnooze: () => void;\r\n}\r\n\r\nexport const useSnooze = (maxSnoozeCount: number = 3): UseSnoozeReturn => {\r\n  const [isSnoozing, setIsSnoozing] = useState(false);\r\n  const [snoozeCount, setSnoozeCount] = useState(0);\r\n\r\n  const canSnooze = snoozeCount < maxSnoozeCount;\r\n\r\n  const snooze = useCallback(() => {\r\n    if (canSnooze) {\r\n      setSnoozeCount(prev => prev + 1);\r\n      setIsSnoozing(true);\r\n      \r\n      // Hide snooze notification after 2 seconds\r\n      setTimeout(() => {\r\n        setIsSnoozing(false);\r\n      }, 2000);\r\n    }\r\n  }, [canSnooze]);\r\n\r\n  const resetSnooze = useCallback(() => {\r\n    setSnoozeCount(0);\r\n    setIsSnoozing(false);\r\n  }, []);\r\n\r\n  return {\r\n    isSnoozing,\r\n    snoozeCount,\r\n    canSnooze,\r\n    snooze,\r\n    resetSnooze\r\n  };\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport interface DeviceStatus {\r\n  batteryLevel: number | null; // 0-100\r\n  charging: boolean | null;\r\n  networkType: string | null; // wifi / cellular / ethernet / etc\r\n  effectiveType: string | null; // 4g/3g/etc\r\n  online: boolean;\r\n}\r\n\r\nexport function useDeviceStatus(): DeviceStatus {\r\n  const [status, setStatus] = useState<DeviceStatus>({\r\n    batteryLevel: null,\r\n    charging: null,\r\n    networkType: null,\r\n    effectiveType: null,\r\n    online: typeof navigator !== 'undefined' ? navigator.onLine : true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let battery: BatteryManager | null = null;\r\n    let conn: NetworkInformation | undefined;\r\n  let onBatteryLevel: ((ev: Event) => void) | null = null;\r\n  let onBatteryCharging: ((ev: Event) => void) | null = null;\r\n  let onConnChange: ((ev: Event) => void) | null = null;\r\n\r\n    const updateOnline = () => setStatus((s) => ({ ...s, online: navigator.onLine }));\r\n\r\n    // Battery API\r\n  const setupBattery = async () => {\r\n      try {\r\n        if (navigator.getBattery) {\r\n          battery = await navigator.getBattery();\r\n      const applyBattery = () => setStatus((s) => ({\r\n            ...s,\r\n            batteryLevel: Math.round((battery!.level ?? 0) * 100),\r\n            charging: !!battery!.charging,\r\n          }));\r\n          applyBattery();\r\n      onBatteryLevel = () => applyBattery();\r\n      onBatteryCharging = () => applyBattery();\r\n      battery.addEventListener('levelchange', onBatteryLevel);\r\n      battery.addEventListener('chargingchange', onBatteryCharging);\r\n        }\r\n      } catch (e) {\r\n        // Battery API not supported\r\n      }\r\n    };\r\n\r\n    // Network Information API\r\n  const setupConnection = () => {\r\n      conn = navigator.connection || (navigator as any).mozConnection || (navigator as any).webkitConnection;\r\n      if (conn) {\r\n    const applyConn = () => setStatus((s) => ({\r\n          ...s,\r\n          networkType: (conn!.type || 'unknown') as string,\r\n          effectiveType: (conn!.effectiveType || null) as any,\r\n        }));\r\n        applyConn();\r\n    onConnChange = () => applyConn();\r\n    conn.addEventListener('change', onConnChange);\r\n      }\r\n    };\r\n\r\n    setupBattery();\r\n    setupConnection();\r\n    window.addEventListener('online', updateOnline);\r\n    window.addEventListener('offline', updateOnline);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', updateOnline);\r\n      window.removeEventListener('offline', updateOnline);\r\n      if (battery) {\r\n        try {\r\n          if (onBatteryLevel) battery.removeEventListener('levelchange', onBatteryLevel);\r\n          if (onBatteryCharging) battery.removeEventListener('chargingchange', onBatteryCharging);\r\n        } catch {}\r\n      }\r\n      if (conn && onConnChange) {\r\n        try { conn.removeEventListener('change', onConnChange); } catch {}\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return status;\r\n}\r\n","// import { Coffee, Timer, Activity, Target, Clock, Music, Bell, Sparkles } from 'lucide-react';\r\nimport { AlarmSound, QuickAlarm, Theme, ThemeType } from '../types';\r\n\r\nexport const WEEK_DAYS = ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'];\r\n\r\nexport const THEMES: Record<ThemeType, Theme> = {\r\n  purple: { \r\n    from: 'from-purple-900', \r\n    to: 'to-indigo-900', \r\n    accent: 'purple-600', \r\n    light: 'from-purple-50 to-indigo-50' \r\n  },\r\n  ocean: { \r\n    from: 'from-blue-900', \r\n    to: 'to-cyan-900', \r\n    accent: 'blue-600', \r\n    light: 'from-blue-50 to-cyan-50' \r\n  },\r\n  sunset: { \r\n    from: 'from-orange-900', \r\n    to: 'to-red-900', \r\n    accent: 'orange-600', \r\n    light: 'from-orange-50 to-red-50' \r\n  },\r\n  forest: { \r\n    from: 'from-green-900', \r\n    to: 'to-emerald-900', \r\n    accent: 'green-600', \r\n    light: 'from-green-50 to-emerald-50' \r\n  },\r\n  cosmic: { \r\n    from: 'from-violet-900', \r\n    to: 'to-pink-900', \r\n    accent: 'violet-600', \r\n    light: 'from-violet-50 to-pink-50' \r\n  }\r\n};\r\n\r\n// Emoji/icon for each theme to show in selectors and UI\r\nexport const THEME_EMOJI: Record<ThemeType, string> = {\r\n  purple: '🟣',\r\n  ocean: '🌊',\r\n  sunset: '🌅',\r\n  forest: '🌲',\r\n  cosmic: '🌌',\r\n};\r\n\r\n// Hex accent per theme for inline gradients and effects\r\nexport const THEME_ACCENT_HEX: Record<ThemeType, string> = {\r\n  purple: '#9333ea', // purple-600\r\n  ocean: '#2563eb',  // blue-600\r\n  sunset: '#ea580c', // orange-600\r\n  forest: '#16a34a', // green-600\r\n  cosmic: '#7c3aed', // violet-600\r\n};\r\n\r\n// Start/End gradient colors per theme to paint primary buttons and headings\r\nexport const THEME_ACCENT_GRADIENT_HEX: Record<ThemeType, { start: string; end: string }> = {\r\n  purple: { start: '#9333ea', end: '#6366f1' },  // purple-600 → indigo-500\r\n  ocean:  { start: '#2563eb', end: '#06b6d4' },  // blue-600 → cyan-500\r\n  sunset: { start: '#ea580c', end: '#ef4444' },  // orange-600 → red-500\r\n  forest: { start: '#16a34a', end: '#22c55e' },  // green-600 → green-500\r\n  cosmic: { start: '#7c3aed', end: '#db2777' },  // violet-600 → rose-600\r\n};\r\n\r\n// Wave visual styles per theme for the clock visualizer\r\nexport type WaveVariant = 'ribbons' | 'bars' | 'dots' | 'bezier';\r\nexport const THEME_WAVES: Record<ThemeType, { variant: WaveVariant; colors: string[] } > = {\r\n  purple: {\r\n    variant: 'ribbons',\r\n    colors: ['#a78bfa', '#f0abfc', '#c4b5fd', '#f5d0fe']\r\n  },\r\n  ocean: {\r\n    variant: 'bezier',\r\n    colors: ['#38bdf8', '#22d3ee', '#60a5fa', '#06b6d4']\r\n  },\r\n  sunset: {\r\n    variant: 'bars',\r\n    colors: ['#fb7185', '#f97316', '#f59e0b', '#ef4444']\r\n  },\r\n  forest: {\r\n    variant: 'dots',\r\n    colors: ['#34d399', '#86efac', '#22c55e', '#a3e635']\r\n  },\r\n  cosmic: {\r\n    variant: 'ribbons',\r\n    colors: ['#a78bfa', '#f472b6', '#60a5fa', '#c084fc']\r\n  }\r\n};\r\n\r\nexport const ALARM_SOUNDS: Record<string, AlarmSound> = {\r\n  gentle: { name: '🎵 Suave Despertar', description: 'Melodía relajante' },\r\n  energetic: { name: '⚡ Power Up', description: 'Energía máxima' },\r\n  nature: { name: '🌊 Sonidos Naturales', description: 'Aves y agua' },\r\n  classic: { name: '⏰ Clásico Digital', description: 'Beep tradicional' },\r\n  binaural: { name: '🧠 Binaural', description: 'Frecuencias cerebrales' },\r\n  piano: { name: '🎹 Piano Suave', description: 'Notas de piano' },\r\n  cosmic: { name: '🌌 Cósmico', description: 'Sonidos del espacio' }\r\n};\r\n\r\nexport const QUICK_ALARMS: QuickAlarm[] = [\r\n  { minutes: 5, label: '5 min', icon: '☕' },\r\n  { minutes: 10, label: '10 min', icon: '⏱️' },\r\n  { minutes: 15, label: '15 min', icon: '☕' },\r\n  { minutes: 20, label: '20 min', icon: '🏃' },\r\n  { minutes: 30, label: '30 min', icon: '🎯' },\r\n  { minutes: 60, label: '1 hora', icon: '⏰' }\r\n];\r\n\r\nexport const DEFAULT_ALARM = {\r\n  time: '',\r\n  label: '',\r\n  days: [],\r\n  sound: 'gentle' as keyof typeof ALARM_SOUNDS,\r\n  enabled: true,\r\n  priority: 'normal' as const,\r\n  vibrate: true,\r\n  gradualWake: false,\r\n  challengeMode: false\r\n};\r\n\r\nexport const SNOOZE_DURATION = 5; // minutes\r\nexport const MAX_SNOOZE_COUNT = 3;\r\nexport const ANIMATION_DURATION = 300;\r\nexport const WAVE_COUNT = 5;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { THEME_WAVES, THEME_ACCENT_HEX } from '../../constants';\r\nimport type { ThemeType } from '../../types';\r\n\r\ninterface ThemeWavesProps {\r\n  theme: ThemeType;\r\n  isDarkMode?: boolean;\r\n  width?: number;\r\n  height?: number;\r\n  className?: string;\r\n}\r\n\r\nexport const ThemeWaves: React.FC<ThemeWavesProps> = ({\r\n  theme,\r\n  isDarkMode = true,\r\n  width = 360,\r\n  height = 80,\r\n  className = ''\r\n}) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    const config = THEME_WAVES[theme];\r\n    const accent = THEME_ACCENT_HEX[theme];\r\n\r\n    let raf = 0;\r\n    const t0 = performance.now();\r\n\r\n    const drawRibbons = (time: number) => {\r\n      const t = (time - t0) * 0.0015;\r\n      ctx.clearRect(0, 0, width, height);\r\n      config.colors.forEach((color, i) => {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.strokeStyle = color;\r\n        ctx.globalAlpha = isDarkMode ? 0.8 : 0.6;\r\n        for (let x = 0; x <= width; x++) {\r\n          const y = height/2 + Math.sin((x * 0.02) + (t * (0.8 + i*0.2))) * (10 + i*3);\r\n          x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\r\n        }\r\n        ctx.stroke();\r\n      });\r\n    };\r\n\r\n    const drawBars = (time: number) => {\r\n      const t = (time - t0) * 0.002;\r\n      ctx.clearRect(0, 0, width, height);\r\n      const barCount = 40;\r\n      const barW = width / barCount;\r\n      for (let i = 0; i < barCount; i++) {\r\n        const amp = (Math.sin(i * 0.5 + t * 2) + 1) / 2;\r\n        const h = 10 + amp * (height - 20);\r\n        const color = config.colors[i % config.colors.length];\r\n        ctx.fillStyle = color;\r\n        ctx.globalAlpha = isDarkMode ? 0.8 : 0.7;\r\n        ctx.fillRect(i * barW + 1, (height - h) / 2, barW - 2, h);\r\n      }\r\n    };\r\n\r\n    const drawDots = (time: number) => {\r\n      const t = (time - t0) * 0.0018;\r\n      ctx.clearRect(0, 0, width, height);\r\n      const rows = 3;\r\n      const cols = 40;\r\n      for (let r = 0; r < rows; r++) {\r\n        for (let c = 0; c < cols; c++) {\r\n          const x = (c + 0.5) * (width / cols);\r\n          const baseY = (r + 1) * (height / (rows + 1));\r\n          const y = baseY + Math.sin(c * 0.4 + t * (1 + r*0.3)) * 8;\r\n          ctx.beginPath();\r\n          ctx.fillStyle = config.colors[(r + c) % config.colors.length];\r\n          ctx.globalAlpha = isDarkMode ? 0.85 : 0.75;\r\n          ctx.arc(x, y, 2.2 + r*0.3, 0, Math.PI * 2);\r\n          ctx.fill();\r\n        }\r\n      }\r\n    };\r\n\r\n    const drawBezier = (time: number) => {\r\n      const t = (time - t0) * 0.0012;\r\n      ctx.clearRect(0, 0, width, height);\r\n      for (let i = 0; i < 4; i++) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.strokeStyle = config.colors[i % config.colors.length];\r\n        ctx.globalAlpha = isDarkMode ? 0.8 : 0.6;\r\n        ctx.moveTo(0, height/2);\r\n        const cp1y = height/2 + Math.sin(t * (1.2 + i*0.3)) * 18;\r\n        const cp2y = height/2 + Math.cos(t * (1.0 + i*0.2)) * 18;\r\n        ctx.bezierCurveTo(width*0.33, cp1y, width*0.66, cp2y, width, height/2);\r\n        ctx.stroke();\r\n      }\r\n      const grd = ctx.createLinearGradient(0, 0, 0, height);\r\n      grd.addColorStop(0, accent + '00');\r\n      grd.addColorStop(0.5, accent + '22');\r\n      grd.addColorStop(1, accent + '00');\r\n      ctx.fillStyle = grd;\r\n      ctx.fillRect(0, 0, width, height);\r\n    };\r\n\r\n    const loop = (time: number) => {\r\n      switch (config.variant) {\r\n        case 'bars':\r\n          drawBars(time); break;\r\n        case 'dots':\r\n          drawDots(time); break;\r\n        case 'bezier':\r\n          drawBezier(time); break;\r\n        default:\r\n          drawRibbons(time); break;\r\n      }\r\n      raf = requestAnimationFrame(loop);\r\n    };\r\n    loop(performance.now());\r\n    return () => cancelAnimationFrame(raf);\r\n  }, [theme, isDarkMode, width, height]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className={`rounded-xl opacity-80 ${className}`}\r\n      style={{ width, height }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ThemeWaves;\r\n","import React from 'react';\r\nimport type { ThemeType } from '../../types';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  isLoading?: boolean;\r\n  // When provided, allows the component to adapt contrast for light/dark themes\r\n  isDarkMode?: boolean;\r\n  // Optional theme to colorize the primary variant according to current theme\r\n  themeType?: ThemeType;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({\r\n  variant = 'primary',\r\n  size = 'md',\r\n  isLoading = false,\r\n  isDarkMode,\r\n  themeType = 'purple',\r\n  children,\r\n  className = '',\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  const baseClasses = 'font-semibold rounded-xl transition-all duration-300 transform sm:hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none';\r\n  \r\n  // Static Tailwind class maps (safe for JIT) to avoid broken inline gradients\r\n  const themePrimary: Record<ThemeType, string> = {\r\n    purple: 'bg-gradient-to-r from-purple-600 to-indigo-600 focus:ring-purple-500 hover:from-purple-700 hover:to-indigo-700',\r\n    ocean: 'bg-gradient-to-r from-blue-600 to-cyan-600 focus:ring-blue-500 hover:from-blue-700 hover:to-cyan-700',\r\n    sunset: 'bg-gradient-to-r from-orange-600 to-red-500 focus:ring-orange-500 hover:from-orange-700 hover:to-red-600',\r\n    forest: 'bg-gradient-to-r from-green-600 to-emerald-600 focus:ring-green-500 hover:from-green-700 hover:to-emerald-700',\r\n    cosmic: 'bg-gradient-to-r from-violet-600 to-rose-600 focus:ring-violet-500 hover:from-violet-700 hover:to-rose-700',\r\n  };\r\n\r\n  const themeSecondaryLight: Record<ThemeType, string> = {\r\n    purple: 'bg-white text-gray-900 border border-purple-400 hover:bg-gray-50 focus:ring-purple-400',\r\n    ocean: 'bg-white text-gray-900 border border-blue-400 hover:bg-gray-50 focus:ring-blue-400',\r\n    sunset: 'bg-white text-gray-900 border border-orange-400 hover:bg-gray-50 focus:ring-orange-400',\r\n    forest: 'bg-white text-gray-900 border border-green-400 hover:bg-gray-50 focus:ring-green-400',\r\n    cosmic: 'bg-white text-gray-900 border border-violet-400 hover:bg-gray-50 focus:ring-violet-400',\r\n  };\r\n\r\n  const themeGhostLight: Record<ThemeType, string> = {\r\n    purple: 'bg-purple-50/40 hover:bg-purple-50 text-purple-700 border border-purple-200 focus:ring-purple-300',\r\n    ocean: 'bg-blue-50/40 hover:bg-blue-50 text-blue-700 border border-blue-200 focus:ring-blue-300',\r\n    sunset: 'bg-orange-50/40 hover:bg-orange-50 text-orange-700 border border-orange-200 focus:ring-orange-300',\r\n    forest: 'bg-green-50/40 hover:bg-green-50 text-green-700 border border-green-200 focus:ring-green-300',\r\n    cosmic: 'bg-violet-50/40 hover:bg-violet-50 text-violet-700 border border-violet-200 focus:ring-violet-300',\r\n  };\r\n\r\n  const variants = {\r\n    primary: `${themePrimary[themeType]} text-white shadow-xl hover:shadow-2xl`,\r\n    // Adapt contrast for light vs dark and tint by theme in light mode\r\n    secondary: isDarkMode === false\r\n      ? `${themeSecondaryLight[themeType]} shadow-md`\r\n      : 'bg-white/15 hover:bg-white/25 backdrop-blur-lg text-white border border-white/20 focus:ring-white/50',\r\n    danger: 'bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 focus:ring-red-500 shadow-xl hover:shadow-2xl',\r\n    ghost: isDarkMode === false\r\n      ? themeGhostLight[themeType]\r\n      : 'bg-white/10 hover:bg-white/20 backdrop-blur-lg text-white border border-white/10 focus:ring-white/50'\r\n  } as const;\r\n  \r\n  const sizes = {\r\n    sm: 'px-3 py-2 text-sm',\r\n    md: 'px-6 py-3 text-base',\r\n    lg: 'px-8 py-4 text-lg'\r\n  };\r\n\r\n  const classes = `${baseClasses} ${variants[variant]} ${sizes[size]} ${className}`;\r\n\r\n  return (\r\n    <button\r\n      className={classes}\r\n  // no inline styles needed; all styles are Tailwind class-based\r\n      disabled={disabled || isLoading}\r\n      {...props}\r\n    >\r\n      {isLoading ? (\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n          Cargando...\r\n        </div>\r\n      ) : (\r\n        children\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n  icon?: React.ReactNode;\r\n}\r\n\r\nexport const Input: React.FC<InputProps> = ({\r\n  label,\r\n  error,\r\n  icon,\r\n  className = '',\r\n  ...props\r\n}) => {\r\n  const baseClasses = 'w-full p-4 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all';\r\n  const classes = `${baseClasses} ${className}`;\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {label && (\r\n        <label className=\"block text-sm font-medium text-gray-300\">\r\n          {label}\r\n        </label>\r\n      )}\r\n      <div className=\"relative\">\r\n        {icon && (\r\n          <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\r\n            {icon}\r\n          </div>\r\n        )}\r\n        <input\r\n          className={`${classes} ${icon ? 'pl-12' : ''} ${error ? 'border-red-500' : ''}`}\r\n          {...props}\r\n        />\r\n      </div>\r\n      {error && (\r\n        <p className=\"text-sm text-red-400\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  variant?: 'default' | 'glass' | 'solid';\r\n  isDarkMode?: boolean;\r\n}\r\n\r\nexport const Card: React.FC<CardProps> = ({\r\n  children,\r\n  className = '',\r\n  variant = 'glass',\r\n  isDarkMode = true\r\n}) => {\r\n  const baseClasses = 'rounded-2xl sm:rounded-3xl shadow-xl border transition-all duration-300';\r\n  \r\n  const variants = {\r\n    default: isDarkMode \r\n      ? 'bg-white/10 border-white/20 backdrop-blur-lg shadow-2xl' \r\n      : 'bg-white/50 border-white/40 backdrop-blur-lg shadow-2xl',\r\n    glass: isDarkMode \r\n      ? 'bg-white/10 border-white/20 backdrop-blur-xl shadow-2xl hover:shadow-3xl' \r\n      : 'bg-white/40 border-white/40 backdrop-blur-xl shadow-2xl hover:shadow-3xl',\r\n    solid: isDarkMode \r\n      ? 'bg-gray-800/90 border-gray-700 backdrop-blur-sm shadow-2xl' \r\n      : 'bg-white/90 border-gray-200 backdrop-blur-sm shadow-2xl'\r\n  };\r\n\r\n  const classes = `${baseClasses} ${variants[variant]} ${className}`;\r\n\r\n  return (\r\n    <div className={classes}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\n\r\ninterface ModalProps {\r\n  open: boolean;\r\n  title?: string;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n  maxWidthClass?: string; // e.g., 'max-w-lg', 'max-w-2xl'\r\n}\r\n\r\nexport const Modal: React.FC<ModalProps> = ({\r\n  open,\r\n  title,\r\n  onClose,\r\n  children,\r\n  maxWidthClass = 'max-w-lg',\r\n}) => {\r\n  useEffect(() => {\r\n    const handleKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') onClose();\r\n    };\r\n    if (open) document.addEventListener('keydown', handleKey);\r\n    return () => document.removeEventListener('keydown', handleKey);\r\n  }, [open, onClose]);\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n      />\r\n\r\n      {/* Sheet on mobile, centered dialog on desktop */}\r\n      <div\r\n        className={`relative w-full sm:w-auto sm:${maxWidthClass} sm:mx-auto bg-white/5 sm:bg-white/10 border border-white/20 rounded-t-2xl sm:rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden`}\r\n        style={{ paddingBottom: 'max(env(safe-area-inset-bottom, 0px), 0px)', maxWidth: maxWidthClass === 'max-w-sm' ? '340px' : undefined }}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b border-white/10\">\r\n          <h3 className=\"text-white text-lg font-semibold select-none\">{title}</h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg p-1.5 transition\"\r\n            aria-label=\"Cerrar\"\r\n          >\r\n            ✖️\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n  <div className=\"max-h-[70vh] sm:max-h-[80vh] overflow-y-auto p-4 custom-scrollbar\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport type { ThemeType } from '../../types';\r\nimport { formatTime, formatDate } from '../../utils';\r\nimport { ThemeWaves } from './ThemeWaves';\r\nimport { Card } from '../ui';\r\n\r\ninterface DigitalClockProps {\r\n  currentTime: Date;\r\n  is24HourFormat: boolean;\r\n  isDarkMode: boolean;\r\n  voiceEnabled?: boolean;\r\n  theme: { accent: string };\r\n  themeType: ThemeType;\r\n}\r\n\r\nexport const DigitalClock: React.FC<DigitalClockProps> = ({\r\n  currentTime,\r\n  is24HourFormat,\r\n  isDarkMode,\r\n  voiceEnabled = false,\r\n  themeType\r\n}) => {\r\n  return (\r\n    <Card \r\n      className=\"inline-block w-full sm:w-auto p-4 sm:p-6 md:p-8 transform hover:scale-105 transition-all duration-500\"\r\n      isDarkMode={isDarkMode}\r\n    >\r\n      <div className={`text-5xl sm:text-6xl md:text-7xl font-mono font-bold mb-3 sm:mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'} tracking-wider`}>\r\n        {formatTime(currentTime, is24HourFormat)}\r\n      </div>\r\n      \r\n      {/* Theme-specific Waves */}\r\n      <div className=\"flex justify-center mb-4\">\r\n        <ThemeWaves theme={themeType} isDarkMode={isDarkMode} />\r\n      </div>\r\n      \r\n      <div className=\"flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3\">\r\n        <span className={`text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full ${isDarkMode ? 'bg-purple-600/30 text-purple-300' : 'bg-purple-600/20 text-purple-800'}`}>\r\n          {is24HourFormat ? '24 Horas' : '12 Horas'}\r\n        </span>\r\n        {voiceEnabled && (\r\n          <span className=\"text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-green-600/30 text-green-300 animate-pulse\">\r\n            🎤 Voz Activa\r\n          </span>\r\n        )}\r\n      </div>\r\n      \r\n      <div className={`text-sm sm:text-base md:text-lg ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n        {formatDate(currentTime)}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n","export interface AlarmSound {\r\n  name: string;\r\n  url: string;\r\n  icon: string;\r\n}\r\n\r\n// Función para obtener la ruta completa\r\nconst getPath = (path: string): string => {\r\n  // Asegurarnos de que funciona tanto en desarrollo como en producción\r\n  const base = '/AlarmaPro/';\r\n  return `${base}${path}`;\r\n};\r\n\r\nexport const ALARM_SOUNDS: AlarmSound[] = [\r\n  {\r\n    name: 'Clásico',\r\n    url: getPath('sounds/alarm-26718.mp3'), \r\n    icon: '⏰'\r\n  },\r\n  {\r\n    name: 'Suave',\r\n    url: getPath('sounds/reliable-safe-327618.mp3'),\r\n    icon: '🎵'\r\n  },\r\n  {\r\n    name: 'Urgente',\r\n    url: getPath('sounds/biohazard-alarm-143105.mp3'),\r\n    icon: '🚨'\r\n  },\r\n  {\r\n    name: 'Sirena',\r\n    url: getPath('sounds/facility-siren-loopable-100687.mp3'),\r\n    icon: '🚒'\r\n  },\r\n  {\r\n    name: 'Digital',\r\n    url: getPath('sounds/alarm-no3-14864.mp3'),\r\n    icon: '🤖'\r\n  }\r\n];\r\n","export interface CustomSound {\r\n  id: string;\r\n  name: string;\r\n  dataUrl: string; // base64 data URL persisted in localStorage\r\n}\r\n\r\nconst KEY = 'alarmaPro.customSounds.v1';\r\n\r\nexport function getCustomSounds(): CustomSound[] {\r\n  try {\r\n    const raw = localStorage.getItem(KEY);\r\n    return raw ? (JSON.parse(raw) as CustomSound[]) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveAll(list: CustomSound[]) {\r\n  try {\r\n    localStorage.setItem(KEY, JSON.stringify(list));\r\n  } catch {\r\n    // ignore quota errors\r\n  }\r\n}\r\n\r\nexport function addCustomSound(name: string, dataUrl: string): CustomSound {\r\n  const item: CustomSound = {\r\n    id: `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\r\n    name,\r\n    dataUrl,\r\n  };\r\n  const list = getCustomSounds();\r\n  list.push(item);\r\n  saveAll(list);\r\n  return item;\r\n}\r\n\r\nexport function removeCustomSound(id: string) {\r\n  const list = getCustomSounds().filter((s) => s.id !== id);\r\n  saveAll(list);\r\n}\r\n","import React, { useMemo, useRef, useState } from 'react';\r\nimport { ALARM_SOUNDS } from '../../constants/alarmSounds.ts';\r\nimport type { AlarmSound } from '../../constants/alarmSounds.ts';\r\nimport { addCustomSound, getCustomSounds, type CustomSound } from '../../utils/customSounds';\r\n\r\ninterface AlarmSoundsProps {\r\n  selectedSound: string;\r\n  onSoundChange: (sound: string) => void;\r\n  className?: string;\r\n}\r\n\r\nexport const AlarmSounds: React.FC<AlarmSoundsProps> = ({\r\n  selectedSound,\r\n  onSoundChange,\r\n  className = ''\r\n}) => {\r\n  const fileRef = useRef<HTMLInputElement>(null);\r\n  const [customList, setCustomList] = useState<CustomSound[]>(() => getCustomSounds());\r\n\r\n  const allOptions = useMemo(() => {\r\n    // map custom sounds to AlarmSound-like objects\r\n    const mapped: AlarmSound[] = customList.map((c) => ({ name: c.name, url: c.dataUrl, icon: '📁' }));\r\n    return [...ALARM_SOUNDS, ...mapped];\r\n  }, [customList]);\r\n\r\n  const pickFile = () => fileRef.current?.click();\r\n\r\n  const onFile = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n    const name = file.name.replace(/\\.[^.]+$/, '');\r\n    const dataUrl = await new Promise<string>((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = () => resolve(String(reader.result));\r\n      reader.onerror = () => reject(reader.error);\r\n      reader.readAsDataURL(file);\r\n    });\r\n    const saved = addCustomSound(name, dataUrl);\r\n    const next = getCustomSounds();\r\n    setCustomList(next);\r\n    onSoundChange(saved.dataUrl);\r\n    e.target.value = '';\r\n  };\r\n\r\n  const handleChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {\r\n    const val = e.target.value;\r\n    if (val === '__pick__') {\r\n      // open native picker and keep current selection\r\n      setTimeout(() => pickFile(), 0);\r\n      return;\r\n    }\r\n    onSoundChange(val);\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-2 ${className}`}>\r\n      <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n        Sonido de Alarma\r\n      </label>\r\n      <div className=\"flex items-center gap-2\">\r\n        <select\r\n          value={selectedSound || allOptions[0]?.url}\r\n          onChange={handleChange}\r\n          className=\"flex-1 p-3 rounded-xl bg-white/10 text-gray-100 border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n        >\r\n          {allOptions.map((s: AlarmSound) => (\r\n            <option key={s.url} value={s.url}>{`${s.icon} ${s.name}`}</option>\r\n          ))}\r\n          <option value=\"__pick__\">📲 Elegir desde dispositivo…</option>\r\n        </select>\r\n  <input ref={fileRef} type=\"file\" accept=\"audio/*\" hidden onChange={onFile} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\n\r\ninterface Particle {\r\n  x: number;\r\n  y: number;\r\n  size: number;\r\n  speedX: number;\r\n  speedY: number;\r\n  opacity: number;\r\n}\r\n\r\ninterface ParticleBackgroundProps {\r\n  className?: string;\r\n  count?: number;\r\n}\r\n\r\nexport const ParticleBackground: React.FC<ParticleBackgroundProps> = ({ \r\n  className = '', \r\n  count = 50 \r\n}) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const particlesRef = useRef<Particle[]>([]);\r\n  const animationRef = useRef<number>();\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    // Set canvas size\r\n    const resizeCanvas = () => {\r\n      canvas.width = canvas.offsetWidth;\r\n      canvas.height = canvas.offsetHeight;\r\n    };\r\n\r\n    resizeCanvas();\r\n    window.addEventListener('resize', resizeCanvas);\r\n\r\n    // Initialize particles\r\n    const initParticles = () => {\r\n      particlesRef.current = [];\r\n      for (let i = 0; i < count; i++) {\r\n        particlesRef.current.push({\r\n          x: Math.random() * canvas.width,\r\n          y: Math.random() * canvas.height,\r\n          size: Math.random() * 3 + 1,\r\n          speedX: (Math.random() - 0.5) * 0.5,\r\n          speedY: (Math.random() - 0.5) * 0.5,\r\n          opacity: Math.random() * 0.3 + 0.1,\r\n        });\r\n      }\r\n    };\r\n\r\n    initParticles();\r\n\r\n    // Animation loop\r\n    const animate = () => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n      particlesRef.current.forEach((particle) => {\r\n        // Update position\r\n        particle.x += particle.speedX;\r\n        particle.y += particle.speedY;\r\n\r\n        // Wrap around edges\r\n        if (particle.x > canvas.width) particle.x = 0;\r\n        if (particle.x < 0) particle.x = canvas.width;\r\n        if (particle.y > canvas.height) particle.y = 0;\r\n        if (particle.y < 0) particle.y = canvas.height;\r\n\r\n        // Draw particle\r\n        ctx.beginPath();\r\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\r\n        ctx.fillStyle = `rgba(255, 255, 255, ${particle.opacity})`;\r\n        ctx.fill();\r\n\r\n        // Add glow effect\r\n        ctx.shadowBlur = 10;\r\n        ctx.shadowColor = 'rgba(147, 51, 234, 0.5)';\r\n        ctx.beginPath();\r\n        ctx.arc(particle.x, particle.y, particle.size * 0.5, 0, Math.PI * 2);\r\n        ctx.fillStyle = `rgba(147, 51, 234, ${particle.opacity * 0.5})`;\r\n        ctx.fill();\r\n        ctx.shadowBlur = 0;\r\n      });\r\n\r\n      animationRef.current = requestAnimationFrame(animate);\r\n    };\r\n\r\n    animate();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', resizeCanvas);\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [count]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className={`absolute inset-0 pointer-events-none ${className}`}\r\n      style={{ mixBlendMode: 'screen' }}\r\n    />\r\n  );\r\n};\r\n","import React, { useMemo, useRef, useState, useEffect } from 'react';\r\nimport type { ThemeType } from '../../types';\r\nimport { THEME_EMOJI, THEME_ACCENT_GRADIENT_HEX } from '../../constants';\r\n\r\ninterface ThemeSelectProps {\r\n  value: ThemeType;\r\n  onChange: (theme: ThemeType) => void;\r\n  isDarkMode: boolean;\r\n}\r\n\r\nconst THEME_LABELS: Record<ThemeType, string> = {\r\n  purple: 'Púrpura',\r\n  ocean: 'Océano',\r\n  sunset: 'Atardecer',\r\n  forest: 'Bosque',\r\n  cosmic: 'Cósmico',\r\n};\r\n\r\nexport const ThemeSelect: React.FC<ThemeSelectProps> = ({ value, onChange, isDarkMode }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  // Attach listeners only while the menu is open to avoid interference with the toggle click\r\n  useEffect(() => {\r\n    if (!open) return;\r\n\r\n    const onDocClick = (e: MouseEvent) => {\r\n      if (!ref.current) return;\r\n      if (!ref.current.contains(e.target as Node)) setOpen(false);\r\n    };\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') setOpen(false);\r\n    };\r\n\r\n    document.addEventListener('mousedown', onDocClick);\r\n    document.addEventListener('keydown', onKey);\r\n    return () => {\r\n      document.removeEventListener('mousedown', onDocClick);\r\n      document.removeEventListener('keydown', onKey);\r\n    };\r\n  }, [open]);\r\n\r\n  const gradient = useMemo(() => THEME_ACCENT_GRADIENT_HEX[value], [value]);\r\n\r\n  const buttonStyle: React.CSSProperties = {\r\n    // subtle theme tint + translucent base to match light/dark\r\n    backgroundImage: `linear-gradient(135deg, ${gradient.start}22, ${gradient.end}1A)`,\r\n    borderColor: isDarkMode ? 'rgba(255,255,255,0.12)' : `${gradient.start}55`,\r\n  };\r\n\r\n  const listStyle: React.CSSProperties = {\r\n    backgroundImage: `linear-gradient(135deg, ${gradient.start}29, ${gradient.end}1F)`,\r\n    borderColor: isDarkMode ? 'rgba(255,255,255,0.12)' : `${gradient.start}55`,\r\n  };\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative inline-block pointer-events-auto\">\r\n      <button\r\n        type=\"button\"\r\n        className={`h-8 px-3 pr-8 rounded-xl text-sm flex items-center gap-2 border backdrop-blur-lg ${isDarkMode ? 'text-white' : 'text-gray-800'}`}\r\n        style={buttonStyle}\r\n        onClick={() => setOpen(o => !o)}\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n      >\r\n        <span className=\"text-lg leading-none\">{THEME_EMOJI[value]}</span>\r\n        <span className=\"font-medium\">{THEME_LABELS[value]}</span>\r\n        <span className={`absolute right-2 ${isDarkMode ? 'text-white/80' : 'text-gray-700/80'}`}>▾</span>\r\n      </button>\r\n\r\n      {open && (\r\n        <div\r\n          className={`absolute z-[9999] mt-2 w-44 rounded-xl shadow-2xl border overflow-hidden ${isDarkMode ? 'backdrop-blur-xl' : 'backdrop-blur-xl'}`}\r\n          style={listStyle}\r\n          role=\"listbox\"\r\n        >\r\n          {(Object.keys(THEME_LABELS) as ThemeType[]).map((k) => {\r\n            const selected = k === value;\r\n            return (\r\n              <button\r\n                key={k}\r\n                type=\"button\"\r\n                role=\"option\"\r\n                aria-selected={selected}\r\n                onClick={() => { onChange(k); setOpen(false); }}\r\n                className={`w-full text-left px-3 py-2 flex items-center gap-2 text-sm transition-colors ${\r\n                  isDarkMode ? 'hover:bg-white/10 text-white' : 'hover:bg-black/10 text-gray-800'\r\n                } ${selected ? (isDarkMode ? 'bg-white/10' : 'bg-black/10') : ''}`}\r\n              >\r\n                <span className=\"text-lg\">{THEME_EMOJI[k]}</span>\r\n                <span className=\"font-medium\">{THEME_LABELS[k]}</span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemeSelect;\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\n\r\ninterface ClockTimePickerProps {\r\n  value: string; // expects \"HH:MM\" in 24h format\r\n  onChange: (next: string) => void;\r\n  isDarkMode: boolean;\r\n  use12Hour?: boolean; // UI display only; output stays 24h string\r\n  className?: string;\r\n  label?: string;\r\n}\r\n\r\nfunction clamp(n: number, min: number, max: number) {\r\n  return Math.max(min, Math.min(max, n));\r\n}\r\n\r\nfunction parse24(value: string) {\r\n  const match = /^(\\d{1,2}):(\\d{2})$/.exec(value || '');\r\n  let h = 8, m = 0;\r\n  if (match) {\r\n    h = clamp(parseInt(match[1], 10), 0, 23);\r\n    m = clamp(parseInt(match[2], 10), 0, 59);\r\n  } else {\r\n    const now = new Date();\r\n    h = now.getHours();\r\n    m = now.getMinutes();\r\n  }\r\n  return { h, m };\r\n}\r\n\r\nfunction to24String(h: number, m: number) {\r\n  const hh = h.toString().padStart(2, '0');\r\n  const mm = m.toString().padStart(2, '0');\r\n  return `${hh}:${mm}`;\r\n}\r\n\r\nfunction toDisplay(h24: number, use12: boolean) {\r\n  if (!use12) {\r\n    return { hours: h24, ampm: '' as 'AM' | 'PM' | '' };\r\n  }\r\n  const ampm: 'AM' | 'PM' = h24 >= 12 ? 'PM' : 'AM';\r\n  let h12 = h24 % 12;\r\n  if (h12 === 0) h12 = 12;\r\n  return { hours: h12, ampm };\r\n}\r\n\r\nfunction fromDisplay(hours: number, m: number, ampm: 'AM' | 'PM' | '' , use12: boolean) {\r\n  if (!use12) return to24String(hours, m);\r\n  let h24 = hours % 12;\r\n  if (ampm === 'PM') h24 += 12;\r\n  return to24String(h24, m);\r\n}\r\n\r\nexport const ClockTimePicker: React.FC<ClockTimePickerProps> = ({\r\n  value,\r\n  onChange,\r\n  isDarkMode,\r\n  use12Hour = true,\r\n  className = '',\r\n  label = 'Selecciona una hora',\r\n}) => {\r\n  const { h, m } = useMemo(() => parse24(value), [value]);\r\n  const disp = useMemo(() => toDisplay(h, use12Hour), [h, use12Hour]);\r\n  const [open, setOpen] = useState(false);\r\n  const [selHour, setSelHour] = useState(disp.hours);\r\n  const [selMin, setSelMin] = useState(m);\r\n  const [selAmpm, setSelAmpm] = useState<'AM' | 'PM' | ''>(disp.ampm);\r\n  const [mode, setMode] = useState<'hours' | 'minutes'>('hours');\r\n  const rootRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const d = toDisplay(h, use12Hour);\r\n    setSelHour(d.hours);\r\n    setSelMin(m);\r\n    setSelAmpm(d.ampm);\r\n  }, [value, use12Hour, h, m]);\r\n\r\n  useEffect(() => {\r\n    const onDocClick = (e: MouseEvent) => {\r\n      if (!rootRef.current) return;\r\n      if (!rootRef.current.contains(e.target as Node)) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    const onEsc = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') setOpen(false);\r\n    };\r\n    document.addEventListener('mousedown', onDocClick);\r\n    document.addEventListener('keydown', onEsc);\r\n    return () => {\r\n      document.removeEventListener('mousedown', onDocClick);\r\n      document.removeEventListener('keydown', onEsc);\r\n    };\r\n  }, []);\r\n\r\n  const commit = (hTmp = selHour, mTmp = selMin, aTmp = selAmpm) => {\r\n    const next = fromDisplay(hTmp, mTmp, aTmp, use12Hour);\r\n    onChange(next);\r\n  };\r\n\r\n  const ringColor = isDarkMode ? 'bg-white/10' : 'bg-black/10';\r\n  const textColor = isDarkMode ? 'text-white' : 'text-gray-800';\r\n  const subText = isDarkMode ? 'text-gray-300' : 'text-gray-700';\r\n  const border = isDarkMode ? 'border-white/20' : 'border-gray-200';\r\n\r\n  const radius = 108; // px (bigger dial, leaves margin for number chips)\r\n  const center = 130; // container is 260x260\r\n\r\n  const hourNumbers = useMemo(() => {\r\n    const count = use12Hour ? 12 : 24;\r\n    const arr = Array.from({ length: count }, (_, i) => (use12Hour ? (i + 1) : i));\r\n    return arr;\r\n  }, [use12Hour]);\r\n\r\n  const minuteNumbers = useMemo(() => Array.from({ length: 12 }, (_, i) => i * 5), []);\r\n\r\n  const angleForHour = (hr: number) => {\r\n    const base = use12Hour ? (hr % 12) : hr; // 0..11 or 0..23\r\n    const steps = use12Hour ? 12 : 24;\r\n    return (base / steps) * 360 - 90; // start at top\r\n  };\r\n  const angleForMinute = (mm: number) => (mm / 60) * 360 - 90;\r\n\r\n  const renderDial = () => {\r\n    const isHours = mode === 'hours';\r\n    const items = isHours ? hourNumbers : minuteNumbers;\r\n    const selected = isHours ? selHour : selMin;\r\n    const angle = isHours ? angleForHour(use12Hour ? selHour % 12 : selHour) : angleForMinute(selMin);\r\n\r\n    return (\r\n  <div className={`relative w-[260px] h-[260px] rounded-full ${ringColor} border ${border} mx-auto select-none`}>\r\n        {/* Pointer */}\r\n        <div\r\n          className=\"absolute left-1/2 top-1/2 origin-center\"\r\n          style={{\r\n            transform: `translate(-50%, -50%) rotate(${angle}deg)`,\r\n          }}\r\n        >\r\n          {(() => {\r\n            const pointerLen = radius; // end dot center exactly at ring radius\r\n            const dotSize = 10; // px diameter\r\n            return (\r\n              <>\r\n                <div\r\n                  className={`${isDarkMode ? 'bg-white/70' : 'bg-gray-700/70'} absolute`}\r\n                  style={{\r\n                    width: `${pointerLen}px`,\r\n                    height: '2px',\r\n                    left: 0,\r\n                    top: '50%',\r\n                    transform: 'translateY(-50%)',\r\n                  }}\r\n                />\r\n                <div\r\n                  className={`${isDarkMode ? 'bg-white' : 'bg-gray-800'} absolute rounded-full`}\r\n                  style={{\r\n                    width: `${dotSize}px`,\r\n                    height: `${dotSize}px`,\r\n                    left: `${pointerLen}px`,\r\n                    top: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                  }}\r\n                />\r\n              </>\r\n            );\r\n          })()}\r\n        </div>\r\n        {/* Numbers */}\r\n        {items.map((val, idx) => {\r\n          const steps = isHours ? (use12Hour ? 12 : 24) : 12; // 12 positions for minutes (0..55)\r\n          const angleDeg = (idx / steps) * 360 - 90;\r\n          const rad = (angleDeg * Math.PI) / 180;\r\n          const x = center + radius * Math.cos(rad);\r\n          const y = center + radius * Math.sin(rad);\r\n          const isSel = selected === val || (!use12Hour && isHours && selected === val);\r\n          // Different look for minutes vs hours: minutes show small text labels\r\n          const basePos = 'absolute -translate-x-1/2 -translate-y-1/2 flex items-center justify-center transition';\r\n          const hourBtn = `${basePos} w-10 h-10 rounded-full text-sm font-semibold ${isSel ? 'bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg' : ringColor + ' ' + textColor}`;\r\n          const minuteBtn = isSel\r\n            ? `${basePos} w-12 h-12 rounded-full font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg`\r\n            : `${basePos} w-8 h-8 bg-transparent ${isDarkMode ? 'text-gray-300' : 'text-gray-700'} text-xs`;\r\n          return (\r\n            <button\r\n              type=\"button\"\r\n              key={`${mode}-${val}`}\r\n              onClick={() => {\r\n                if (isHours) {\r\n                  setSelHour(val);\r\n                  setMode('minutes');\r\n                } else {\r\n                  setSelMin(val);\r\n                }\r\n              }}\r\n              className={isHours ? hourBtn : minuteBtn}\r\n              style={{ left: x, top: y }}\r\n            >\r\n              {isHours ? (use12Hour ? val : val.toString().padStart(2, '0')) : val.toString().padStart(2, '0')}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div ref={rootRef} className={`w-full ${className}`}>\r\n      {label && (\r\n        <label className={`block text-sm font-medium mb-2 ${subText}`}>\r\n          {label}\r\n        </label>\r\n      )}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => { setMode('hours'); setOpen((o) => !o); }}\r\n        className={`w-full flex items-center justify-between px-4 py-3 rounded-xl border ${border} ${isDarkMode ? 'bg-white/10' : 'bg-white/80'} backdrop-blur-lg hover:shadow-lg transition-all`}\r\n        aria-haspopup=\"dialog\"\r\n        aria-expanded={open}\r\n      >\r\n        <div className={`flex items-center gap-3 ${textColor}`}>\r\n          <span className=\"text-xl\">⏰</span>\r\n          <span className=\"font-mono text-lg font-bold tracking-wider\">\r\n            {to24String(h, m)}\r\n          </span>\r\n          {use12Hour && (\r\n            <span className={`px-2 py-1 rounded-lg text-xs ${isDarkMode ? 'bg-white/10 text-white' : 'bg-black/10 text-gray-800'}`}>{disp.ampm}</span>\r\n          )}\r\n        </div>\r\n        <span className=\"opacity-70\">▾</span>\r\n      </button>\r\n\r\n      {open && (\r\n        <div className={`mt-2 p-4 rounded-2xl border ${border} ${isDarkMode ? 'bg-white/10' : 'bg-white/80'} backdrop-blur-xl shadow-2xl z-50 relative`}> \r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"flex items-baseline gap-2\">\r\n              <button type=\"button\" className={`font-mono text-4xl font-bold ${textColor} ${mode==='hours' ? '' : 'opacity-70'}`} onClick={() => setMode('hours')}>\r\n                {use12Hour ? (selHour.toString().padStart(2,'0')) : selHour.toString().padStart(2,'0')}\r\n              </button>\r\n              <span className={`font-mono text-4xl font-bold ${textColor}`}>:</span>\r\n              <button type=\"button\" className={`font-mono text-4xl font-bold ${textColor} ${mode==='minutes' ? '' : 'opacity-70'}`} onClick={() => setMode('minutes')}>\r\n                {selMin.toString().padStart(2,'0')}\r\n              </button>\r\n            </div>\r\n            {use12Hour && (\r\n              <div className=\"flex flex-col gap-1\">\r\n                <button type=\"button\" className={`px-2 py-1 rounded ${selAmpm==='AM' ? 'bg-purple-600 text-white' : ringColor + ' ' + textColor}`} onClick={() => setSelAmpm('AM')}>a.m.</button>\r\n                <button type=\"button\" className={`px-2 py-1 rounded ${selAmpm==='PM' ? 'bg-purple-600 text-white' : ringColor + ' ' + textColor}`} onClick={() => setSelAmpm('PM')}>p.m.</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {renderDial()}\r\n\r\n          {/* Footer */}\r\n          <div className=\"mt-4 flex items-center justify-center gap-3\">\r\n            <button type=\"button\" className={`px-3 py-2 rounded-lg ${ringColor} ${textColor} hover:opacity-90`} onClick={() => setOpen(false)}>\r\n              Cancelar\r\n            </button>\r\n            <button type=\"button\" className={`px-3 py-2 rounded-lg ${ringColor} ${textColor} hover:opacity-90`} onClick={() => setMode(mode === 'hours' ? 'minutes' : 'hours')}>\r\n              {mode === 'hours' ? 'Minutos' : 'Horas'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:opacity-95\"\r\n              onClick={() => { commit(); setOpen(false); }}\r\n            >\r\n              Aceptar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClockTimePicker;\r\n","import React from 'react';\r\n\r\ninterface TimeFormatToggleProps {\r\n  is24Hour: boolean;\r\n  onToggle: () => void;\r\n  isDarkMode?: boolean;\r\n  accentHex?: string; // theme accent as hex for background tint\r\n  className?: string;\r\n}\r\n\r\nexport const TimeFormatToggle: React.FC<TimeFormatToggleProps> = ({\r\n  is24Hour,\r\n  onToggle,\r\n  isDarkMode = true,\r\n  accentHex,\r\n  className = '',\r\n}) => {\r\n  const trackBg = isDarkMode ? 'bg-white/10' : 'bg-black/10';\r\n  const borderClr = isDarkMode ? 'border-white/20' : 'border-black/10';\r\n  const textClr = isDarkMode ? 'text-white' : 'text-gray-800';\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onToggle}\r\n      aria-pressed={is24Hour}\r\n      aria-label=\"Cambiar formato horario\"\r\n      className={`relative inline-flex items-center justify-between ${trackBg} ${borderClr} ${textClr} rounded-full h-9 w-28 px-3 select-none border overflow-hidden ${className}`}\r\n    >\r\n      {/* Sliding oval highlight behind the text */}\r\n      <div\r\n        className={`absolute top-1 bottom-1 w-[52%] rounded-full transition-all duration-200`}\r\n        style={{\r\n          left: is24Hour ? 4 : undefined,\r\n          right: is24Hour ? undefined : 4,\r\n          background: accentHex\r\n            ? `linear-gradient(135deg, ${accentHex}33, ${accentHex}55)`\r\n            : (isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)'),\r\n          boxShadow: isDarkMode ? 'inset 0 0 0 1px rgba(255,255,255,0.15)' : 'inset 0 0 0 1px rgba(0,0,0,0.08)'\r\n        }}\r\n      />\r\n      <span className=\"text-sm font-semibold z-10\">24h</span>\r\n      <span className=\"text-sm font-semibold z-10\">12h</span>\r\n    </button>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Button } from '../ui';\r\n\r\ninterface WelcomeModalProps {\r\n  isDarkMode: boolean;\r\n  onInstall: () => void;\r\n  onDismiss: () => void;\r\n}\r\n\r\nconst getPath = (path: string): string => {\r\n  const base = '/AlarmaPro/';\r\n  return `${base}${path}`;\r\n};\r\n\r\nexport const WelcomeModal: React.FC<WelcomeModalProps> = ({\r\n  isDarkMode,\r\n  onInstall,\r\n  onDismiss\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  // Check if the user is visiting for the first time\r\n  useEffect(() => {\r\n    const hasVisited = localStorage.getItem('alarmapro_welcomed');\r\n    if (!hasVisited) {\r\n      setIsOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleDismiss = () => {\r\n    localStorage.setItem('alarmapro_welcomed', 'true');\r\n    setIsOpen(false);\r\n    onDismiss();\r\n  };\r\n\r\n  const handleInstall = () => {\r\n    localStorage.setItem('alarmapro_welcomed', 'true');\r\n    setIsOpen(false);\r\n    onInstall();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleDismiss}\r\n      title=\"¡Bienvenido a AlarmaPro!\"\r\n      maxWidthClass=\"max-w-sm\"\r\n    >\r\n      <div className=\"text-center px-1\">\r\n        <div className=\"flex justify-center mb-4\">\r\n          <div className=\"relative\">\r\n            <img \r\n              src={getPath('clock1.png')} \r\n              alt=\"AlarmaPro Logo\" \r\n              className=\"w-24 h-24 object-contain filter drop-shadow-lg animate-pulse\" \r\n            />\r\n            <div className=\"absolute -inset-1 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 opacity-30 blur-xl animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <h2 className=\"text-xl font-bold text-white mb-3\">\r\n          Tu sistema de alarmas inteligente\r\n        </h2>\r\n\r\n        <p className=\"text-gray-200 mb-4 text-sm\">\r\n          Gracias por usar AlarmaPro, la aplicación que te ayuda a organizar tu tiempo con estilo.\r\n          Nunca fue tan fácil configurar alarmas personalizadas.\r\n        </p>\r\n\r\n        <div className=\"flex flex-col gap-2 justify-center mb-2\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={handleDismiss}\r\n            className=\"w-full py-2\"\r\n            isDarkMode={isDarkMode}\r\n          >\r\n            Continuar a la app\r\n          </Button>\r\n          \r\n          <Button\r\n            variant=\"primary\"\r\n            onClick={handleInstall}\r\n            className=\"w-full py-2\"\r\n            isDarkMode={isDarkMode}\r\n          >\r\n            Instalar aplicación\r\n          </Button>\r\n        </div>\r\n\r\n        <p className=\"mt-3 text-xs text-gray-400\">\r\n          Puedes instalar la aplicación en cualquier momento desde el menú del navegador\r\n        </p>\r\n        \r\n        <p className=\"mt-2 text-2xs text-gray-500 pt-1 border-t border-gray-700\">\r\n          Diseñado por Axon.app y IA\r\n        </p>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Alarm, ThemeType } from '../../types';\r\nimport { formatAlarmTime, getPriorityColor, getPriorityLabel } from '../../utils';\r\nimport { ALARM_SOUNDS, WEEK_DAYS } from '../../constants';\r\nimport { Card, Button } from '../ui';\r\n// Icons would be imported here: import { Settings, Play, Pause, Trash2, Volume2 } from 'lucide-react';\r\n\r\ninterface AlarmItemProps {\r\n  alarm: Alarm;\r\n  isDarkMode: boolean;\r\n  is24HourFormat: boolean;\r\n  theme: {\r\n    accent: string;\r\n  };\r\n  themeType: ThemeType;\r\n  onEdit: (alarm: Alarm) => void;\r\n  onToggle: (id: number) => void;\r\n  onDelete: (id: number) => void;\r\n}\r\n\r\nexport const AlarmItem: React.FC<AlarmItemProps> = ({\r\n  alarm,\r\n  isDarkMode,\r\n  is24HourFormat,\r\n  themeType,\r\n  onEdit,\r\n  onToggle,\r\n  onDelete\r\n}) => {\r\n  return (\r\n    <Card \r\n      className=\"group p-4 sm:p-6 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-2xl\"\r\n      isDarkMode={isDarkMode}\r\n    >\r\n      <div className=\"flex items-start sm:items-center justify-between gap-3 sm:gap-4\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-baseline gap-3 sm:gap-4 mb-2 flex-wrap\">\r\n            <div className={`text-3xl sm:text-4xl font-mono font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'} tracking-wide`}>\r\n              {formatAlarmTime(alarm.time, is24HourFormat)}\r\n            </div>\r\n            \r\n            <div className={`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${getPriorityColor(alarm.priority, isDarkMode)} text-white shadow-lg`}>\r\n              {getPriorityLabel(alarm.priority)}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className={`text-lg sm:text-xl font-semibold mb-2 sm:mb-3 ${isDarkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n            {alarm.label}\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm flex-wrap\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-xl\">🔊</span>\r\n              <span className={`${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                {ALARM_SOUNDS[alarm.sound]?.name}\r\n              </span>\r\n            </div>\r\n            \r\n            {alarm.vibrate && (\r\n              <span className={`px-2 py-1 rounded-md text-xs ${isDarkMode ? 'bg-blue-600/30 text-blue-300' : 'bg-blue-200 text-blue-800'}`}>\r\n                📳 Vibrar\r\n              </span>\r\n            )}\r\n            \r\n            {alarm.gradualWake && (\r\n              <span className={`px-2 py-1 rounded-md text-xs ${isDarkMode ? 'bg-orange-600/30 text-orange-300' : 'bg-orange-200 text-orange-800'}`}>\r\n                🌅 Gradual\r\n              </span>\r\n            )}\r\n            \r\n            {alarm.challengeMode && (\r\n              <span className={`px-2 py-1 rounded-md text-xs ${isDarkMode ? 'bg-red-600/30 text-red-300' : 'bg-red-200 text-red-800'}`}>\r\n                🧩 Desafío\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          {alarm.days.length > 0 && (\r\n            <div className=\"flex gap-1.5 sm:gap-2 mt-2 sm:mt-3 flex-wrap\">\r\n              {alarm.days.map(day => (\r\n                <span\r\n                  key={day}\r\n                  className={`px-2.5 py-1 rounded-lg text-xs font-bold ${isDarkMode ? 'bg-purple-600/30 text-purple-300' : 'bg-purple-600/20 text-purple-800'} shadow-sm`}\r\n                >\r\n                  {WEEK_DAYS[day]}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-1.5 sm:gap-2 self-start sm:self-center\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => onEdit(alarm)}\r\n            className=\"p-3 sm:p-4 hover:scale-110\"\r\n            title=\"Editar alarma\"\r\n            isDarkMode={isDarkMode}\r\n            themeType={themeType}\r\n          >\r\n            {/* <Settings className=\"w-5 h-5 group-hover:rotate-90 transition-transform duration-300\" /> */}\r\n            ⚙️\r\n          </Button>\r\n          \r\n          <Button\r\n            variant={alarm.enabled ? \"primary\" : \"ghost\"}\r\n            size=\"sm\"\r\n            onClick={() => onToggle(alarm.id)}\r\n            className=\"p-3 sm:p-4 hover:scale-110\"\r\n            title={alarm.enabled ? 'Desactivar' : 'Activar'}\r\n            isDarkMode={isDarkMode}\r\n            themeType={themeType}\r\n          >\r\n            {alarm.enabled ? '⏸️' : '▶️'}\r\n          </Button>\r\n          \r\n          <Button\r\n            variant=\"danger\"\r\n            size=\"sm\"\r\n            onClick={() => onDelete(alarm.id)}\r\n            className=\"p-3 sm:p-4 hover:scale-110\"\r\n            title=\"Eliminar alarma\"\r\n            isDarkMode={isDarkMode}\r\n            themeType={themeType}\r\n          >\r\n            🗑️\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { useMemo, useState } from 'react';\r\nimport { Alarm, ThemeType } from '../../types';\r\nimport { WEEK_DAYS, DEFAULT_ALARM } from '../../constants';\r\nimport { validateAlarmForm } from '../../utils';\r\nimport { Card, Button, Input } from '../ui';\r\nimport { ClockTimePicker, AlarmSounds } from '../common';\r\n\r\ninterface AlarmFormProps {\r\n  alarm?: Alarm;\r\n  isDarkMode: boolean;\r\n  theme: {\r\n    accent: string;\r\n  };\r\n  themeType: ThemeType;\r\n  onSave: (alarm: Omit<Alarm, 'id'>) => void;\r\n  onCancel: () => void;\r\n  alarmVolume: number;\r\n  onVolumeChange: (volume: number) => void;\r\n  is24HourFormat?: boolean;\r\n}\r\n\r\nexport const AlarmForm: React.FC<AlarmFormProps> = ({\r\n  alarm,\r\n  isDarkMode,\r\n  theme,\r\n  themeType,\r\n  onSave,\r\n  onCancel,\r\n  alarmVolume,\r\n  onVolumeChange,\r\n  is24HourFormat = true\r\n}) => {\r\n  const accentHex = useMemo(() => {\r\n    switch (theme.accent) {\r\n      case 'purple-600': return '#9333EA';\r\n      case 'blue-600': return '#2563EB';\r\n      case 'orange-600': return '#EA580C';\r\n      case 'green-600': return '#16A34A';\r\n      case 'violet-600': return '#7C3AED';\r\n      default: return '#9333EA';\r\n    }\r\n  }, [theme.accent]);\r\n  const [formData, setFormData] = useState<Omit<Alarm, 'id'>>(\r\n    alarm ? {\r\n      time: alarm.time,\r\n      label: alarm.label,\r\n      days: [...alarm.days],\r\n      sound: alarm.sound,\r\n      enabled: alarm.enabled,\r\n      priority: alarm.priority,\r\n      vibrate: alarm.vibrate,\r\n      gradualWake: alarm.gradualWake,\r\n      challengeMode: alarm.challengeMode\r\n    } : { ...DEFAULT_ALARM }\r\n  );\r\n\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    const validationErrors = validateAlarmForm(formData);\r\n    if (validationErrors.length > 0) {\r\n      setErrors(validationErrors);\r\n      return;\r\n    }\r\n    \r\n    setErrors([]);\r\n    onSave(formData);\r\n  };\r\n\r\n  const updateField = <K extends keyof typeof formData>(\r\n    field: K,\r\n    value: typeof formData[K]\r\n  ) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const toggleDay = (day: number) => {\r\n    const days = formData.days.includes(day)\r\n      ? formData.days.filter(d => d !== day)\r\n      : [...formData.days, day];\r\n    updateField('days', days);\r\n  };\r\n\r\n  return (\r\n    <Card \r\n      className=\"max-w-lg mx-auto p-5 sm:p-8\"\r\n      isDarkMode={isDarkMode}\r\n    >\r\n      <h3 className={`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${isDarkMode ? 'text-white' : 'text-gray-800'} text-center`}>\r\n        {alarm ? '✏️ Editar Alarma' : '✨ Crear Nueva Alarma'}\r\n      </h3>\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-4 sm:space-y-6\">\r\n        {/* Errors */}\r\n        {errors.length > 0 && (\r\n          <div className=\"p-4 bg-red-500/20 border border-red-500/50 rounded-xl\">\r\n            {errors.map((error, index) => (\r\n              <p key={index} className=\"text-red-400 text-sm\">{error}</p>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          <ClockTimePicker\r\n            label=\"⏰ Hora\"\r\n            value={formData.time}\r\n            onChange={(val) => updateField('time', val)}\r\n            isDarkMode={isDarkMode}\r\n            use12Hour={!is24HourFormat}\r\n          />\r\n        </div>\r\n\r\n        <Input\r\n          type=\"text\"\r\n          label=\"🏷️ Etiqueta\"\r\n          placeholder=\"Ej: Reunión importante, Ejercicio, Medicamento...\"\r\n          value={formData.label}\r\n          onChange={(e) => updateField('label', e.target.value)}\r\n          className={`${isDarkMode ? 'bg-white/10 text-white border-white/20 placeholder-gray-400' : 'bg-white/70 text-gray-800 border-gray-300 placeholder-gray-500'}`}\r\n        />\r\n\r\n        {/* Days of the week */}\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-3 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            📅 Días de la semana\r\n          </label>\r\n          <div className=\"grid grid-cols-7 gap-1.5 sm:gap-2\">\r\n            {WEEK_DAYS.map((day, index) => (\r\n              <button\r\n                key={day}\r\n                type=\"button\"\r\n                onClick={() => toggleDay(index)}\r\n                className={`flex items-center justify-center h-10 sm:h-11 px-3 rounded-xl text-sm leading-none font-bold transition-all duration-300 ${\r\n                  formData.days.includes(index)\r\n                    ? `bg-gradient-to-r from-${theme.accent} to-purple-600 text-white shadow-xl`\r\n                    : isDarkMode\r\n                      ? 'bg-white/10 text-gray-300 hover:bg-white/20'\r\n                      : 'bg-white/50 text-gray-700 hover:bg-white/70'\r\n                }`}\r\n              >\r\n                {day}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n          <div className=\"sm:col-span-1\">\r\n            <AlarmSounds\r\n              selectedSound={typeof formData.sound === 'string' ? formData.sound : ''}\r\n              onSoundChange={(url) => updateField('sound', url)}\r\n              className=\"\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"sm:col-span-1\">\r\n            <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              🔊 Volumen\r\n            </label>\r\n            <input\r\n              type=\"range\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              value={alarmVolume}\r\n              onChange={(e) => onVolumeChange(Number(e.target.value))}\r\n              className={`w-full h-3 rounded-full appearance-none cursor-pointer outline-none`}\r\n              style={{\r\n                background: `linear-gradient(to right, ${accentHex} ${alarmVolume}%, ${isDarkMode ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.15)'} ${alarmVolume}%)`,\r\n                accentColor: accentHex as any,\r\n                color: accentHex\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Advanced options */}\r\n  <div className=\"space-y-3\">\r\n          <h4 className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n            ⚙️ Opciones Avanzadas\r\n          </h4>\r\n          \r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\r\n            {[\r\n              { key: 'vibrate', label: '📳 Vibrar' },\r\n              { key: 'gradualWake', label: '🌅 Despertar Gradual' },\r\n              { key: 'challengeMode', label: '🧩 Modo Desafío' }\r\n            ].map((option) => (\r\n              <label key={option.key} className=\"flex items-center gap-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData[option.key as keyof typeof formData] as boolean}\r\n                  onChange={(e) => updateField(option.key as keyof typeof formData, e.target.checked as any)}\r\n                  className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n                />\r\n                <span className={`${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  {option.label}\r\n                </span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n    <div className=\"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6\">\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"primary\"\r\n      className=\"flex-1 py-3 sm:py-4 text-base sm:text-lg\"\r\n            isDarkMode={isDarkMode}\r\n            themeType={themeType}\r\n          >\r\n            {alarm ? '✅ Actualizar' : '💾 Guardar'}\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"secondary\"\r\n            onClick={onCancel}\r\n      className=\"flex-1 py-3 sm:py-4 text-base sm:text-lg\"\r\n            isDarkMode={isDarkMode}\r\n            themeType={themeType}\r\n          >\r\n            ❌ Cancelar\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Alarm, ThemeType } from '../../types';\r\nimport { AlarmItem } from './AlarmItem';\r\n// Import { Clock, Sparkles } from 'lucide-react';\r\n\r\ninterface AlarmListProps {\r\n  alarms: Alarm[];\r\n  isDarkMode: boolean;\r\n  is24HourFormat: boolean;\r\n  theme: {\r\n    accent: string;\r\n  };\r\n  themeType: ThemeType;\r\n  onEdit: (alarm: Alarm) => void;\r\n  onToggle: (id: number) => void;\r\n  onDelete: (id: number) => void;\r\n}\r\n\r\nexport const AlarmList: React.FC<AlarmListProps> = ({\r\n  alarms,\r\n  isDarkMode,\r\n  is24HourFormat,\r\n  theme,\r\n  themeType,\r\n  onEdit,\r\n  onToggle,\r\n  onDelete\r\n}) => {\r\n  if (alarms.length === 0) {\r\n    return (\r\n      <div className={`text-center py-10 sm:py-16 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n        <div className=\"relative\">\r\n          {/* <Clock className=\"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse\" /> */}\r\n          <div className=\"w-24 h-24 mx-auto mb-6 opacity-50 animate-pulse text-6xl\">⏰</div>\r\n          {/* <Sparkles className=\"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping\" /> */}\r\n          <div className=\"absolute top-0 right-1/2 w-6 h-6 text-yellow-400 animate-ping text-2xl\">✨</div>\r\n        </div>\r\n  <p className=\"text-xl sm:text-2xl font-semibold mb-2\">No hay alarmas configuradas</p>\r\n  <p className=\"text-base sm:text-lg mb-2\">¡Crea tu primera alarma inteligente!</p>\r\n  <p className=\"text-sm text-gray-400\">Usa los botones de arriba para empezar.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto space-y-3 sm:space-y-4 px-1 sm:px-0\">\r\n      {alarms.map((alarm) => (\r\n        <AlarmItem\r\n          key={alarm.id}\r\n          alarm={alarm}\r\n          isDarkMode={isDarkMode}\r\n          is24HourFormat={is24HourFormat}\r\n          theme={theme}\r\n          themeType={themeType}\r\n          onEdit={onEdit}\r\n          onToggle={onToggle}\r\n          onDelete={onDelete}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Alarm } from '../types';\r\nimport { useAlarmManager, useCurrentTime, useSettings, useSnooze, useDeviceStatus } from '../hooks';\r\nimport { THEMES, THEME_ACCENT_HEX, QUICK_ALARMS, SNOOZE_DURATION, MAX_SNOOZE_COUNT } from '../constants';\r\nimport { createQuickAlarm, createSnoozeAlarm } from '../utils';\r\n\r\n// Función para obtener la ruta completa de recursos estáticos\r\nconst getPath = (path: string): string => {\r\n  const base = '/AlarmaPro/';\r\n  return `${base}${path}`;\r\n};\r\nimport { DigitalClock, ParticleBackground, TimeFormatToggle, ThemeSelect, WelcomeModal } from './common';\r\nimport { ALARM_SOUNDS as SOUND_LIST } from '../constants/alarmSounds';\r\nimport { AlarmList, AlarmForm } from './alarm';\r\nimport { Card, Button, Modal } from './ui';\r\n\r\nconst ModernAlarmSystem: React.FC = () => {\r\n  const currentTime = useCurrentTime();\r\n  const { settings, toggleDarkMode, toggleTimeFormat, toggleVoice, setTheme, setVolume } = useSettings();\r\n  const { alarms, activeAlarm, addAlarm, updateAlarm, deleteAlarm, toggleAlarm, dismissAlarm } = useAlarmManager();\r\n  const { isSnoozing, snoozeCount, canSnooze, snooze, resetSnooze } = useSnooze(MAX_SNOOZE_COUNT);\r\n  const device = useDeviceStatus();\r\n\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [showQuickAlarms, setShowQuickAlarms] = useState(false);\r\n  const [editingAlarm, setEditingAlarm] = useState<Alarm | null>(null);\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);\r\n  \r\n  // Logo estático (sin efecto 3D)\r\n\r\n  const currentTheme = THEMES[settings.theme];\r\n\r\n  const handleAddQuickAlarm = (minutes: number) => {\r\n    const alarmData = createQuickAlarm(minutes);\r\n    addAlarm(alarmData);\r\n    setShowQuickAlarms(false);\r\n  };\r\n\r\n  const handleSnoozeAlarm = () => {\r\n    if (activeAlarm && canSnooze) {\r\n      const snoozeData = createSnoozeAlarm(activeAlarm, snoozeCount, SNOOZE_DURATION);\r\n      addAlarm(snoozeData);\r\n      snooze();\r\n      dismissAlarm();\r\n    }\r\n  };\r\n\r\n  const handleSaveAlarm = (alarmData: Omit<Alarm, 'id'>) => {\r\n    if (editingAlarm) {\r\n      updateAlarm(editingAlarm.id, alarmData);\r\n    } else {\r\n      addAlarm(alarmData);\r\n    }\r\n    setEditingAlarm(null);\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  const handleEditAlarm = (alarm: Alarm) => {\r\n    setEditingAlarm(alarm);\r\n    setShowAddForm(true);\r\n  };\r\n\r\n  const handleCancelForm = () => {\r\n    setEditingAlarm(null);\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  // Capture the install prompt\r\n  useEffect(() => {\r\n    const handleBeforeInstallPrompt = (e: any) => {\r\n      // Prevent Chrome 67 and earlier from automatically showing the prompt\r\n      e.preventDefault();\r\n      // Stash the event so it can be triggered later\r\n      setDeferredPrompt(e);\r\n    };\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n    };\r\n  }, []);\r\n\r\n  const handleInstallApp = () => {\r\n    if (!deferredPrompt) {\r\n      // Show fallback instructions if prompt not available\r\n      alert(\"Para instalar la aplicación: \\n1. Abre el menú del navegador (los tres puntos)\\n2. Selecciona 'Instalar aplicación' o 'Añadir a pantalla de inicio'\");\r\n      return;\r\n    }\r\n\r\n    // Show the install prompt\r\n    deferredPrompt.prompt();\r\n    \r\n    // Wait for the user to respond to the prompt\r\n    deferredPrompt.userChoice.then((choiceResult: any) => {\r\n      if (choiceResult.outcome === 'accepted') {\r\n        console.log('Usuario aceptó la instalación');\r\n      } else {\r\n        console.log('Usuario rechazó la instalación');\r\n      }\r\n      // Clear the saved prompt since it can't be used again\r\n      setDeferredPrompt(null);\r\n    });\r\n  };\r\n\r\n  // Reproducir sonido de alarma según selección\r\n  useEffect(() => {\r\n    const el = audioRef.current;\r\n    if (!el) return;\r\n\r\n    const getSoundUrl = (soundValue: string | undefined): string => {\r\n      if (!soundValue) return SOUND_LIST[0]?.url || '';\r\n      // Si ya es una ruta/url a un mp3 dentro de la app\r\n      if (/(\\.mp3|^\\/|^https?:)/i.test(soundValue)) return soundValue;\r\n      // Compat: claves antiguas -> usa primera opción como fallback\r\n      return SOUND_LIST[0]?.url || '';\r\n    };\r\n\r\n    if (activeAlarm) {\r\n      const url = getSoundUrl(activeAlarm.sound);\r\n      if (url) {\r\n        try {\r\n          el.pause();\r\n          // Asignar src directo para asegurar carga del archivo\r\n          el.src = url;\r\n          el.loop = true;\r\n          el.volume = Math.max(0, Math.min(1, (settings.alarmVolume ?? 100) / 100));\r\n          // Forzar inicio desde el principio\r\n          el.currentTime = 0;\r\n          void el.play().catch(() => {/* ignorar bloqueo de autoplay si ocurre */});\r\n        } catch {}\r\n      }\r\n    } else {\r\n      el.pause();\r\n    }\r\n  }, [activeAlarm, settings.alarmVolume]);\r\n  \r\n  // Se elimina efecto 3D del logo\r\n\r\n  return (\r\n    <div className={`min-h-screen transition-all duration-1000 ${\r\n      settings.isDarkMode \r\n        ? `bg-gradient-to-br ${currentTheme.from} via-gray-900 ${currentTheme.to}` \r\n        : `bg-gradient-to-br ${currentTheme.light} via-white to-gray-50`\r\n    }`}>\r\n      {/* Enhanced Particle Background */}\r\n      <ParticleBackground count={60} className=\"opacity-40\" />\r\n\r\n      {/* Dynamic background waves with glassmorphism */}\r\n      <div className=\"absolute inset-0 overflow-hidden opacity-30\">\r\n        <div className=\"absolute -inset-10\">\r\n          <div className={`absolute top-0 -left-4 w-96 h-96 bg-gradient-to-r ${currentTheme.from.includes('purple') ? 'from-purple-400' : currentTheme.from.includes('blue') ? 'from-blue-400' : currentTheme.from.includes('orange') ? 'from-orange-400' : currentTheme.from.includes('green') ? 'from-green-400' : 'from-violet-400'} to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse transform rotate-45`}></div>\r\n          <div className=\"absolute top-0 -right-4 w-96 h-96 bg-gradient-to-l from-yellow-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-2000 transform -rotate-45\"></div>\r\n          <div className=\"absolute -bottom-8 left-20 w-96 h-96 bg-gradient-to-t from-pink-400 to-transparent rounded-full mix-blend-multiply filter blur-3xl animate-pulse animation-delay-4000\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8 pb-16 sm:pb-20\">\r\n        {/* Header with controls */}\r\n        <div className=\"text-center mb-6 sm:mb-8\">\r\n          <div className=\"flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6 flex-wrap\">\r\n            <div\r\n              className={`p-2 sm:p-3 rounded-2xl bg-gradient-to-r from-${currentTheme.accent} to-purple-600 backdrop-blur-lg shadow-xl`}\r\n            >\r\n              <img\r\n                src={getPath('clockT.png')}\r\n                alt=\"AlarmaPro Logo\"\r\n                className=\"w-8 h-8 sm:w-9 sm:h-9\"\r\n              />\r\n            </div>\r\n            <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-white\">\r\n              AlarmaPro\r\n            </h1>\r\n          </div>\r\n\r\n          {/* Control panel */}\r\n          <div className=\"flex items-center justify-center gap-2 sm:gap-3 mb-5 sm:mb-6 overflow-x-auto px-1 py-1\" style={{ overflow: 'visible' }}>\r\n            <TimeFormatToggle\r\n              is24Hour={settings.is24HourFormat}\r\n              onToggle={toggleTimeFormat}\r\n              isDarkMode={settings.isDarkMode}\r\n              accentHex={THEME_ACCENT_HEX[settings.theme]}\r\n            />\r\n            <Button\r\n              variant={settings.voiceEnabled ? \"primary\" : \"ghost\"}\r\n              size=\"sm\"\r\n              onClick={toggleVoice}\r\n              title=\"Voz habilitada\"\r\n              className=\"h-9 w-10 p-0 flex items-center justify-center\"\r\n              isDarkMode={settings.isDarkMode}\r\n            >🔊</Button>\r\n\r\n            <ThemeSelect value={settings.theme} onChange={(t) => setTheme(t)} isDarkMode={settings.isDarkMode} />\r\n\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={toggleDarkMode}\r\n              className=\"h-9 w-10 p-0 flex items-center justify-center\"\r\n              isDarkMode={settings.isDarkMode}\r\n            >{settings.isDarkMode ? '☀️' : '🌙'}</Button>\r\n          </div>\r\n\r\n          {/* Digital Clock */}\r\n          <DigitalClock\r\n            currentTime={currentTime}\r\n            is24HourFormat={settings.is24HourFormat}\r\n            isDarkMode={settings.isDarkMode}\r\n            voiceEnabled={settings.voiceEnabled}\r\n            theme={currentTheme}\r\n            themeType={settings.theme}\r\n          />\r\n        </div>\r\n\r\n        {/* Action buttons */}\r\n        <div className=\"w-full max-w-xl mx-auto mb-6 sm:mb-8\">\r\n          <div className=\"flex gap-3 sm:gap-4 overflow-x-auto no-scrollbar whitespace-nowrap\">\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => setShowAddForm(!showAddForm)}\r\n              className=\"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg\"\r\n              isDarkMode={settings.isDarkMode}\r\n            >\r\n              ➕ {editingAlarm ? 'Editar Alarma' : 'Nueva Alarma'}\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={() => setShowQuickAlarms(!showQuickAlarms)}\r\n              className=\"min-w-0 flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-4 text-base sm:text-lg\"\r\n              isDarkMode={settings.isDarkMode}\r\n            >\r\n              ⚡ Alarmas Rápidas\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick alarms */}\r\n        <Modal open={showQuickAlarms} onClose={() => setShowQuickAlarms(false)} title=\"⚡ Alarmas Rápidas\" maxWidthClass=\"max-w-2xl\">\r\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3\">\r\n            {QUICK_ALARMS.map((quick) => (\r\n              <button\r\n                key={quick.minutes}\r\n                onClick={() => handleAddQuickAlarm(quick.minutes)}\r\n                className={`group p-3 sm:p-4 rounded-2xl ${settings.isDarkMode ? 'bg-white/10 hover:bg-white/20' : 'bg-white/50 hover:bg-white/70'} backdrop-blur-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl hover-glow`}\r\n              >\r\n                <div className={`w-7 h-7 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 ${settings.isDarkMode ? 'text-white' : 'text-gray-800'} group-hover:animate-bounce text-xl sm:text-2xl`}>\r\n                  {quick.icon}\r\n                </div>\r\n                <div className={`text-xs sm:text-sm font-semibold ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n                  {quick.label}\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </Modal>\r\n\r\n        {/* Alarm form */}\r\n        <Modal open={showAddForm} onClose={handleCancelForm} title={editingAlarm ? '✏️ Editar Alarma' : '✨ Nueva Alarma'} maxWidthClass=\"max-w-xl\">\r\n          <AlarmForm\r\n            alarm={editingAlarm || undefined}\r\n            isDarkMode={settings.isDarkMode}\r\n            theme={currentTheme}\r\n            themeType={settings.theme}\r\n            onSave={handleSaveAlarm}\r\n            onCancel={handleCancelForm}\r\n            alarmVolume={settings.alarmVolume}\r\n            onVolumeChange={setVolume}\r\n            is24HourFormat={settings.is24HourFormat}\r\n          />\r\n        </Modal>\r\n\r\n        {/* Alarm list */}\r\n        <AlarmList\r\n          alarms={alarms}\r\n          isDarkMode={settings.isDarkMode}\r\n          is24HourFormat={settings.is24HourFormat}\r\n          theme={currentTheme}\r\n          themeType={settings.theme}\r\n          onEdit={handleEditAlarm}\r\n          onToggle={toggleAlarm}\r\n          onDelete={deleteAlarm}\r\n        />\r\n      </div>\r\n\r\n      {/* Active alarm modal */}\r\n      {activeAlarm && (\r\n        <div className=\"fixed inset-0 bg-black/90 backdrop-blur-lg flex items-center justify-center z-50\">\r\n          <Card className=\"relative p-12 text-center max-w-lg mx-4\" isDarkMode={settings.isDarkMode}>\r\n            {/* Visual effects */}\r\n            <div className=\"absolute inset-0 rounded-3xl overflow-hidden\">\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-20\"></div>\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent\"></div>\r\n            </div>\r\n            \r\n            <div className=\"relative z-10\">\r\n              <div className=\"mb-8\">\r\n                <div className=\"relative\">\r\n                  <div className=\"w-20 h-20 mx-auto text-yellow-400 drop-shadow-lg text-6xl\">⚡</div>\r\n                  <div className=\"absolute inset-0 w-20 h-20 mx-auto border-4 border-yellow-400 rounded-full\"></div>\r\n                </div>\r\n              </div>\r\n              \r\n              <h2 className={`text-4xl font-bold mb-4 ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n                🚨 ¡ALARMA ACTIVA!\r\n              </h2>\r\n              \r\n              <p className={`text-2xl font-semibold mb-4 ${settings.isDarkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                {activeAlarm.label}\r\n              </p>\r\n              \r\n              <p className={`text-5xl font-mono font-bold mb-8 ${settings.isDarkMode ? 'text-white' : 'text-gray-800'} tracking-wider`}>\r\n                {activeAlarm.time}\r\n              </p>\r\n\r\n              <div className=\"flex flex-col gap-4\">\r\n                <div className=\"flex gap-4\">\r\n                  {canSnooze && (\r\n                    <Button\r\n                      variant=\"secondary\"\r\n                      onClick={handleSnoozeAlarm}\r\n                      className=\"flex-1 py-4 text-lg flex items-center justify-center gap-2\"\r\n                      isDarkMode={settings.isDarkMode}\r\n                    >\r\n                      🔄 Posponer 5min\r\n                    </Button>\r\n                  )}\r\n                  \r\n                  <Button\r\n                    variant=\"danger\"\r\n                    onClick={() => {\r\n                      dismissAlarm();\r\n                      resetSnooze();\r\n                    }}\r\n                    className=\"flex-1 py-4 text-lg flex items-center justify-center gap-2\"\r\n                    isDarkMode={settings.isDarkMode}\r\n                  >\r\n                    🔇 Desactivar\r\n                  </Button>\r\n                </div>\r\n                \r\n                {snoozeCount > 0 && (\r\n                  <div className={`text-sm ${settings.isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                    Pospuestas: {snoozeCount}/{MAX_SNOOZE_COUNT}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Snooze notification */}\r\n      {isSnoozing && (\r\n        <div className=\"fixed top-4 right-4 z-40\">\r\n          <Card className=\"p-4 transform animate-bounce\" isDarkMode={settings.isDarkMode}>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-2xl\">🔄</span>\r\n              <span className=\"font-semibold text-white\">Pospuesta 5 minutos</span>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Status indicators */}\r\n      <div className=\"fixed bottom-4 left-1/2 -translate-x-1/2 transform pointer-events-none select-none z-0 space-y-2\">\r\n        {/* Row: Network (left) and Battery (right) */}\r\n        <div className=\"flex gap-2\">\r\n          <div className={`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${settings.isDarkMode ? 'bg-white/10' : 'bg-black/10'} backdrop-blur-lg`}>\r\n            <span className=\"text-blue-400 text-sm\">📶</span>\r\n            <span className={`text-sm ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n              {device.online ? 'Conectado' : 'Sin conexión'}{device.effectiveType ? ` · ${device.effectiveType.toUpperCase()}` : ''}\r\n            </span>\r\n          </div>\r\n\r\n          <div className={`flex items-center gap-2 px-3 py-2 rounded-xl w-44 sm:w-48 whitespace-nowrap ${settings.isDarkMode ? 'bg-white/10' : 'bg-black/10'} backdrop-blur-lg`}>\r\n            <span className=\"text-green-400 text-sm\">🔋</span>\r\n            <span className={`text-sm ${settings.isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n              {device.batteryLevel !== null ? `${device.batteryLevel}%${device.charging ? ' ⚡' : ''}` : '—'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {settings.voiceEnabled && (\r\n          <div className=\"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-600/30 backdrop-blur-lg animate-pulse\">\r\n            <span className=\"text-green-300 text-sm\">🔊</span>\r\n            <span className=\"text-sm text-green-300\">Voz</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Welcome Modal */}\r\n      <WelcomeModal \r\n        isDarkMode={settings.isDarkMode} \r\n        onInstall={handleInstallApp}\r\n        onDismiss={() => {}}\r\n      />\r\n\r\n  {/* Audio element for alarm sounds (src se asigna dinámicamente) */}\r\n  <audio ref={audioRef} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModernAlarmSystem;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport './styles/globals.css';\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById('root') as HTMLElement\r\n);\r\n\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","formatTime","date","is24HourFormat","formatAlarmTime","timeString","hours","minutes","hour","ampm","formatDate","getPriorityColor","priority","isDarkMode","getPriorityLabel","shouldTriggerAlarm","alarm","currentTime","currentTimeStr","currentDay","createQuickAlarm","now","createSnoozeAlarm","activeAlarm","snoozeCount","snoozeDuration","snoozeTime","timeStr","validateAlarmForm","errors","useAlarmManager","alarms","setAlarms","useState","setActiveAlarm","useEffect","savedAlarms","error","interval","triggerAlarm","addAlarm","useCallback","alarmData","newAlarm","prev","updateAlarm","id","deleteAlarm","toggleAlarm","dismissAlarm","useCurrentTime","setCurrentTime","timer","DEFAULT_SETTINGS","useSettings","settings","setSettings","savedSettings","parsed","updateSetting","key","value","theme","volume","useSnooze","maxSnoozeCount","isSnoozing","setIsSnoozing","setSnoozeCount","canSnooze","snooze","resetSnooze","useDeviceStatus","status","setStatus","battery","conn","onBatteryLevel","onBatteryCharging","onConnChange","updateOnline","s","setupBattery","applyBattery","setupConnection","applyConn","WEEK_DAYS","THEMES","THEME_EMOJI","THEME_ACCENT_HEX","THEME_ACCENT_GRADIENT_HEX","THEME_WAVES","ALARM_SOUNDS","QUICK_ALARMS","DEFAULT_ALARM","SNOOZE_DURATION","MAX_SNOOZE_COUNT","ThemeWaves","width","height","className","canvasRef","useRef","canvas","ctx","config","accent","raf","t0","drawRibbons","time","t","color","i","x","y","drawBars","barCount","barW","drawDots","rows","cols","r","drawBezier","cp1y","cp2y","grd","loop","jsx","Button","variant","size","isLoading","themeType","children","disabled","props","baseClasses","themePrimary","themeSecondaryLight","themeGhostLight","variants","sizes","classes","jsxs","Input","label","icon","Card","Modal","open","title","onClose","maxWidthClass","handleKey","DigitalClock","voiceEnabled","getPath","path","KEY","getCustomSounds","raw","saveAll","list","addCustomSound","name","dataUrl","item","AlarmSounds","selectedSound","onSoundChange","fileRef","customList","setCustomList","allOptions","useMemo","mapped","pickFile","_a","onFile","file","resolve","reject","reader","saved","next","handleChange","val","ParticleBackground","count","particlesRef","animationRef","resizeCanvas","animate","particle","THEME_LABELS","ThemeSelect","onChange","setOpen","ref","onDocClick","onKey","gradient","buttonStyle","listStyle","o","selected","clamp","min","max","parse24","match","to24String","hh","mm","toDisplay","h24","use12","h12","fromDisplay","ClockTimePicker","use12Hour","disp","selHour","setSelHour","selMin","setSelMin","selAmpm","setSelAmpm","mode","setMode","rootRef","onEsc","commit","hTmp","mTmp","aTmp","ringColor","textColor","subText","border","radius","center","hourNumbers","_","minuteNumbers","angleForHour","hr","angleForMinute","renderDial","isHours","items","angle","pointerLen","dotSize","Fragment","idx","rad","isSel","basePos","hourBtn","minuteBtn","TimeFormatToggle","is24Hour","onToggle","accentHex","trackBg","borderClr","textClr","WelcomeModal","onInstall","onDismiss","isOpen","setIsOpen","handleDismiss","handleInstall","AlarmItem","onEdit","onDelete","day","AlarmForm","onSave","onCancel","alarmVolume","onVolumeChange","formData","setFormData","setErrors","handleSubmit","validationErrors","updateField","field","toggleDay","days","index","url","option","AlarmList","ModernAlarmSystem","toggleDarkMode","toggleTimeFormat","toggleVoice","setTheme","setVolume","device","showAddForm","setShowAddForm","showQuickAlarms","setShowQuickAlarms","editingAlarm","setEditingAlarm","audioRef","deferredPrompt","setDeferredPrompt","currentTheme","handleAddQuickAlarm","handleSnoozeAlarm","snoozeData","handleSaveAlarm","handleEditAlarm","handleCancelForm","handleBeforeInstallPrompt","handleInstallApp","choiceResult","el","getSoundUrl","soundValue","SOUND_LIST","quick","root","ReactDOM","React","App"],"mappings":"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","x_google_ignoreList":[0,1,2]}